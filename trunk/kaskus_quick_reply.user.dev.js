// ==UserScript==
// @name           Kaskus Quick Reply New
// @icon           http://code.google.com/p/dev-kaskus-quick-reply/logo?cct=110309324
// @namespace      http://userscripts.org/scripts/show/KaskusQuickReplyNew
// @include        *.kaskus.us/thread/*
// @include        *.kaskus.us/post/*
// @include        *.kaskus.us/group/discussion/*
// @description    KQR
// @version        4.0.2b
// @dtversion      120402400
// @timestamp      1333324196069
// @description    provide a quick reply feature, under circumstances capcay required.
// @author         idx(302101; http://userscripts.org/users/idx); bimatampan(founder);
// @license        (CC) by-nc-sa 3.0
// @contributor    s4nji, riza_kasela, p1nky, b3g0, fazar, bagosbanget, eric., bedjho, Piluze, intruder.master, Rh354, gr0, hermawan64, slifer2006, gzt, Duljondul, reongkacun, otnaibef, ketang8keting, farin, drupalorg, .Shana, t0g3, & all-kaskuser@t=3170414
// @include        http://imageshack.us/*
// @include        http://*.imageshack.us/*
// @include        http://imgur.com/*
// @include        http://photoserver.ws/*
// @include        http://lulzimg.com/*
// @include        http://*.imagedum.com/*
// @include        http://imagedum.com/*
//
// -!--latestupdate
//
// v4.0.2b - 2012-04-02 . 1333324196069
//	Fix literal quote tag; fits & set max-width on large images; Thx: [Aa JaMbRoNg]
//	Patch get_quotefrom literal name onleh
//	Patch dismissed after QQ
//	Fix fetch quote after fetch edit
//	Fix partial (untested overall) quickquote
//	Fix custom smiley; reuse old-school filter; Thx: [skycreeper,robertohongo]
//  Fix ordering custom smiley;
//	Fix default value for layout_tpl
//
//
// ==/UserScript==
//
// v4.0.1b - 2012-03-24 . 1332721590952
//	patch donatur w/o capcay
//
// v4.0.0b - 2012-03-24 . 1332711152951
//   init version for livebeta.kaskus.us (*)
//   * !! this QR version is NOT support for old kaskus.us (vbulletin), please use v3.2.7 or v3.2.8 instead
//   * QR v3.x.x will be discontinue and no longer maintained
//   * QR v4 (beta) will be prep for kaskuser in new kaskus, as livebeta is already spread.
//   * QR v4 (beta) with its primary functions is ready to be used but may still have some bugs and fewer feature
//   * QR v4 (beta) is able to quick-edit; exists in discussion group as well.
//
// v3.2.7 - 2011-12-29 . 1325109344500
//   Fix capcat-kaskus; +minor css.
//   Adapt capcat-kaskus -red.
//   Fix endless loop flash_transparenize
//   Fix / Improve countdown timer issue
//   Fix QQ parse youtube inside spoiler
//   Fix transparenize flash embed
//   Fix early strip any tags start-with KSA. Thanks=[p1nky]
//	 Fix missed parsing bbcode that might happen inside [code/]
//
// v0.1 - 2010-06-29
//	 Init
// --
// Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License
// http://creativecommons.org/licenses/by-nc-sa/3.0/deed.ms
// --------------------------------------------------------
(function(){function wa(a){return 1==(""+b.settings.userLayout.config).split(",")[1]?b.settings.userLayout.template.replace(/{message}/gi,a):a}function ka(a,c,b){if(!C(a))return!1;var e,h,f,k=!1;e=a;h={"{title:(.+)}":["b","$1"],"{sctag:(br)}":["br",""]};for(var m in h)if(f=RegExp(m,""),e.match(f)){k=!0;i(c)&&c?(a=e.replace(f,h[m][1]),a=la(a),e="<"+h[m][0]+("br"==h[m][0]?"/":"")+">"+(a&&"br"!=h[m][0]?a+"</"+h[m][0]+">":"")):i(b)&&"editor"==b&&("{sctag:(br)}"==m?e=a.replace(f,"\n"):(h=f.exec(a),f&&
i(h[1])?(a=la(h[1]),e="{title:"+a+"}\n"):e=a+"\n"));break}return k?e:!1}function la(a){var c,b,e,h=a;e='[\\"\\\'][\\s]*(javascript\\:+(?:[^\\\'\\"]+))[\\"\\\'],((?:\\&lt;|<)*script(?:\\&gt;|>)*),((?:\\&lt;|<)*\\/script(?:\\&gt;|>)*),</?(?:[a-z][a-z0-9]*\\b).*(on(?:[^=]+)=[\\"\\\'](?:[^\\\'\\"]+)[\\"\\\']),</?(?:[a-z][a-z0-9]*\\b).+(style=[\\"\\\'](?:\\w+)\\/\\*[.+]*\\*\\/\\w+\\:[^\\"]+\\"),<[s]*>'.split(",");a="";for(b=e.length;""==a||-1!=a.indexOf("1");)for(var a="",f=0;f<b;f++)C(e[f])&&(c=RegExp(e[f],
"ig"),h.match(c)?(a+="1",(c=c.exec(h))&&i(c[1])&&(h=h.replace(c[1],""))):a+="0");return h}function ma(){var a,c={},d;(!b.smbesar||!b.smkecil)&&j.getSmileySet();d=b.smkecil;for(var e=0;e<d.length;e++)a=d[e],c[a[0].replace(/[^\w]/g,"").toString()]=a[1].toString();d=b.smbesar;for(e=0;e<d.length;e++)a=d[e],c[a[0].replace(/[^\w]/g,"").toString()]=a[1].toString();return c}function i(a){return!(null==a&&null!==a)}function I(a){return null==a&&null!==a}function C(a){return"object"!=typeof a&&"function"!=
typeof a}function t(a){return"string"==typeof a&&a?a.replace(/^\s+|\s+$/g,""):""}function ca(a,c,b){x.Ev(c,a,function(a){"function"==typeof b&&b(a)})}function y(a){return document.getElementById(a)}function Q(a){if(a){for(var b="",d=G("div",{},a),a=d.childNodes.length,e=0;e<a;e++)"object"==typeof d.childNodes[e]&&(b+=function(a){return a.replace(/\&\#(\d+);/g,function(a,b){return String.fromCharCode(parseInt(b))})}(d.childNodes[e].nodeValue));try{d.removeChild(d.firstChild)}catch(h){}return b}}function J(a){return document.createTextNode(a)}
function G(a,b,d){var a=document.createElement(a),e;for(e in b)b.hasOwnProperty(e)&&a.setAttribute(e,b[e]);d&&(a.innerHTML=d);return a}function da(a){var b="";if(null==a)return b;for(var d=a.length,e=0;e<d;e++){var h=a.charAt(e);if("&"==h){var f=a.indexOf(";",e+1);if(0<f){e=a.substring(e+1,f);if(1<e.length&&"#"==e.charAt(0))e=e.substring(1),h="x"==e.charAt(0).toLowerCase()?String.fromCharCode(parseInt("0"+e)):String.fromCharCode(parseInt(e));else switch(e){case "nbsp":h=String.fromCharCode(160)}e=
f}}b+=h}return b}function xa(a){var b=[],d,e;for(e=0;e<a.length;++e)d=a.charCodeAt(e),a[e].match(/[\w\[\]\<\>\s\?\'\"\;\:\=\+\-\_\)\(\&\^\$\#\@\*\.\,\!\~\}\{\|\/\r\n]/)?b.push(a[e]):(55296<=d&&56319>=d&&(e++,d=9216+(d-55296<<10)+a.charCodeAt(e)),b.push("&#"+d+";"));return b.join("")}function z(a){if(a)return a.stopPropagation(),a.preventDefault(),a;window.event.returnValue=!1;window.event.cancelBubble=!0;return window.event}function R(a){a=a.target||a;if("object"!=typeof a)return!1;a.setSelectionRange(0,
a.value.length)}function S(){var a=0;self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight);return a}function v(a,b){var d,e=T[a];e&&setTimeout(function(){d=GM_getValue(a,e[0]);if("function"==typeof b)b(d);else if(b)b=d;else return d},0)}function A(a,b,d){var e;T[a]&&setTimeout(function(){e=GM_setValue(a,b);if("function"==typeof d)d(e);else if(d)d=e;else return e},0)}
function na(a,b,d,e){if(!a)return null;var e=[i(e)&&"string"==typeof e[0]?e[0]:";",i(e)&&"string"==typeof e[1]?e[1]:"::"],h,f=q+d,k;v(f,function(d){if(k=d){k=k.split(e[0]);for(h=0;h<k.length;h++)if(k[h].split("=")[0]==a){k.splice(h,1,a+"="+b);A(f,k.join(e[0]));return}k.splice(h,0,a+"="+b);A(f,k.join(e[0]))}else A(f,a+"="+b)})}function oa(a,c,d,e){if(!a)return null;l(c+" inside");var d=[i(d)&&"string"==typeof d[0]?d[0]:";",i(d)&&"string"==typeof d[1]?d[1]:"::"],h,f=0,k=null;v(q+c,function(b){if(b){h=
b.split(d[0]);l(c+" info="+h);for(b=0;b<h.length;b++)if(C(h[b])){var m=h[b].split("=");if(m[0]==a){for(var g=[a],b=m[1].split(d[1]),m=b.length,i=0;i<m;i++)C(b[i])&&g.push(b[i]);k=g;break}}f=1;g&&(k=g);"function"==typeof e&&e(k)}else l(c+" halted"),k=null,f=1});var m=function(){f||b.$w.setTimeout(function(){m()},1)};m()}function ya(){"undefined"==typeof unsafeWindow&&(unsafeWindow=window);"undefined"==typeof GM_log&&(GM_log=function(a){try{unsafeWindow.console.log("GM_log: "+a)}catch(b){}});var a=
!1;window.navigator.appName.match(/^opera/i)&&"undefined"!=typeof window.opera&&(a=!0,b.isOpera=!0,GM_log=window.opera.postError,l("Opera detected...",0));if("undefined"!=typeof GM_setValue){var c;try{c=GM_setValue.toString()}catch(d){c=".staticArgs.FF4.0"}0<c.indexOf("staticArgs")?(b.isGreaseMonkey=!0,b.isFF4=!1,l("GreaseMonkey Api detected"+((b.isFF4=0<c.indexOf("FF4.0"))?" >= FF4":"")+"...",0)):c.match(/not\s+supported/)&&(a=!0,b.isBuggedChrome=!0,l("Bugged Chrome GM Api detected...",0))}else a=
!0,l("No GM Api detected...",0);b.noCrossDomain=b.isOpera||b.isBuggedChrome;if(a){l("Try to recreate needed GM Api...",0);a=null;try{a=typeof unsafeWindow.localStorage}catch(e){a=null}if("object"==a)l("Using localStorage for GM Api.",0),GM_getValue=function(a,b){var c=unsafeWindow.localStorage.getItem(K+a);if(c==null)return b;switch(c.substr(0,2)){case "S]":return c.substr(2);case "N]":return parseInt(c.substr(2));case "B]":return c.substr(2)=="true"}return c},GM_setValue=function(a,b){switch(typeof b){case "string":unsafeWindow.localStorage.setItem(K+
a,"S]"+b);break;case "number":b.toString().indexOf(".")<0&&unsafeWindow.localStorage.setItem(K+a,"N]"+b);break;case "boolean":unsafeWindow.localStorage.setItem(K+a,"B]"+b)}},GM_deleteValue=function(a){unsafeWindow.localStorage.removeItem(K+a)};else if(!b.isOpera||"undefined"==typeof GM_setValue)l("Using temporarilyStorage for GM Api.",0),b.temporarilyStorage=[],GM_getValue=function(a,c){return typeof b.temporarilyStorage[K+a]=="undefined"?c:b.temporarilyStorage[K+a]},GM_setValue=function(a,c){switch(typeof c){case "string":case "boolean":case "number":b.temporarilyStorage[K+
a]=c}},GM_deleteValue=function(a){delete b.temporarilyStorage[K+a]};"undefined"==typeof GM_openInTab&&(GM_openInTab=function(a){unsafeWindow.open(a,"")});"undefined"==typeof GM_registerMenuCommand&&(GM_registerMenuCommand=function(){GM_log("Notice: GM_registerMenuCommand is not supported.")});if(!b.isOpera||"undefined"==typeof GM_xmlhttpRequest)l("Using XMLHttpRequest for GM Api.",0),GM_xmlhttpRequest=function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(a.onreadystatechange)a.onreadystatechange(b);
if(b.readyState==4&&a.onload)a.onload(b)};b.onerror=function(){if(a.onerror)a.onerror(b)};try{b.open(a.method,a.url,true)}catch(c){if(a.onerror)a.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(a.headers)for(name in a.headers)b.setRequestHeader(name,a.headers[name]);b.send(a.data);return b}}GM_getIntValue=function(a,b){return parseInt(GM_getValue(a,b),10)}}function za(a,b){arguments.callee.counter?arguments.callee.counter++:arguments.callee.counter=
1;GM_log("("+arguments.callee.counter+") "+a)}function l(a){b.__DEBUG__&&za(a)}function Z(a){try{a=decodeURIComponent(a)}catch(c){a=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r|\t|\s{2,})/gm,"").replace(/\%/gm,"%25").toString(),l("decodeURI in tokcap_parser failed"),l("secondary result of page = "+a)}var d,e,h=[0,0];(d=/<input\s+(?:(?:[^\=]+).(?:[\'\"][^\'\"]+.)\s+)+name=[\'\"]securitytoken[\'\"]\s+value=[\'\"]([^\'\"]+)/i.exec(a))?(l("old securitytoken="+b._securitytoken),b._securitytoken=h[1]=d[1],
$("#qr-securitytoken").val(b._securitytoken),l("\r\nsecuritytoken updated = "+b._securitytoken+"\r\nsecuritytoken onfield = "+$("#qr-securitytoken").val())):(l("Page is not containing securitytoken, update failed"),l("sdata - page="+a));if(/recaptcha_response_field/i.exec(a))b.settings.recaptcha=!0,l("Forced gvar.settings.recaptcha ON");else if(e=/id=\"hash\".*value=\"(\w+)/im.exec(a))b.settings.recaptcha&&y("#imgcapcay")&&$("#imgcapcay").html('<input id="hash" name="humanverify[hash]" value="'+e[1]+
'" type="hidden">\n'),h[0]=e[1];else if(e=/humanverify[^\>]+.Hitung\:\s?([^\=]+)/i.exec(a)){b.CAPCAT=!0;b.soal_cacats=e[1];var f;if(a=/(\d+)([\Wa-z])(\d+)/i.exec(b.soal_cacats.replace(/\s/g,"")))switch(a[1]=parseInt(a[1]),a[3]=parseInt(a[3]),a[2]){case "+":f=a[1]+a[3];break;case "x":f=a[1]*a[3];break;case ":":f=a[1]/a[3];break;case "-":f=a[1]-a[3]}b.ans_cacats=f}else b.CAPCAT=!1;return d?h:!1}function ea(a){a||(a="");b.$w.setTimeout(function(){var b,d,e=[];d=parseInt($("#preview-image .preview-image-unit").length);
b=0<d?57*d+"px":"100%";0<d?$(" .clickthumb").show():$(" .clickthumb").hide();$("#preview-image").css("width",b);$("#preview-image-outer").css("visibility","visible");$("#preview-image img").each(function(){e.push($(this).attr("src"))});""==a?v(q+"UPLOAD_LOG",function(a){e=a.split(",");a&&0<e.length&&$.each(e,function(){$("#preview-image").append('<div class="preview-image-unit"><img src="'+this+'" width="46" height="46" alt="[img]'+this+'[/img]" /><span title="remove" class="modal-dialog-title-close imgremover"/></div>')})}):
A(q+"UPLOAD_LOG",""+e)},10)}function pa(){if($(".vertical-text").is(":visible")){var a,b=Math.round(parseInt($(".vertical-text").width())/2)+33;a=b/2+10;$(".vertical-text").css("margin-left","-"+b+"px").css("bottom","-"+a+"px").css("visibility","visible")}}function qa(){$(".active").each(function(){$(this).click()});$("#qr_remoteDC").click();u.dismiss()}function Aa(a){var b=0==$(".active").length;!a&&b&&""==$("#tmp_chkVal").val()?u.dismiss():u.init({mode:"quote",msg:'You have selected one or more posts. <a id="sdismiss_quote" href="javascript:;">Deselect</a>',
cb:function(){$("#sdismiss_quote").click(function(){qa()});$("#squick_quote").css("display","none")},btnset:!0})}function M(){try{b.sTryEvent.abort(),b.sTryRequest.abort(),void 0!==b.$w.stop?b.$w.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)}catch(a){}$("#"+p.e.dialogname).css("visibility","hidden");$(".modal-dialog").remove();$("#qr-modalBoxFaderLayer .cnv").remove();$("body").removeClass("hideflow");$("#"+b.tID).focus()}function ra(a,b){var d;g.init();(d=a.attr("alt"))&&
d.match(/_alt_.+/)?(d=a.attr("src"),g.setValue("[IMG]"+d+"[/IMG]"+(!b?" ":""))):"IMG"!=a.get(0).nodeName?(d=a.attr("title"),d=d.split(" "+da("&#8212;")),g.setValue(d[1]+(!b?" ":""))):g.setValue(d+(!b?" ":""));g.pracheck()}function aa(a,b){g.init();b?g.wrapValue(a,'"'+b+'"'):g.wrapValue(a)}function ba(a){g.init();var b,d,e,h,f={quote:"QUOTE",code:"CODE",html:"HTML",php:"PHP",link:"URL",picture:"IMG",spoiler:"SPOILER",transparent:"COLOR",noparse:"NOPARSE",youtube:"YOUTUBE",strike:""},k=function(){g.focus()};
if(I(f[a]))return k();h=g.getSelectedText();e="";if("quote"==a||"code"==a||"html"==a||"php"==a)g.wrapValue(a);else if("spoiler"==a){h=prompt("Please enter the TITLE of your Spoiler:","");if(null==h)return k();g.wrapValue("spoiler",h?h:" ")}else{if("strike"==a){b=""!=h?h:prompt("Please enter Text to strikethrough:","strikethrough");if(null==b)return k();a=function(a){for(var a=a.split(""),b="",c=0;c<a.length;c++)b+=a[c]+"\u0336";return""+b}(b);d=[0,2*b.length];""==h?g.setValue(a,d):g.replaceSelected(a,
d)}else{d=function(a){var a=t(a),b;(b=a.match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i))?a=b?b[1]:"":/^[\d\w-]+$/.test(a)||(a=!1);return a};if(""==h){switch(a){case "transparent":e=a;b=prompt("Please enter the Text to be transparent:","text hantu");break;case "noparse":b=prompt("Please enter Text or/with Tags to be no parsed:","[code]-CODE-[/code]");break;case "link":e=b=prompt("Please enter the URL of your link:","http://");break;case "picture":b=prompt("Please enter the URL of your image:",
"http://");break;case "youtube":b=prompt("Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########","")}if(null==b)return k();"youtube"==a&&(b=d(b));if("link"==a||"picture"==a)b=b.match(/((?:http(?:s|)|ftp):\/\/)(?:\w|\W)+(?:\.)(?:\w|\W)+/)?b:null;if(!b)return k();d=[("["+f[a]+(""!=e?"="+e:"")+"]").length,0];d[1]=d[0]+b.length;g.setValue("["+f[a]+(""!=e?"="+e:"")+"]"+b+"[/"+f[a]+"]",d);return k()}b="youtube"==a?["Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########",
""]:["Please enter the URL of your "+a+":","http://"];b=prompt(b[0],b[1]);if(null==b)return k();switch(a){case "link":e=b;b=h;break;case "youtube":if(b=d(b),!b)return k()}d=[("["+f[a]+(""!=e?"="+e:"")+"]").length,0];d[1]=d[0]+b.length;g.replaceSelected("["+f[a]+(""!=e?"="+e:"")+"]"+b+"[/"+f[a]+"]",d)}return k()}}function sa(a){var b={bold:"B",italic:"I",underline:"U",left:"LEFT",center:"CENTER",right:"RIGHT"};-1!=a.indexOf("align ")&&(a=a.replace("align ",""));I(b[a])||(g.init(),g.wrapValue(b[a],
""),g.pracheck())}function Ba(){$("#title").focus(function(){var a=$(this),b=a.parent();-1!=b.attr("class").indexOf("condensed")&&(b.removeClass("condensed"),a.val(""))}).blur(function(){var a=$(this),c=a.parent();""==t(a.val())&&(a.val(b.def_title),c.addClass("condensed"))}).keydown(function(a){9==a.keyCode&&b.$w.setTimeout(function(){$("#"+b.tID).focus()},50)}).keyup(function(){""!=$(this).val()?$("#close_title").show():$("#close_title").hide()});$("#pick_icon").click(function(){b.$w.clearTimeout(b.sTryEvent);
$("#menu_posticon").slideToggle(120,function(){$("#menu_posticon").is(":visible")?$("#fakefocus_icon").focus():$("#title").focus()})});$("#fakefocus_icon").blur(function(){$("#menu_posticon").is(":visible")&&(b.sTryEvent=b.$w.setTimeout(function(){$("#pick_icon").click()},200))});$("#menu_posticon li a").each(function(){$(this).click(function(){var a=$(this).find("img");$("#hid_iconid").attr("checked",!0);$("#hid_iconid").val($(this).attr("data-rel"));0==a.length?$("#img_icon").hide():$("#img_icon").attr("src",
a.attr("src")).show()})});$("#close_title").click(function(){$("#title").val("").focus();$("#close_title").hide()});$("#mnu_add_title").click(function(){$(".title-message").slideToggle(200,function(){$(".title-message").is(":visible")?$("#title").focus():($("#hid_iconid").val(0),$("#img_icon").attr("src","#").hide(),$("#title").val(""),$("#close_title").hide());$("#hid_iconid").attr("checked",!0)})});$(".fonts ul li a").each(function(){$(this).css("font-family",$(this).attr("title"))});$(".markItUpDropMenu").each(function(){$(this).hover(function(){$(this).find("> ul").show();
var a=$(this);$(document).one("click",function(){$(a).find("> ul").hide()})},function(){b.$w.clearTimeout(b.sTryHoverMenu);$(this).find("> ul").hide()})});$(".markItUpButton a").each(function(){var a=$(this),b=a.attr("class");a.parent();if(b&&-1!=b.indexOf("ev_")){var b=b.replace(/ev_/,""),d,e;switch(b){case "biu":case "align":a.click(function(){e=$(this).attr("title").toLowerCase();sa(e)});break;case "font":a.click(function(){g.init();aa("FONT",$(this).attr("title"));g.pracheck()});break;case "size":a.click(function(){g.init();
aa("SIZE",$(this).attr("title"));g.pracheck()});break;case "color":a.click(function(){g.init();aa("COLOR",$(this).attr("title"));g.pracheck()});break;case "list":a.click(function(){g.init();var a;a="numeric"==$(this).attr("title").toLowerCase().replace(" list","")?"number":"dot";selected=g.getSelectedText();if(""==selected){var b=function(a){var c=prompt("Enter a list item.\nLeave the box empty or press 'Cancel' to complete the list:");g.init();I(a)&&g.setValue("\n");c&&(g.setValue("\n[*]"+c+""),
b(!0))};aa("LIST","number"==a?1:!1);b()}else{for(var c="",e=selected.split("\n"),d=0;d<e.length;d++)t(e[d])&&(c+="\n[*]"+e[d]+"");c="[LIST"+("number"==a?'="1"':"")+"]"+c+"\n[/LIST]";g.replaceSelected(c,[0,c.length])}g.pracheck()});break;case "media":a.click(function(){d=$(this).attr("data-bbcode");ba(d);g.pracheck()});break;case "codes":a.click(function(){d=$(this).attr("data-bbcode");ba(d);g.pracheck()});break;case "quotes":a.click(function(){d=$(this).attr("data-bbcode");ba(d);g.pracheck()});break;
case "misc":a.click(function(){d=$(this).attr("data-bbcode");ba(d);g.pracheck()});break;case "smiley":a.click(function(){$(".box-smiley").is(":visible")?o.toggletab(!1):($(".box-smiley").hasClass("events")||($(".box-smiley .goog-tab").each(function(){$(this);$(this).hover(function(){$(this).addClass("goog-tab-hover")},function(){$(this).removeClass("goog-tab-hover")});$(this).click(function(){var a=$(this).attr("id");a?($(this).parent().find(".goog-tab-selected").removeClass("goog-tab-selected"),
$(this).addClass("goog-tab-selected"),o.load_smiley("tabs-sb-"+a)):o.toggletab(!1)})}),o.init()),o.toggletab(!0))});break;case "upload":a.click(function(){$(".box-upload").is(":visible")?s.toggletab(!1):$(".box-upload").hasClass("events")?s.toggletab(!0):($(".box-upload .goog-tab").each(function(){var a=$(this);a.hover(function(){a.addClass("goog-tab-hover")},function(){a.removeClass("goog-tab-hover")}).click(function(){a.attr("id")||s.toggletab(!1)})}),s.init())})}}})}function Ca(){b.sTryEvent=null;
$("#sbutton").click(function(a){z(a);p.init();p.presubmit()});$("#sadvanced").click(function(a){z(a);1==$("#title").closest("div.condensed").length&&$("#title").val("");$("#formform").submit()});$("#spreview").click(function(a){z(a);p.init();p.preview()});$("#squote_post").click(function(){r.quote($(this),function(){u.init({msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){$("#dismiss_request").click(function(){u.dismiss()})},btnset:!1})},function(){qa();g.lastfocus()})});
$("#scancel_edit").click(function(){r.edit_cancel()});$("#clear_text").click(function(){g.set("");g.pracheck();n.provide_draft();$(this).hide()});$("#qr_chkval").click(function(){Aa($("#tmp_chkVal").val())});$(".sidebar-user").hover(function(){b.sTryMenus=b.$w.setTimeout(function(){$(".sidebar-user .toggle-sidebar-wrap").show()},600)},function(){b.$w.clearTimeout(b.sTryMenus);$(this).find(".toggle-sidebar-wrap").hide()});$("#toggle-avatar, .vertical-text").click(function(){var a=$(this).attr("data-todo");
"avatar"==a?($(".sidebar-user").show(),$(".vertical-text").hide()):"side"==a&&($(".sidebar-user").hide(),$(this).width(),$(".vertical-text").show(),pa());A(q+"HIDE_AVATAR",""+("avatar"!=a?"1":"0"),function(){b.settings.hideavatar=a!="avatar"?"1":"0"});O();g.focus()});$("#settings-button").click(function(){N.init()});b.maxH_editor=parseInt(S())-b.offsetEditorHeight;g.setElastic(b.maxH_editor);$("#"+b.tID).keydown(function(a){var c=a.keyCode||a.keyChar,d=(a.ctrlKey?"1":"0")+","+(a.shiftKey?"1":"0")+
","+(a.altKey?"1":"0");if(!("0,0,0"==d||"0,1,0"==d)&&!(65>c&&13!=c&&9!=c||90<c))d={83:"sbutton",80:"spreview",88:"sadvanced",66:"bold",73:"italic",85:"underline",69:"center",76:"left",82:"right"},a.ctrlKey?-1!=$.inArray(c,[13,66,73,85,69,76,82])&&(z(a),13===c?$("#sbutton").click():sa(d[c])):a.altKey?(z(a),$("#"+d[c]).click()):9===c&&(z(a),b.$w.setTimeout(function(){$("#sbutton").focus()},50))}).keyup(function(){$("#clear_text").toggle(""!==$(this).val())});b.settings.qrdraft&&($("#"+b.tID).keypress(function(a){var c=
a.keyCode;37<=c&&40>=c||($("#qrdraft").get(0)&&g.saveDraft(a),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,n.quick_check())}),n._construct(),n.check(),$("#qrdraft").click(function(){var a,c=$(this);a=$("#"+b.tID).val();c.hasClass("jfk-button-disabled")||("idle"==c.attr("data-state")?(g.init(),a==b.silahken||""==a?g.set(b.tmp_text):g.add(b.tmp_text),$("#draft_desc").html(""),c.html("Saved").attr("data-state","saved"),n.switchClass("jfk-button-disabled"),g.setElastic(b.maxH_editor)):a!=b.silahken&&
""!=a&&n.save())}));Ba();O()}function Da(){var a={id:null,name:"",photo:null,isDonatur:!1},c;c=$("#profile-nav .m-panel .fn");var d=$(".img-wrp .photo");if(c.get(0)&&(a.name=c.html(),c=/\/profile\/(\d+)/.exec(c.attr("href"))))a.id=c[1];a.photo=d.get(0)?d.attr("src"):b.kkcdn+"user/avatar/male.jpg";a.isDonatur=$(".quick-reply").get(0)?!0:!1;return a}function fa(){v(q+"UPDATES",function(a){if(!a||a&&0===a.length)for(var b in T)"string"==typeof b&&A(b,T[b][0])});var a,c={lastused:{},userLayout:{}};v(q+
"LAST_UPLOADER",c.lastused.uploader);c.userLayout.config=[];v(q+"LAYOUT_TPL",c.userLayout.template);v(q+"HIDE_AVATAR",function(a){c.hideavatar="1"==a});v(q+"UPDATES_INTERVAL",function(a){c.updates_interval=Math.abs(a)});v(q+"QR_DRAFT",function(a){c.qrdraft="0"!=a});v(q+"QR_HOTKEY_KEY",function(a){c.hotkeykey=a});v(q+"QR_HOTKEY_CHAR",function(a){c.hotkeychar=a});v(q+"TMP_TEXT",function(a){c.tmp_text=a});v(q+"UPDATES",function(a){c.updates="1"==a});b.$w.setTimeout(function(){v(q+"UPDATES",function(){var e;
oa(b.user.id,"LAYOUT_CONFIG",[null,null],function(a){a||(a=["","0,0"]);c.userLayout.config=a[1].split(",");oa(b.user.id,"LAYOUT_TPL",["<!>","::"],function(a){a||(a=["","[B]{message}[/B]"]);try{c.userLayout.template=decodeURIComponent(a[1]).replace(/\\([\!\:])/g,"$1")}catch(b){l("decodeURI in get setting failed"),c.userLayout.template=a[1].replace(/\\([\!\:])/g,"$1")}})});e=c.updates_interval;e=isNaN(e)||0>=e?1:99<e?99:e;c.updates_interval=e;e=c.hotkeykey;c.hotkeykey=e&&e.match(/^([01]{1}),([01]{1}),([01]{1})/)?
e.split(","):["1","0","0"];e=t(c.hotkeychar);c.hotkeychar=!e.match(/^[A-Z0-9]{1}/)?"Q":e.toUpperCase();b.tmp_text=c.tmp_text;""!=b.tmp_text&&!c.qrdraft&&(A(q+"TMP_TEXT",""),b.tmp_text=null);delete c.tmp_text;a=!0;b.settings=c;b.settings.done=1;ta()})},5);var d=function(e){if(a)return e=c;b.$w.setTimeout(function(){d(e)},1)};return d()}function ta(){b.upload_sel={imagedum:"imagedum.com",photoserver:"photoserver.ws",lulzimg:"lulzimg.com/homelulz",imageshack:"imageshack.us",imgur:"imgur.com"};b.uploader=
{imagedum:{src:"imagedum.com",noCross:"1"},imageshack:{src:"imageshack.us",post:"post.imageshack.us/",ifile:"fileupload",hids:{refer:"http://imageshack.us/?no_multi=1",uploadtype:"on"}},imgur:{src:"imgur.com",noCross:"1"},photoserver:{src:"photoserver.ws",noCross:"1"},lulzimg:{src:"lulzimg.com/homelulz",noCross:"1"}};try{if(b.settings.lastused.uploader&&(b.upload_tipe=b.settings.lastused.uploader),I(b.upload_sel[b.upload_tipe]))b.upload_tipe="kaskus"}catch(a){b.upload_tipe="kaskus"}}function ua(){$("#formqr").is(":visible")?
($("#qrtoggle a").removeClass("down"),$("#dumy-title").fadeOut("fast")):($("#qrtoggle a").addClass("down"),$("#dumy-title").fadeIn())}function O(a){var c=$(".post-wrapper").find(".entry-content").width()+($(".sidebar-user").is(":visible")?0:172)+38;$(".qr-editor-wrap").css("width",c+"px");var c=parseInt(S()),d=0,a=a?a:$(".modal-dialog").hasClass("static_width")?$(".modal-dialog").width():b.bodywidth-100;0<$(".modal-dialog").length&&($(".modal-dialog").css("top",b.offsetLayer+"px").css("width",a+"px").css("left",
document.documentElement.clientWidth/2-(a/2+50)+"px"),d=c/2-$(".modal-dialog").height()-5,a=305,$(".capcay-dialog").css("top",d+"px").css("width",a+"px").css("left",document.documentElement.clientWidth/2-(a/2+50)+"px"),$("#box_preview").css("max-height",c-b.offsetMaxHeight-b.offsetLayer+"px"));b.maxH_editor=c-b.offsetEditorHeight;g.setElastic(b.maxH_editor,1)}function Ea(){var a,c=b.thread_type;(a=/hash=(.+)/i.exec($('.m-panel a[href*="/logout/"]').attr("href")))?(a=a?a[1]:!1,b._securitytoken=""+
a,$("#formform").attr("action",b.domain+("forum"==c?"post_reply":"group/reply_discussion")+"/"+b.pID+("forum"==c?"/?post=":"")),$("#qr-securitytoken").val(b._securitytoken),$("#qr-content-wrapper .message").css("overflow","visible"),"group"==c&&($("#qr-discussionid").val(b.discID),$("#qr-groupid").val(b.pID)),$("body").prepend('<div id="qr-modalBoxFaderLayer" class="modal-dialog-bg" style="display:block; visibility:hidden;"></div>')):alert("securitytoken not found")}function Fa(){$(".quote").each(function(){$(this).click(function(a){z(a);
$(".closed-button").get(0)?alert("Sorry! This thread is closed!"):(-1!=$("a.close").attr("class").indexOf("closed")&&$("a.close").click(),-1!=$(".notification:eq(1)").attr("class").indexOf("show-panel")?$(this).removeClass("show-panel"):$(".sign-reg").find(".m-panel").slideToggle(170,function(){$(this).is(":visible")&&($(".notification:eq(1)").addClass("show-panel"),$("#username").focus().delay(500))}))})});$("#loginform").submit(function(a){z(a);$(this).hide();$("#login_spinner").show().find(".mf-spinner").removeClass("transp");
$.post($(this).attr("action"),$(this).serialize(),function(a){JSON.stringify(a).match(/<a\s+href=[\'\"\\]+([^\'\"]+)[^>]+.click\shere/i)?b.$w.setTimeout(function(){$("#login_spinner").find("p").html("Cekibrot Gan....");b.$w.location.reload(!1)},1E3):($("#login_spinner").hide(),$("#loginform").show(),$("#logwarn").html("Wrong user or password"))})}).after('<div style="display:none;" id="login_spinner"><div class="mf-spinner transp chrome-spinner-delay"></div><p>'+b.loging_in+"</p></div>").prepend('<div id="logwarn"/>')}
function U(a,c){var d,e,h,f,k,m,g;e=$(a).closest("div.post-wrapper");k=$("#"+b.qID).parent().attr("id")!=e.attr("id");m=!$("#formqr").is(":visible");g=350;k?$("#"+b.qID).hide():g=100;h=$(a).offset().top;f=2*Math.floor(b.$w.innerHeight/5);d=0;$("html:not(:animated),body:not(:animated)").animate({scrollTop:h-f},g,function(){!k&&!m?d||($("#"+b.tID).focus(),"function"==typeof c&&c(a),d=1):(e.append($("#"+b.qID)),m&&ua(),$("#formqr").show(),$("#"+b.qID).slideDown(220,function(){d||($("#"+b.tID).focus(),
"function"==typeof c&&c(a),d=1)}))})}function ga(){$("#qr-content-wrapper").closest(".post-wrapper").find(".quote").click()}function ha(){V(j.getCSS());b.bodywidth=$("#content-body").width();b.user=Da();if(""==b.user.name||null==b.user.id||$(".closed-button").get(0))l('Not login, get the "F"-out'),Fa();else{b.thread_type=location.href.match(/\.kaskus\.us\/group\/discussion\//)?"group":"forum";b.last_postwrap=$(".last").attr("id");b.pID=function(a){var c,h=b.thread_type;"group"==h&&(c=/\/group\/discussion\/(\d+)\//i.exec(location.href),
b.discID=c?c[1]:null);return(c="forum"==h?/\/post_reply\/(\d+)/.exec(a):/\/reply_discussion\/(\d+)/.exec(a))?c[1]:!1}($(".new-reply").attr("href"));fa(b.settings);var a=0,c=function(){!b.settings.done&&50>a?(b.$w.setTimeout(function(){c()},100),a++):b.$w.setTimeout(function(){$(".quick-reply").empty().remove();$(".button_qr").each(function(){$(this).remove()});$("#"+b.last_postwrap).append(j.getTPL());$(".action-button:eq(1)").css("position","absolute");$("#markItUpReply-messsage").show();"forum"==
b.thread_type?($(".quote").each(function(){var a=$(this).parent();$(this).before('<div class="qqwrap" style="position:relative;display:inline;" />');$(this).appendTo($(a).find(".qqwrap"));$(this).click(function(a){z(a);a=$(this);1==b.edit_mode?r.edit_cancel(!1)?U(a):g.focus():U(a)}).css("padding-right","30px").after('<a href="javascript:;" style="" title="Quick Quote" class="quick-quote" href="'+$(this).attr("href")+'"><img alt="" src="http://icons.iconarchive.com/icons/custom-icon-design/weather/24/lightning-icon.png"/></a>')}),
$(".quick-quote").each(function(){$(this).click(function(a){z(a);var a=function(){U(c,function(a){var b,c;if(c=$(a).closest(".post-entry").find(".entry-content").html())c=c.replace(/(?:[\r\n\t\v\f]+)+/g,""),b=c.indexOf("<\!--reas"),c=c.substring(0,b),H.init(a);l("buff ="+c);g.focus()})},c=$(this);1==b.edit_mode?r.edit_cancel(!1)?a():g.focus():a()})}),$(".multi-quote").each(function(){$(this).click(function(a){z(a);b.sTry_canceling?delete b.sTry_canceling:1==b.edit_mode?r.edit_cancel(!1)?$("#qr_chkcookie").click():
(b.sTry_canceling=1,$(this).click()):$("#qr_chkcookie").click()})})):$(".post-entry").each(function(){var a=$(this).find(".entry-footer");$(a).get(0)||$(this).append('<div class="entry-footer" />');$(a).append('<a href="javascript:;" class="button quote reply"><img src="'+b.kkcdn+'css_v0.1/img/icon/quote.png" alt="" /> Reply</a>');$(this).find(".reply").click(function(a){z(a);var c=$(this),a=function(){U(c,function(){var a,e,d,Y=$(c).closest(".post-wrapper");Y.attr("id")&&(a=b.domain+$(Y).find("a.fn").attr("href").substring(1),
e=$(Y).find("a.fn").html(),d=$(Y).attr("id"));g.init();g.set("[URL="+b.domain+"group/discussion/"+b.discID+"/"+b.pID+"/"+d.replace(/gm/gi,"")+"/1/gm/?#"+d+"][B]re[/B][/URL]: [URL="+a+"]@"+e+"[/URL]\n");window.setTimeout(function(){R($("#"+b.tID).get(0))},20)})};1==b.edit_mode?r.edit_cancel(!1)?a():g.focus():a()})});$(".edit").each(function(){$(this).click(function(a){z(a);r.edit($(this),function(){u.init({mode:"quote",msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){$("#dismiss_request").click(function(){u.dismiss()})},
btnset:false})},function(){u.init({mode:"edit",msg:"You are in <b>Edit-Mode</b>",btnset:true});g.lastfocus()});U($(this))})});$(".markItUpHeader a").each(function(){$(this).attr("href","javascript:;");$(this).click(function(a){z(a)})});Ea();Ca();$(document).ready(function(){$("#qrtoggle a").removeClass("pull-disabled").addClass("pull");$("#qrtoggle").removeClass("pull-button-disabled").addClass("pull-button");$("#qrtoggle a").click(function(){$("#formqr").toggle(180,function(){ua();$("#"+b.tID).focus()})});
$(b.$w).keydown(function(a){var c,e,d=a.keyCode,g=0,i=(a.ctrlKey?"1":"0")+","+(a.shiftKey?"1":"0")+","+(a.altKey?"1":"0");if(d==27&&$("#"+p.e.dialogname).is(":visible")&&$("#"+p.e.dialogname).css("visibility")=="visible"){z(a);M();$("#"+b.tID).focus()}else if(!(i=="0,0,0"||i=="0,1,0")&&!(d<65||d>90)){c=b.settings.hotkeykey.toString();e=!b.isOpera?"0,0,1":"1,0,1";switch(i){case c:c=b.settings.hotkeychar.charCodeAt();if(d==c){g=1;ga()}break;case e:if(d==81){g=1;ga();$("#squote_post").click()}break;
case "1,1,0":if(d==81){g=1;$("#sdismiss_quote").click()}else if(d==68&&!$("#qrdraft").hasClass("jfk-button-disabled")){g=1;ga();$("#qrdraft").click()}}g&&z(a)}}).resize(function(){var a=$("#content-body").width();b.bodywidth=a;b.maxH_editor=parseInt(S())-b.offsetEditorHeight;O()});if(t(b.tmp_text)&&b.settings.qrdraft){n.switchClass("gbtn");n.title("continue");$("#draft_desc").html('<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available');$("#draft_desc #clear-draft").click(function(){n.clear()})}window.setTimeout(function(){pa()},
888);!b.noCrossDomain&&b.settings.updates&&P==0&&window.setTimeout(function(){D.check()},2E3);var a,c;c=$("#reply-messsage");a=$(c).width();c=$(c).closest("fieldset").width();if(a*2-10<c&&confirm("Your QR CSS bulk seems not loaded properly\nReload & refetch them now?"))if(b.isOpera)V(b.kqr_static+b.css_default+"?"+Math.random().toString().replace(/0\./g,"").substring(0,6),"direct_css",true);else{E.engage=false;$("#xhr_css").remove();$("#qr-content-wrapper").hide();window.setTimeout(function(){ia(true,
function(){location.reload(false)})},1)}W(j.getSCRIPT())})},50)};c()}}function Ga(){var a,c,d=function(){var a,c=!1;ta();for(var d in b.uploader)if((a=b.uploader[d].src||null)&&-1!=self.location.href.indexOf(a)){c=""+d;break}return c}(),e="";if(top!==self){switch(d){case "imageshack":e='h1,#top,.reducetop,#panel,#fbcomments,#langForm,.menu-bottom,#done-popup-lightbox,.ad-col{display:none!important}.main-title{border-bottom:1px dotted rgb(204, 204, 204);padding:5px 0 2px 0;margin:5px 0 2px 0}.right-col input{padding:0;width:99%;font-family:"Courier New";font-size:8pt}';
break;case "imgur":e="div#logo{display:none!important}#content{margin-top:15px}";break;case "photoserver":e="body,.content{margin:0!important;margin-top:35px!important}body>img,#topbar{top:0!important}body{background-color:#fff}#loginbar{top:38px!important;display:block}#footer{padding:0}#overlay .content{top:3px!important}#overlay{position:absolute!important}";break;case "lulzimg":e="#logo,#histats_counter{display:none}";break;case "imagedum":e="#FFN_imBox_Container, div#full > div:last-child,#wrapper p:first-child,.addthis_toolbox{display:none!important}.nav{position:absolute;top:0;z-index:99}#content{position:absolute;top:0}"}""!=
e&&V(e,"inject_host_css",!0);a=B('//input[@wrap="off"]',null,!0);"imageshack"==d&&a&&(b.sITryKill=window.setInterval(function(){if(B(".ui-dialog")){clearInterval(b.sITryKill);var d;c=B('//div[contains(@style,"z-index")]',null);if(d=c.snapshotLength)for(var e=0;e<d;e++)x.remove(c.snapshotItem(e));B("#ad")&&x.remove(B("#ad"));window.setTimeout(function(){a.removeAttribute("disabled");var b=a.parentNode.parentNode;if(c=B(".tooltip",b))c[0].innerHTML=c[1].innerHTML="",x.add(a,b);var d,b=function(a){return G("div",
{"class":"main-title"},a)},e=function(a){var b=a.lastIndexOf("."),b=a.substring(0,b)+".th"+a.substring(b);return"[URL="+a+"]"+("[IMG]"+b+"[/IMG]")+"[/URL]"};if(c=B(".right-col",null)){c[0].innerHTML="";d=b("Direct Link");x.add(d,c[0]);d=G("input",{type:"text",value:a.value,readonly:"readonly","class":"readonly"});ca("focus",d,function(a){R(a)});x.add(d,c[0]);try{d.focus(),R(d)}catch(h){}d=b("BBCode IMG");x.add(d,c[0]);d=G("input",{type:"text",value:"[IMG]"+a.value+"[/IMG]",readonly:"readonly","class":"readonly"});
ca("focus",d,function(a){R(a)});x.add(d,c[0]);d=b("BBCode Thumbnail");x.add(d,c[0]);d=G("input",{type:"text",value:e(a.value),readonly:"readonly","class":"readonly"});ca("focus",d,function(a){R(a)});x.add(d,c[0])}},500)}else 0<max||clearInterval(b.sITryKill)},50));return!1}}function ia(a,c){!$("#xhr_css").get(0)&&b.ix<b.mx?(E.engage||(E.init(),E.engage=1),b.$w.setTimeout(function(){ia(a,c)},200),b.ix++):(b.ix=0,E.engage=null,a||ha(),"function"==typeof c&&c())}function va(){"undefined"==typeof unsafeWindow.jQuery&&
b.ix<b.mx?(b.$w.setTimeout(function(){va()},200),b.injected||(W(location.protocol+"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"),b.injected=!0),b.ix++):"undefined"!=typeof unsafeWindow.jQuery&&($=unsafeWindow.$=unsafeWindow.jQuery=unsafeWindow.jQuery.noConflict(!0),b.ix=0,b.isOpera?(V(b.kqr_static+b.css_default,"direct_css",!0),window.setTimeout(function(){ha()},350)):v(q+"CSS_BULK",function(a){a?E.set_css(a,ha):ia()}))}var b=function(){},P=0;b.sversion="v4.0.2b";b.scriptMeta={timestamp:1333324196069,
dtversion:120402400,scriptID:80409,titlename:"Quick Reply"+(0!==P?"+":"")};b.scriptMeta.fullname="Kaskus "+b.scriptMeta.titlename;b.__DEBUG__=1;b.$w=window;var T={KEY_SAVE_SAVED_AVATAR:[""],KEY_SAVE_LAST_UPLOADER:[""],KEY_SAVE_UPDATES:["1"],KEY_SAVE_UPDATES_INTERVAL:["1"],KEY_SAVE_HIDE_AVATAR:["1"],KEY_SAVE_DYNAMIC_QR:["1"],KEY_SAVE_QR_DRAFT:["1"],KEY_SAVE_CUSTOM_SMILEY:[""],KEY_SAVE_QR_HOTKEY_KEY:["1,0,0"],KEY_SAVE_QR_HOTKEY_CHAR:["Q"],KEY_SAVE_LAYOUT_CONFIG:[""],KEY_SAVE_LAYOUT_TPL:[""],KEY_SAVE_TMP_TEXT:[""],
KEY_SAVE_QR_LastUpdate:["0"],KEY_SAVE_QR_LASTPOST:["0"],KEY_SAVE_UPLOAD_LOG:[""],KEY_SAVE_CSS_BULK:[""]},q="KEY_SAVE_",K="GM_",W=function(a,c,d){var e=G("script",{type:"text/javascript"});i(c)&&C(c)&&e.setAttribute("id",c);a.match(/^https?:\/\/.+/)?e.setAttribute("src",a):e.appendChild(J(a));if(i(d)&&d)document.body.insertBefore(e,document.body.firstChild);else{var h=document.getElementsByTagName("head");i(h[0])&&"HEAD"==h[0].nodeName?b.$w.setTimeout(function(){h[0].appendChild(e)},100):document.body.insertBefore(e,
document.body.firstChild)}return e},V=function(a,c,d){var e,h;a.match(/^https?:\/\/.+/)?e=G("link",{type:"text/css",rel:"stylesheet",href:a}):(e=G("style",{type:"text/css"}),e.appendChild(J(a)));i(c)&&C(c)&&e.setAttribute("id",c);i(d)&&d?document.body.insertBefore(e,document.body.firstChild):(h=document.getElementsByTagName("head"),i(h[0])&&"HEAD"==h[0].nodeName?b.$w.setTimeout(function(){h[0].appendChild(e)},100):document.body.insertBefore(e,document.body.firstChild));return e},B=function(a,b,d){if(b&&
"string"==typeof b&&(b=B(b,null,!0),!b))return null;if(!a)return!1;if("object"==typeof a)return a;b=b||document;return"/"==a[0]||"."==a[0]&&"/"==a[1]?d?document.evaluate(a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:document.evaluate(a,b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null):"."==a[0]?b.getElementsByClassName(a.substr(1)):b.getElementById("#"==a[0]?a.substr(1):a.substr(0))},x={g:function(a){return!a?!1:C(a)?document.getElementById(a):a},add:function(a,b){a=this.g(a);
b=this.g(b);a&&b&&b.appendChild(a)},remove:function(a){(a=this.g(a))&&a.parentNode&&a.parentNode.removeChild(a)},Ev:function(){if(window.addEventListener)return function(a,b,d,e){"object"==typeof a&&this.g(a).addEventListener(b,function(a){d(a)},I(e)?!1:e)};if(window.attachEvent)return function(a,b,d){this.g(a).attachEvent("on"+b,function(){d.call(this.g(a),window.event)})}}()},j={mCls:["markItUpButton","markItUpDropMenu",'<li class="markItUpSeparator">---------------</li>'],menuFont:function(a){var b=
j.mCls,d="Arial,Arial Black,Arial Narrow,Book Antiqua,Century Gothic,Comic Sans MS,Courier New,Georgia,Impact,Lucida Console,Times New Roman,Trebucher,Verdana".split(","),e,h=d.length;e='<li class="'+b[0]+" "+b[0]+a+" fonts "+b[1]+'"><a title="Fonts" href="">Fonts</a><ul>';for(var f=0;f<h;f++)e+='<li class="'+b[0]+" "+b[0]+a+"-"+(f+1)+" font-"+d[f].toLowerCase()+'"><a title="'+d[f]+'" class="ev_font" href="">'+d[f]+"</a></li>";return e+"</ul></li>"},menuSize:function(a){var b=j.mCls,d;d='<li class="'+
b[0]+" "+b[0]+a+" size "+b[1]+'"><a title="Size" href="">Size</a><ul>';for(var e=1;7>=e;e++)d+='<li class="'+b[0]+" "+b[0]+a+"-1 size-"+e+'"><a title="'+e+'" class="ev_size" href="">'+e+"</a></li>";return d+"</ul></li>"},menuColor:function(a){var b=j.mCls,d,e=j.getSetOf("color");d='<li class="'+b[0]+" "+b[0]+a+" "+b[1]+'"><a title="Colors" href="">Colors</a>';d+='<ul class="markItUpButton'+a+'-wrapper">';for(hex in e)a=e[hex],d+='<li class="'+b[0]+'"><a title="'+a+'" class="ev_color"  style="width:0; background-color:'+
hex+'" href="">'+a+"</a></li>";return d+"</ul></li>"},menuBIU:function(a){for(var b=j.mCls,d=["Bold","Italic","Underline"],e="",h=d.length,f=0;f<h;f++)e+='<li class="'+b[0]+" "+b[0]+(f+a)+'"><a title="'+d[f]+'" class="ev_biu" href="">'+d[f]+"</a></li>";return e},menuAlign:function(a){for(var b=j.mCls,d=["Align Left","Align Center","Align Right"],e="",h=d.length,f=0;f<h;f++)e+='<li class="'+b[0]+" "+b[0]+(a+f)+'"><a title="'+d[f]+'" class="ev_align" href="">'+d[f]+"</a></li>";return e},menuList:function(a){for(var b=
j.mCls,d=["Numeric list","Bulleted list"],e="",h=d.length,f=0;f<h;f++)e+='<li class="'+b[0]+" "+b[0]+a[f]+'"><a title="'+d[f]+'" class="ev_list"  href="">'+d[f]+"</a></li>";return e},menuMedia:function(a){var b,d=j.mCls,e=["Insert Link","Insert Picture","Embedding Youtube"],h="",f=e.length;b=["link","picture","youtube"];for(var k=0;k<f;k++)h+='<li class="'+d[0]+" "+d[0]+a[k]+'"><a title="'+e[k]+'" class="ev_media" data-bbcode="'+b[k]+'" href="">'+e[k]+"</a></li>";return h},menuCode:function(a){var b,
d=j.mCls,e=["CODE","HTML","PHP"],h="",f=e.length;b=["code","html","php"];for(var k=0;k<f;k++)h+='<li class="'+d[0]+" "+d[0]+a[k]+'"><a title="Wrap ['+e[k]+'] around text" class="ev_codes" data-bbcode="'+b[k]+'" href="">Wrap ['+e[k]+"] around text</a></li>";return h},menuQuote:function(a){var b,d=j.mCls,e=["QUOTE","SPOILER","TRANSPARENT","NOPARSE"],h="",f=e.length;b=["quote","spoiler","transparent","noparse"];for(var k=0;k<f;k++)h+='<li class="'+d[0]+" "+d[0]+a[k]+'"><a title="Wrap ['+e[k]+'] around text" class="ev_quotes" data-bbcode="'+
b[k]+'" href="">Wrap ['+e[k]+"] around text</a></li>";return h},menuIcon:function(){var a=j.mCls,c="",d=0,e={None:null,Post:"posting.gif",Video:"video.png",Lightbulb:"lightbulb.png",Exclamation:"exclamation.png",Star:"star.png",Cool:"smile3.png",Smile:"smile5.png",Angry:"repost.png",Unhappy:"smile4.png",Talking:"smile2.png",Heart:"heart.png",Wink:"smile.png","Thumbs down":"thumbsdown.png","thumbs up":"thumbsup.png"},c='<ul id="menu_posticon" style="display:none;" class="menu-post-icon" >';for(icon in e)c+=
'<li class="'+a[0]+' fonts "><a title="" href="javascript:;" data-rel="'+d+'">'+(e[icon]?'<img src="'+b.domain+"img/icons/new/"+e[icon]+'" border=0>'+icon:"No Icon")+"</a></li>",d++;return c+"</ul>"},getTPL:function(){var a=j.mCls[2],c=j.mCls[0],d='<span class="inner_title">'+b.inner.reply.title+'</span> &nbsp;<a class="qrlink" target="_blank" href="'+(0==P?"http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID.toString():"https://addons.mozilla.org/en-US/firefox/addon/kaskus-quick-reply/")+
'">'+b.sversion+"</a>";return'<div id="'+b.qID+'"><div class="quick-reply"><div class="qr-reply-header"><div id="dumy-title" class="reply-header" style="display:none;">'+d+'</div><span id="draft_desc" style="position:absolute; right:122px; top:5px; font-size:11px; color:#999; padding:1px 3px;">blanky</span><div id="qrdraft" class="goog-inline-block jfk-button jfk-button-standard jfk-button-disabled" style="position:absolute; z-index:31; right:35px; top:1px; height:25px; line-height:25px; min-width:50px!important;">Draft</div><div id="qrtoggle" class="pull-button-disabled" style="left:97%!important; top:1px; z-index:32;"><a title="Toggle QR" class="pull-disabled" href="javascript:;">pull</a></div></div><div id="formqr"><div id="notify_wrap" class="icon-button vcard" style="display:none; position:relative;"><div class="qr-m-panel" style="display:block;"><a id="scancel_edit" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="display:none;">Cancel Edit</a><span id="quote_btnset" style="display:none;"><a id="squote_post" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="">Quote</a>&nbsp;&nbsp;<a id="squick_quote" class="goog-inline-block jfk-button jfk-button-standard btnlink g_warn" style="display:none">Quick Quote</a></span></div><div class="g_notice" id="notify_msg" style="display: block;"></div></div><form method="post" id="formform" name="postreply" action="#"><input type="hidden" value="" name="securitytoken" id="qr-securitytoken"/><input type="hidden" value="" name="recaptcha_challenge_field" id="qr-recaptcha_challenge_field"/><input type="hidden" value="" name="recaptcha_response_field" id="qr-recaptcha_response_field"/>'+
("group"==b.thread_type?'<input type="hidden" value="" name="discussionid" id="qr-discussionid" /><input type="hidden" value="" name="groupid" id="qr-groupid" />':"")+'<input type="hidden" value="Preview Post" name="preview"/><input type="hidden" value="1" name="parseurl"/><input type="hidden" value="9999" name="emailupdate"/><input type="hidden" value="0" name="folderid"/><input type="hidden" value="0" name="rating"/><input id="hid_iconid" type="radio" name="iconid" value="0" style="position:absolute!important; z-index:-1; top:40px; width:1px; cursor:none;"/><fieldset><div class="reply-message"><div class="message"><div class="markItUp" id="markItUpReply-messsage" style="display:none!important;"><div class="markItUpContainer"><div class="title-message" style="display:none;"><input id="fakefocus_icon" type="text" style="position:absolute!important; color:transparent; background:transparent; left:5px; top:20px; width:1px; border:0px;" value=""/><div class="title-message-sub condensed"><img id="img_icon" class="modal-dialog-title-imgicon" src="#" style="display:none;"/><ul class="ulpick_icon"><li id="pick_icon" class="modal-dialog-title-pickicon markItUpButton markItUpDropMenu" title="Pick Icon"/>'+
j.menuIcon()+'</li></ul><input id="title" type="text" class="twt-glow" value="'+b.def_title+'" name="title" title="(optional) Message Title" style="width:82%;"/><span id="close_title" class="modal-dialog-title-close" title="Remove (optional) title-message" style="display:none;"/></div></div><div class="markItUpHeader"><ul><li class="'+c+" "+c+'96 "><a id="mnu_add_title" title="Add Title Message" href="">Add Title Message</a></li>'+a+j.menuBIU(1)+a+j.menuAlign(4)+a+j.menuList([8,7])+a+j.menuFont(19)+
j.menuSize(20)+j.menuColor(95)+a+j.menuMedia([11,14,22])+a+'<li class="'+c+" "+c+'99 "><a class="ev_smiley" title="Smiley List " href="">Smiley List </a></li><li class="'+c+" "+c+'98 "><a class="ev_upload" title="Uploader " href="">Uploader </a></li>'+a+j.menuCode([16,50,51])+a+j.menuQuote([15,21,97,52])+a+'<li class="'+c+" "+c+'53 "><a class="ev_misc" title="Strikethrough text" href="" data-bbcode="strike">Strikethrough text</a></li></ul></div><div style="clear:left; position:relative;"><div class="vertical-text toggle-sidebar" data-todo="avatar" style="display:'+
(b.settings.hideavatar?"":"none")+';"><span class="img-wrp"><img class="photo" src="'+b.user.photo+'" border="0" style=""/></span>'+b.user.name+(b.user.isDonatur&&"group"!=b.thread_type?' <span class="logged-isdonat">[$]</span>':"")+'</div><div class="sidebar-user" style="display:'+(b.settings.hideavatar?"none":"")+'"><div class="toggle-sidebar-wrap" style="display:none"><span id="toggle-avatar" class="toggle-sidebar" data-todo="side">&lt;&lt;</span>&nbsp;<a class="change-avatar" href="'+b.domain+
'user/editprofile" target="_blank">change</a></div><img src="'+b.user.photo+'" border="0" style="height:100px"/><div id="logged-username"><a href="'+b.domain+"profile/"+b.user.id+'">'+b.user.name+(b.user.isDonatur?' <span class="logged-isdonat">[$]</span>':"")+'</a></div></div><div class="qr-editor-wrap" style=""><span id="clear_text" class="modal-dialog-title-close" title="Clear Editor" style="display:none;right:10px" /><textarea id="'+b.tID+'" rows="50" name="message" class="markItUpEditor qr-editor twt-glow" style="width:100%;"/><div></div></div></div></div></div><div class="cont-bottom"><div class="thread-prevnext reply-header" style="display:"><div class="box-bottom" style="display:none"><div class="box-smiley" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tkecil" class="goog-tab goog-tab-selected">Kecil</div><div style="-moz-user-select:none" id="tbesar" class="goog-tab">Besar</div><div style="-moz-user-select:none" id="tcustom" class="goog-tab green-tab">Custom</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content" class="goog-tab-content"><div id="tabs-loader" class="mf-spinner"></div><div id="tabs-content-inner"></div></div></div><div class="box-upload" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tupload" class="goog-tab green-tab goog-tab-selected">Uploader</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content-upl" class="goog-tab-content"><div id="tabs-content-upl-inner" style="position:relative;" /></div></div></div><div class="button-bottom"><input id="qr_chkval" type="button" style="display:none;" value="cv" /><input id="qr_chkcookie" type="button" style="display:none;" value="cq" onclick="chkMultiQuote()" /><input id="qr_remoteDC" type="button" style="display:none;" value="dc" onclick="deleteMultiQuote()" /><div id="settings-button" title="Settings"></div><div class="qr-title" style="display:inline-block">'+
d+'</div><input type="submit" tabindex="1" value="'+b.inner.reply.submit+'" name="sbutton" id="sbutton" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'"/><input type="submit" tabindex="2" value="Preview Post" name="spreview" id="spreview" class="goog-inline-block jfk-button jfk-button-standard"/><input type="submit" tabindex="3" value="Go Advanced" name="sadvanced" id="sadvanced" class="goog-inline-block jfk-button jfk-button-standard"/>'+(b.__DEBUG__?
"<br/>":"")+'<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="tmp_chkVal" />\n\n<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="current_ckck" />\n\n</div></div></div></fieldset></form></div></div></div>'},getBOX:function(){return'<div id="modal_dialog_box" class="modal-dialog" style="left: 523px; top: 181px; display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Preview '+(b.edit_mode?b.inner.edit.title:b.inner.reply.title)+'</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_preview_title"></h1><div id="box_preview" class="entry-content" style=""><img src="'+
b.B.throbber_gif+'" border=0/>&nbsp;<i style="font-size:10px">loading...</i></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:none;"><button id="box_prepost" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'" style="-moz-user-select: none;">'+(b.edit_mode?b.inner.edit.submit:"Post")+'</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},
getBOX_RC:function(){return'<div id="modal_capcay_box" class="modal-dialog capcay-dialog" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">'+(b.edit_mode?"Saving Changes":"Image Verification")+'</span><span class="modal-dialog-title-close popbox"/></div><input id="hidrecap_btn" value="reCAPTCHA" type="button" style="display:" onclick="showRecaptcha(\'box_recaptcha_container\');" class="ninja" /><input id="hidrecap_reload_btn" value="reload_reCAPTCHA" type="button" style="display:" onclick="Recaptcha.reload();" class="ninja" /><div id="box_wrap" class="ycapcay">'+
(b.edit_mode?"":'<div><label for="recaptcha_response_field">Prove you\'re not a robot</label></div>')+'<div id="box_response_msg" class="ghost"></div><div id="box_recaptcha_container" class="entry-content"><div id="box_progress_posting" class="activate-disabled "></div><div class="recaptcha-widget " id="recaptcha_widget">'+j.getCUSTOM_ReCapcay()+'</div></div><div id="cont_button" class="modal-dialog-buttons" '+(b.edit_mode?' style="visibility:hidden;"':"")+'><button id="box_post" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Post</button></div></div></div>'},
getCUSTOM_ReCapcay:function(){return'<div id="recaptcha_image" style="width: 300px; height: 57px;"><img width="300" height="57" src="" style="display: block;"/></div><div class="recaptcha-main"><label><strong><span class="recaptcha_only_if_image" id="recaptcha_instructions_image">Please Insert ReCapcay:</span></strong><span id="recaptcha_challenge_field_holder" style="display: none;"/><input type="text" name="recaptcha_response_field" id="recaptcha_response_field" autocomplete="off"/></label><div class="recaptcha-buttons"><a title="Get a new challenge" href="javascript:Recaptcha.reload()" id="recaptcha_reload_btn"><span>Reload reCapcay</span></a><a title="Help" href="javascript:Recaptcha.showhelp()" id="recaptcha_whatsthis_btn"><span>Help</span></a></div></div>'},
getTPLCustom:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><div id="dv_menu_disabler" style="position:absolute; padding:0;margin:0;border:0; opacity:.15; filter:alpha(opacity=15); background:#000; width:100%; height:100%; display:none;"></div><ul id="ul_group" class="qrset_mnu">'+a+'</ul></div><div class="sidsid cs_right"><div id="custom_bottom" style="margin:8px 0; display:none;"><input type="hidden" id="current_grup" value="" /><input type="hidden" id="current_order" value="" /><a id="manage_btn" href="javascript:;" class="gbtn gbtn-p3 lilbutton" style="padding: 1px 8px;">Manage</a><span id="title_group" style="margin-left: 8px; font-weight: bold;"></span><a id="manage_cancel" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 5px; display: none;">Cancel</a><a id="manage_help" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 20px; display: none;" title="RTFM">[ ? ]</a><span id="position_group" style="margin-left:10px; display:none"/></div><div id="scustom_container" style="max-width: 829px;"><div style="margin:8px 0">Custom Smiley Not Found</div></div><div id="custom_addgroup_container" style="display: none;"><div id="manage_container"><div class="smallfont" style="margin-bottom:5px;"><b id="label_group">Group</b>: <input id="input_grupname" class="input_title" title="Group Name" style="width: 200px;" value=""/><a id="delete_grupname" href="javascript:;" class="smallfont" style="margin-left: 20px; color: red;" title="Delete this Group">delete</a></div><textarea id="textarea_scustom_container" class="txta_smileyset"></textarea></div></div></div></div>'},
getTPLUpload:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><ul id="ul_group" class="qrset_mnu">'+a+'<li><div style="height:1px"></div></li></ul></div><div class="sidsid cs_right"><div id="uploader_container" style="max-width: 829px;"></div></div><span id="toggle-sideuploader" class="toggle-sidebar" data-state="hide">&#9664;</span></div>'},getTPLGeneral:function(){var a,c;c=(""+b.settings.hotkeykey).split(",");a=(""+b.settings.userLayout.config).split(",");return'<table border="0"><tr><td style="width:45%"><input id="misc_updates" class="optchk" type="checkbox"'+
(b.settings.updates?' checked="checked"':"")+' /><label for="misc_updates" title="Check Userscripts.org for QR latest update">Updates</label>&nbsp;&nbsp;'+(!b.noCrossDomain?'<a id="chk_upd_now" class="gbtn" href="javascript:;" title="Check Update Now">check now</a><span id="chk_upd_load" class="uloader" style="display:none">checking..&nbsp;<img src="'+b.B.throbber_gif+'" border=0/></span>':"")+'<div id="misc_updates_child" class="smallfont" style="margin:-5px 0 0 20px; display:'+(b.settings.updates?
"block":"none")+'" title="Interval check update, 0 &lt; interval &lt;= 99"><label for="misc_updates_interval">Interval:<label>&nbsp;<input id="misc_updates_interval" value="'+b.settings.updates_interval+'" maxlength="5" style="width:45px; padding:0; margin-top:2px;" type="text" />&nbsp;days</label></div><div style="height: 1px;"></div></td><td><input id="misc_hotkey" class="optchk" type="checkbox"'+("0,0,0"!=""+b.settings.hotkeykey?' checked="checked"':"")+'/><label for="misc_hotkey">QR-Hotkey</label><div id="misc_hotkey_child" class="smallfont" style="margin:-3px 0 0 15px; display:'+
("0,0,0"!=""+b.settings.hotkeykey?"block":"none")+'">&nbsp;<input id="misc_hotkey_ctrl"'+("1"==c[0]?' checked="checked"':"")+' type="checkbox" /><label for="misc_hotkey_ctrl">ctrl</label>&nbsp;<input id="misc_hotkey_alt" type="checkbox"'+("1"==c[2]?' checked="checked"':"")+' /><label for="misc_hotkey_alt">alt</label>&nbsp;<input id="misc_hotkey_shift" type="checkbox"'+("1"==c[1]?' checked="checked"':"")+' /><label for="misc_hotkey_shift">shift</label>&nbsp;+&nbsp;<label for="misc_hotkey_char">&nbsp;</label><input title="alphnumeric [A-Z0-9]; blank=disable" id="misc_hotkey_char" value="'+
b.settings.hotkeychar+'" style="width: 20px; padding:0;" maxlength="1" type="text" /></div></td></tr></table><div style="width:98%; padding-left:10px;"><input id="misc_autolayout" type="checkbox" class="optchk"'+("1"==a[1]?' checked="checked"':"")+' /><label for="misc_autolayout">AutoLayout</label>&nbsp;&nbsp;<a id="edit_tpl_cancel" href="javascript:;" class="cancel_layout gbtn" style="display:'+("1"==a[1]?"":"none")+';"> cancel </a><div id="misc_autolayout_child" style="margin-top:-3px; display:'+
("1"==a[1]?"block":"none")+'"><textarea rows="3" style="overflow:auto; letter-spacing:0; line-height:14pt; height:28pt; max-width:95%; min-width:95%; max-height:280px; margin-left:20px;" class="txta_editor" id="edit_tpl_txta">'+b.settings.userLayout.template+"</textarea></div></div>"},getTPLAbout:function(){return"<b>"+b.scriptMeta.fullname+" &#8212; "+b.sversion+"</b> <small>"+b.scriptMeta.dtversion+'</small><br><div style="height: 3px;"></div><a href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+
'" target="_blank">'+b.scriptMeta.fullname+'</a> is an improvement of `kaskusquickreply` (Firefox Add-Ons) initially founded by bimatampan<br><div style="height: 7px;"></div><a href="http://code.google.com/p/dev-kaskus-quick-reply/" target="_blank"><img src="http://ssl.gstatic.com/codesite/ph/images/defaultlogo.png" title="dev-kaskus-quick-reply - Kaskus Quick Reply on Google Code" border="0" height="33"></a>&nbsp;\u00b7&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" border="0"></a><br>Licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License</a><br><div style="height: 7px;"></div>KASKUS brand is a registered trademark of www.kaskus.us<br>'+
b.scriptMeta.fullname+' (QR) is not related to or endorsed by www.kaskus.us in any way.<br>QR+ (Add-ons) is ported from the original QR (@userscripts.org) as specified by author.<br><div style="height: 3px;"></div><b>Founded By:</b> bimatampan<br><b>Author By:</b> <a href="'+b.domain+'profile/302101" class="nostyle" target="_blank"><b>Idx</b></a><br><b>Addons Ported By:</b> <a href="'+b.domain+'profile/1323912" class="nostyle" target="_blank"><b>Piluze</b></a><br><div class="st_contributor" style="height:190px; vertical-align:top; overflow:auto; border:1px solid rgb(228, 228, 228); clip: rect(auto, auto, auto, auto);"><b>Contributors</b><br><div class="contr_l" style="width:45%; float:left;">s4nji<br>riza_kasela<br>p1nky<br>b3g0<br>fazar<br>bagosbanget<br>eric.<br>bedjho<br>Piluze<br>intruder.master<br>Rh354<br>drupalorg<br></div><div class="contr_r" style="width:45%; float:left;">gr0<br>hermawan64<br>slifer2006<br>gzt<br>Duljondul<br>reongkacun<br>otnaibef<br>ketang8keting<br>farin<br>.Shana<br>t0g3<br>&amp;all-kaskuser@<a href="http://www.kaskus.us/showthread.php?t=3170414" target="_blank">t=3170414</a></div><div style="clear:both"></div><br><b>Shout pasukan-cumik</b><br>kakilangit, judotens, matriphe, mursid88, robee_, cheanizer<br/><br/><b>QR Topic</b><br>&nbsp;CCPB <span title="CCPB (#14) UserAgent Fans Club Comunity">UA-FCC</span><br> \u00a7 <a href="http://www.kaskus.us/showthread.php?t=8689106" target="_blank" title="All About Mozilla Firefox (Add-ons, Scripts, Fans Club)">Firefox</a> <a href="/profile/809411" target="_blank" title="TS: p1nk3d_books">*</a> \u00a7 <a href="http://www.kaskus.us/showthread.php?t=6595796" target="_blank" title="[Rebuild] \u00bb Opera Community">Opera</a> <a href="/profile/786407" target="_blank" title="TS: ceroberoz"> * </a> \u00a7 <a href="http://www.kaskus.us/showthread.php?t=3319338" target="_blank" title="[Updated] Extensions/ Addons Google Chrome">Google-Chrome</a> <a href="/profile/449547" target="_blank" title="TS: Aerialsky"> * </a><br>&nbsp;Other</b><br> - <a href="http://www.kaskus.us/showthread.php?t=6616714" target="_blank" title="Add-ons Kaskus Quick Reply + [QR]">Quick Reply+</a> <a href="/profile/1323912" target="_blank" title="TS: Piluze"> * </a><br> - <a href="http://www.kaskus.us/showthread.php?t=6849735" target="_blank" title="Emoticon Corner">Emoticon Corner</a> <a href="/profile/572275" target="_blank" title="TS: slifer2006"> * </a><br><br></div>'},
getTPLExim:function(){return'To export your settings, copy the text below and save it in a file.<br>To import your settings later, overwrite the text below with the text you saved previously and click "<b>Import</b>".<textarea id="textarea_rawdata" class="textarea" style="height: 335px; width: 99%; overflow: auto; white-space: pre;" readonly="readonly"></textarea><div style="float: left;"><a id="exim_select_all" class="qrsmallfont" style="margin: 10px 0pt 0pt 5px; text-decoration: none;" href="javascript:;"><b>^ Select All</b></a></div>'},
getTPLShortcut:function(){return'<em>Globaly on showthread page</em><br><b>Esc</b> - Close Active-Popup<br><b>Ctrl + Q</b> - Focus to Quick Reply Editor Now. (<a id="customable_btn" href="javascript:;">customable</a>)<br><b>Alt + Q</b> - Fetch Quoted Post<br><b>Ctrl + Alt + Q</b> - Fetch Quoted Post <span class="opr">(Opera)</span><br><b>Ctrl + Shift + Q</b> - Deselect All Quoted Post<br><b>Ctrl + Shift + D</b> - Load/Save Draft<br><div style="height: 10px;"></div><em>While focus on Editor / textarea</em><br><b>Ctrl + Enter</b> - Post Reply<br><b>Alt + S</b> - Post  Reply<br><b>Shift + Alt + S</b> - Post Reply <span class="opr">(Opera)</span><br><b>Alt + P</b> -  Preview Quick Reply<br><b>Shift + Alt + P</b> -  Preview Quick Reply <span class="opr">(Opera)</span><br><b>Alt + X</b> -  Go Advanced<br><b>Shift + Alt + X</b> -  Go Advanced <span class="opr">(Opera)</span><br><div style="height: 10px;"></div><em>While focus on Input reCapctha</em><br><b>Pg-Up</b> or <b>Pg-Down</b> - Reload reCaptcha<br><b>Alt + R</b> - Reload reCaptcha<br><b>Ctrl + Alt + R</b> - Reload reCaptcha <span class="opr">(Opera)</span><br>'},
getTPLSetting:function(){return'<div id="modal_setting_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Settings<span id="box_preview_subtitle"></span></span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><div id="box_setting" class="entry-content wraper_custom" style="position:relative; "><div class="sidsid cs_left" style="position:relative; height:100%!important;"></div><div class="sidsid cs_right" style="width:540px;"></div><div class="sidcorner" style=""><a href="javascript:;" id="reset_settings">reset settings</a></div></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_action" data-act="update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select:none;">Save</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},
getTPLUpdate:function(){return'<div id="modal_update_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text"><img id="nfo_version" src="'+b.B.news_png+'" class="qbutton" style="float:left; margin:3px 5px 0 0;padding:3px;"/>Update Notification</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_update_title"></h1><div class="entry-content wraper_custom"><div id="content_update"></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Update</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},
getCSS:function(){return"#box_preview {max-height:"+(parseInt(S())-b.offsetMaxHeight-b.offsetLayer)+"px;}.quick-quote{border:1px solid transparent; position:absolute; right:2px; top:0; -moz-border-radius:3px; -webkit-border-radius:5px; border-radius:5px; height:18px; display:block; outline:none; padding:2px 2px 0 0;}.quick-quote:hover{ background:#990099; -moz-transition:all .4s ease-out; -webkit-transition:all .4s ease-out;}.quick-quote img{width:20px; height:16px; box-shadow:2px }"},getSCRIPT:function(){return'if(typeof $ == "undefined") $ = jQuery;function showRecaptcha(element){if( typeof(Recaptcha)!="object" ){window.setTimeout(function () { showRecaptcha() }, 200);return;}else{Recaptcha.create("6LfHgr0SAAAAAJpO_2DyRtpHECySrGkF_XINc5-d", element, {theme:"custom", lang:"en", custom_theme_widget:"recaptcha_widget"});}}var __mq="kaskus_multiquote", __tmp="tmp_chkVal";function deleteMultiQuote(){$.cookie(__mq,null, { expires: null, path: "/", secure: false }); $("#"+__tmp).val("")}function chkMultiQuote(){var mqs=$.cookie(__mq); $("#"+__tmp).val(mqs ? mqs.replace(/s/g,"") : ""); $("#qr_chkval").click() }chkMultiQuote();'},
getSCRIPT_UPL:function(){return'function ajaxFileUpload() {$("#loading_wrp").show();$("#image-control").addClass("blured");$.ajaxFileUpload ({url:"/misc/upload_image",secureuri:false,fileElementId:"browse",dataType: "json",success: function (data, status){$("#image-control").removeClass("blured");$("#loading_wrp").hide();if(data.status == "ok"){var t=\'\';t+=\'<div class="preview-image-unit">\';t+=\'<img src="\'+data.url+\'" width="46" height="46" alt="[img]\'+data.url+\'[/img]" />\';t+=\'<span title="remove" class="modal-dialog-title-close imgremover"/>\';t+=\'</div>\';$("#preview-image").prepend( t );}else{alert(data.error);}},error: function (data, status, e){alert(e);}});return false;}'},
getSetOf:function(a){switch(a){case "color":return{"#000000":"Black","#A0522D":"Sienna","#556B2F":"DarkOliveGreen","#006400":"DarkGreen","#483D8B":"DarkSlateBlue","#000080":"Navy","#4B0082":"Indigo","#2F4F4F":"DarkSlateGray","#8B0000":"DarkRed","#FF8C00":"DarkOrange","#808000":"Olive","#008000":"Green","#008080":"Teal","#0000FF":"Blue","#708090":"SlateGray","#696969":"DimGray","#FF0000":"Red","#F4A460":"SandyBrown","#9ACD32":"YellowGreen","#2E8B57":"SeaGreen","#48D1CC":"MediumTurquoise","#4169E1":"RoyalBlue",
"#800080":"Purple","#808080":"Gray","#FF00FF":"Magenta","#FFA500":"Orange","#FFFF00":"Yellow","#00FF00":"Lime","#00FFFF":"Cyan","#00BFFF":"DeepSkyBlue","#9932CC":"DarkOrchid","#C0C0C0":"Silver","#FFC0CB":"Pink","#F5DEB3":"Wheat","#FFFACD":"LemonChiffon","#98FB98":"PaleGreen","#AFEEEE":"PaleTurquoise","#ADD8E6":"LightBlue","#DDA0DD":"Plum","#FFFFFF":"White"};case "button":return{news_png:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAIAAAD5fKMWAAAABnRSTlMAAAAAAABupgeRAAAArklEQVR42mNkYGBgYGBob29/9OgRA14gJyfHAlHHz88/bdo0/KqzsrJYHj16lF/auG/Hmvv37587dw6XUiMjIwYGBhY4X1FRUVFREb/xLMic9knLGRgYKvMiT158jKbOXF+WgYGBiYEUgGJ2ZV4kCarR7B207ubn52dhYGB4ev+yh4fHhw8fIKLvPn4XFUAxRYif8/79+wwMDIxHjhzZsmXLx48f8buBn5/fw8MDAOiiPC0scvhsAAAAAElFTkSuQmCC",
throbber_gif:"data:image/gif;base64,R0lGODlhEAAQALMPADZmn6XF642oyHCp7V6DsEWE0Pn6/dvk7+Ls95W/8VWa7HKby8DS6ezy+U2V6////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJ2Qgg4sw9EShOUQQcxySDoy5GyR2pk7icESP0doBkPi2OgW8iKCiGkuIRSSgIh43PDApQ4JCGBnLL9UUAACH5BAkAAA8ALAAAAAAQABAAAAQ+8Mk5mTg0UwCKMFomOOQChhMykAlKNauDuNNROC0tLc6gS4KC4vcIDn+Egk936ORcBgJAphM4fwzlSbclTiIAIfkECQAADwAsAAAAABAAEAAABELwyUmrtYiZawlYGzcthZOIk7E4DoJKR3m+D+EM9CMUSr73NEIB90IACjORwdOihCYIDxJ1ABwHz0sAYMpeDAzXJAIAIfkECQAADwAsAAAAABAAEAAABDvwyUmrvTjrakTYUgAUCHgAygcuzgA+QuG8sfIShbudRbIZBICjoTkECyoLQhAcDQyYoywAxQRyAeIkAgAh+QQJAAAPACwAAAAAEAAQAAAEN/DJSau9OOvNuzRB0wnAMhbOmXJEMXAHUCSbQQAOoh33bAkEweImSxgqDVlhiQpgAgOHYxA4TiIAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvTjrzbv/luExgNARwMAdQJFsBuogkiEsB3Wg7oS0BcIN1RqIJgKHssAsKAJHSiMwUA4SDUoEACH5BAkAAA8ALAAAAAAQABAAAAQ+8MlJq7046827/2CIIYExEotEAItZGWthCoUzHNSxOoFkLA5HYbEQrACFgethSASFhagjsZyQBgrFIICgRAAAIfkECQAADwAsAAAAABAAEAAABDzwyUmrvTjrzbv/2CEgHQEsnVA45Hasg3HJk+A4w0EhZjAZi1uBsBCYAAXfL3FzFJ6rBI1yCAxug0RLEgEAIfkECQAADwAsAAAAABAAEAAABDjwyUmrvTjrzXsVxNEBRTI6Jkc4QycUDsId8GBwgsOKmrHoBYJgQSAwLIaEzlFoljCIwEDBSjQoEQAh+QQJAAAPACwAAAAAEAAQAAAEQPDJSau9OFNj9DwA0HkCoDTeQxRD+gBF4gKOnBJOmwqFg6SH3mCkETgcioPHsDgWCAtGxpA4KgoFaeaQGORQlQgAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvdUswDAVQNF5zxEOBvmADqI+RDG8TxjQgJPQhDO/AkfrdSj4Uqqg76DSCAuCZkKooB0Co0sEACH5BAkAAA8ALAAAAAAQABAAAARA8MmH2LzYCAAsvgYBFMrxXVsxIOd0jIPRTptjzhKh4tOY8BKAIwB8EByDoqDgYPEOzBhQ4FAkeYZFtWhgNIrgCAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJhwQBbGppBABFkWyTcRXOEDSk5BXD0U4HOBjz5DlIPhEw3wQ0Ej4AjqKQkDI+BKieEIHKGAMJlnPL7T4iACH5BAkAAA8ALAAAAAAQABAAAAQ88MnXBAGAhMmfwEXhOEX3GAsgDkkyMOZXDIjJNepg2Nzn1LwJYRbkqDZFCcCRSEoITOfjENhJr9isVhsBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGAiDOnEVhROI4odMY1DkkykE4zgcXATUgSTAdQG52gBORACIWE2hFZYCyDBtlzSq1ar9isdhkBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGACDSnEVhROI4oGN41DkkykM6CPmAxcBPyOsHTALZZx/BKPAyEW2fIaCyf0Kh0Sq1ar9isdhsBACH5BAkAAA8ALAAAAAAQABAAAAQ98Ml3BAGAiDOnEVhROI4oGB04DkkykM6CSkIxcNPxOkmHdJPG7gcsHka9YnHBUxYbgYZzSq1ar9isdjuJAAAh+QQFAAAPACwAAAAAEAAQAAAEPPDJ1wQBgIg2+1tAUTiOKBjeExRDkgykc6beATsJ7TU3oneHUe43ITgGxImgoEhKlk0nYhFwWq/YrPYXAQA7"};
default:return!1}},getSmileySet:function(a,c){b.smcustom={};b.smgroup=[];v(q+"CUSTOM_SMILEY",function(a){if(a&&C(a)&&""!=a){var e=function(a){if(!a)return!1;var b=1,c=[],a=a.split(",");if(i(a[0]))for(var d in a)if(C(a[d])&&""!=a[d]){var e=a[d].split("|");c.push(i(e[1])?[e[1],e[0],e[0]]:a[d]);b++}return c};if(-1==a.indexOf("<!!>")){if(a=e(a))b.smcustom["untitled".toString()]=a,b.smgroup.push("untitled")}else for(var h=a.split("<!>"),f,k=0;k<h.length;k++)if(f=h[k].split("<!!>"),f[0]=f[0].replace(/\\!/g,
"!"),0<f.length&&(a=e(f[1])))b.smcustom[f[0].toString()]=a,b.smgroup.push(f[0].toString())}"function"==typeof c&&c()});if(!i(a)||!a)b.smbesar=[["sumbangan/smiley_beer.gif",":beer:","Angkat Beer"],["sumbangan/kribo.gif",":afro:","afro"],["smileyfm329wj.gif",":fm:","Forum Music"],["sumbangan/smiley_couple.gif",":kimpoi:","Pasangan Smiley"],["sumbangan/kaskuslove.gif",":ck","Kaskus Lovers"],["ultah.gif",":ultah","Ultah"],["traveller.gif",":travel","Traveller"],["toastcendol.gif",":toast","Toast"],["jempol1.gif",
":thumbup","Jempol"],["takut.gif",":takut","Takut"],["fd_5.gif",":sup:","Sundul Up"],["sundul.gif",":sup2","Sundul"],["sorry.gif",":sorry","Sorry"],["shakehand2.gif",":shakehand2","Shakehand2"],["selamat.gif",":selamat","Selamat"],["salah_kamar.gif",":salahkamar","Salah Kamar"],["request.gif",":request","Request"],["fd_7.gif",":repost:","Repost"],["s_sm_repost2.gif",":repost2","Purple Repost"],["s_sm_repost1.gif",":repost","Blue Repost"],["recseller.gif",":recsel","Recommended Seller"],["rate5.gif",
":rate5","Rate 5 Star"],["peluk.gif",":peluk","Peluk"],["nosara.gif",":nosara","No Sara Please"],["nohope.gif",":nohope","No Hope"],["ngakak.gif",":ngakak","Ngakak"],["ngacir2.gif",":ngacir2","Ngacir2"],["ngacir3.gif",":ngacir","Ngacir"],["najis.gif",":najis","Najis"],["mewek.gif",":mewek","Mewek"],["matabelo1.gif",":matabelo","Matabelo"],["marah.gif",":marah","Marah"],["malu.gif",":malu","Malu"],["fd_6.gif",":kts:","Kemana TSnya?"],["kaskus_radio.gif",":kr","Kaskus Radio"],["cewek.gif",":kiss","Kiss"],
["kimpoi.gif",":kimpoi","Kimpoi"],["fd_4.gif",":kbgt:","Kaskus Banget"],["fd_8.gif",":kacau:","Thread Kacau"],["fd_1.gif",":jrb:","Jangan ribut disini"],["s_sm_ilovekaskus.gif",":ilovekaskus","I Love Kaskus"],["I-Luv-Indonesia.gif",":iloveindonesia","I Love Indonesia"],["hoax.gif",":hoax","Hoax"],["hotnews.gif",":hn","Hot News"],["hammer.gif",":hammer","Hammer2"],["games.gif",":games","Games"],["dp.gif",":dp","DP"],["cystg.gif",":cystg","cystg"],["cool2.gif",":cool","Cool"],["s_big_cendol.gif",":cendolbig",
"Blue Guy Cendol (L)"],["cekpm.gif",":cekpm","Cek PM"],["fd_2.gif",":cd:","Cape deeehh"],["capede.gif",":cd","Cape d..."],["bola.gif",":bola","Bola"],["bingung.gif",":bingung","Bingung"],["fd_3.gif",":bigo:","Bukan IGO"],["s_sm_maho.gif",":betty","Betty"],["berduka.gif",":berduka","Turut Berduka"],["s_big_batamerah.gif",":batabig","Blue Guy Bata (L)"],["babygirl.gif",":babygirl","Baby Girl"],["babyboy1.gif",":babyboy1","Baby Boy 1"],["babyboy.gif",":babyboy","Baby Boy"],["angel1.gif",":angel","Angel"],
["jempol2.gif",":2thumbup","2 Jempol"]],b.smkecil=[["s_sm_peace.gif",":Yb","Blue Guy Peace"],["takuts.gif",":takuts","Takut (S)"],["sundulgans.gif",":sundulgans","Sundul Gan (S)"],["shutup-kecil.gif",":shutups","Shutup (S)"],["reposts.gif",":reposts","Repost (S)"],["ngakaks.gif",":ngakaks","Ngakak (S)"],["najiss.gif",":najiss","Najis (S)"],["malus.gif",":malus","Malu (S)"],["mads.gif",":mads","Mad (S)"],["kisss.gif",":kisss","Kiss (S)"],["iluvkaskuss.gif",":ilovekaskuss","I Love Kaskus (S)"],["iloveindonesias.gif",
":iloveindonesias","I Love Indonesia (S)"],["hammers.gif",":hammers","Hammer (S)"],["cendols.gif",":cendols","Cendol (S)"],["s_sm_cendol.gif",":cendolb","Blue Guy Cendol (S)"],["cekpms.gif",":cekpms","Cek PM (S)"],["capedes.gif",":capedes","Cape d... (S)"],["bookmark-kecil.gif",":bookmarks","Bookmark (S)"],["bingungs.gif",":bingungs","Bingung (S)"],["mahos.gif",":bettys","Betty (S)"],["berdukas.gif",":berdukas","Berduka (S)"],["berbusa-kecil.gif",":berbusas","Berbusa (S)"],["batas.gif",":batas","Bata (S)"],
["s_sm_batamerah.gif",":bata","Blue Guy Bata (S)"],["army-kecil.gif",":armys","Army (S)"],["add-friend-kecil.gif",":addfriends","Add Friend (S)"],["s_sm_smile.gif",":)b","Blue Guy Smile (S)"],["sumbangan/13.gif",";)","Wink"],["sumbangan/001.gif",":wowcantik","Wowcantik"],["sumbangan/44.gif",":tv","televisi"],["sumbangan/47.gif",":thumbup","thumbsup"],["sumbangan/48.gif",":thumbdown","thumbdown"],["sumbangan/006.gif",":think:","Thinking"],["sumbangan/shit-3.gif",":tai","Tai"],["tabrakan.gif",":tabrakan:",
"Ngacir Tubrukan"],["sumbangan/39.gif",":table:","table"],["sumbangan/008.gif",":sun:","Matahari"],["sumbangan/020.gif",":siul","siul"],["sumbangan/5.gif",":shutup:","Shutup"],["sumbangan/49.gif",":shakehand","shakehand"],["sumbangan/34.gif",":rose:","rose"],["sumbangan/01.gif",":rolleyes","Roll Eyes (Sarcastic)"],["sumbangan/32.gif",":ricebowl:","ricebowl"],["sumbangan/e02.gif",":rainbow:","rainbow"],["sumbangan/60.gif",":rain:","raining"],["sumbangan/40.gif",":present:","present"],["sumbangan/41.gif",
":Phone:","phone"],["sumbangan/005.gif",":Peace:","Peace"],["sumbangan/paw.gif",":Paws:","Paw"],["sumbangan/6.gif",":p","Stick Out Tongue"],["sumbangan/rice.gif",":Onigiri","Onigiri"],["sumbangan/07.gif",":o","Embarrassment"],["sumbangan/35.gif",":norose:","norose"],["sumbangan/q11.gif",":nohope:","Nohope"],["ngacir.gif",":ngacir:","Ngacir"],["sumbangan/007.gif",":moon:","Moon"],["sumbangan/q17.gif",":metal","Metal"],["sumbangan/33.gif",":medicine:","medicine"],["sumbangan/004.gif",":matabelo:","Belo"],
["sumbangan/1.gif",":malu","Malu"],["sumbangan/12.gif",":mad","Mad"],["sumbangan/26.gif",":linux2:","linux2"],["sumbangan/25.gif",":linux1:","linux"],["sumbangan/28.gif",":kucing:","kucing"],["sumbangan/36.gif",":kissmouth","kiss"],["sumbangan/014.gif",":kissing:","kisssing"],["sumbangan/3.gif",":kagets:","Kagets"],["sumbangan/hi.gif",":hi:","Hi"],["sumbangan/37.gif",":heart:","heart"],["sumbangan/8.gif",":hammer:","Hammer"],["sumbangan/crazy.gif",":gila:","Gila"],["sumbangan/q03.gif",":genit","Genit"],
["sumbangan/fuck-4.gif",":fuck:","fuck"],["sumbangan/fuck-8.gif",":fuck3:","fuck3"],["sumbangan/fuck-6.gif",":fuck2:","fuck2"],["sumbangan/frog.gif",":frog:","frog"],["sumbangan/e03.gif",":flower:","flower"],["sumbangan/52.gif",":exclamati","exclamation"],["sumbangan/43.gif",":email","mail"],["sumbangan/4.gif",":eek","EEK!"],["sumbangan/18.gif",":doctor","doctor"],["sumbangan/14.gif",":D","Big Grin"],["sumbangan/05.gif",":cool:","Cool"],["sumbangan/7.gif",":confused","Confused"],["sumbangan/31.gif",
":coffee:","coffee"],["sumbangan/42.gif",":clock","clock"],["sumbangan/woof.gif",":buldog","Buldog"],["sumbangan/38.gif",":breakheart","breakheart"],["bolakbalik.gif",":bingung:","Bingung"],["sumbangan/vana-bum-vanaweb-dot-com.gif",":bikini","Bikini"],["sumbangan/q20.gif",":berbusa","Busa"],["sumbangan/30.gif",":baby:","baby"],["sumbangan/27.gif",":babi:","babi"],["sumbangan/24.gif",":army","army"],["sumbangan/29.gif",":anjing:","anjing"],["sumbangan/017.gif",":angel:","angel"],["sumbangan/amazed.gif",
":amazed:","Amazed"],["sumbangan/15.gif",":)","Smilie"],["sumbangan/06.gif",":(","Frown"]]}},p={e:{dialogname:"qr-modalBoxFaderLayer",boxpreview:"modal_dialog_box",boxcapcay:"modal_capcay_box",lastbuff:"",boxaction:"",ishalted:!1,isdiff:!1},init:function(a){5>t($("#"+b.tID).val()).length?(b.$w.clearTimeout(b.sTryEvent),$("#"+b.tID).addClass("twt-glowerror"),p.e.ishalted=1,alert("The message you have entered is too short. Please lengthen your message to at least 5 characters"),b.sTryEvent=b.$w.setTimeout(function(){$("#"+
b.tID).removeClass("twt-glowerror")},3E3),$("#"+b.tID).focus()):(M(),$(a).blur(),p.e.ishalted=!1,$("body").addClass("hideflow"))},boxEvents:function(){$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){M()})},buildQuery:function(a){var c="securitytoken,title,message,iconid,parseurl,recaptcha_response_field,recaptcha_challenge_field,discussionid,groupid".split(","),d,e,h={};$("#formform").find("*[name]").each(function(){-1!=$.inArray($(this).attr("name"),c)&&(e=t($(this).val()),
d=encodeURIComponent($(this).attr("name")),"title"==d&&-1!=$("#"+d).parent().attr("class").indexOf("condensed")?e="":"message"==d&&(b.eof=a?"":"--QR-END-of-MSG-"+(new Date).getTime().toString()+"--",e=wa(e.replace(/\r\n/g,"\n")),l("val message="+e),a||(e=e.replace(/\[(\/)?quote(?:\=([^\;]+).([^\]]+))?./gi,function(a,b,c,d){return"___"+(b?b:"")+"QRQUOTE"+(c&&d?"|"+c+"|"+d+"|":"")+"___"})),e=xa(e)+"\n"+b.eof),""!=e&&(h[d]=e))});p.e.isdiff=p.e.lastbuff!=t($("#"+b.tID).val());p.e.lastbuff=t($("#"+b.tID).val());
p.e.boxaction=encodeURI($("#formform").attr("action"));return h},preview:function(){p.e.ishalted||($("#"+p.e.dialogname).show().css("visibility","visible"),$("body").prepend(j.getBOX()),O(),p.boxEvents(),$("#"+p.e.boxpreview).fadeIn(130,function(){var a=p.buildQuery();a.preview=encodeURI("Preview"+("group"==b.thread_type?"":" Post"));l("boxaction="+p.e.boxaction);l("tosend="+JSON.stringify(a));b.sTryRequest&&(l("Other AJAX instance [sTryRequest] is currently running, killing him now."),b.sTryRequest.abort());
try{""!=a&&(b.sTryRequest=$.post(p.e.boxaction,a,function(a){var c,h,f;c=Z(a);f=parseInt(S())-b.offsetMaxHeight-b.offsetLayer;$("#box_preview").css("max-height",f+"px");if(c){try{h=a.replace(/(\r\n|\n|\r|\t)+/gm,"").replace(/\s{2,}/gm,"").replace(/\"/gm,'"').toString()+"\n\n"}catch(k){l("decodeURI in preview failed")}a=h.substring(0,h.indexOf(b.eof));l("parsed="+a);if(a=b.thread_type=="group"?/(?:[\'\"]post-header[\'\"]>\s?<h2\s+[^>]+.([^<]+).+)?[\'\"]entry-content[\'\"](?:[^>]+)?.(.*)/.exec(a):/<div\sclass=[\"\']entry-content[\'\"](?:[^>]+)?.<h1>((?:<img[^>]+.\s?)?(?:[^<]+)?)<\/h1>\s?(.*)/im.exec(a)){$("#box_preview_title").html(a[1]);
a=a[2].replace(/___\/QRQUOTE___/gi,"</div></div>").replace(/___QRQUOTE___/gi,function(){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">'}).replace(/___QRQUOTE\|([^\|]+).([^\|]+).___/gi,
function(a,b,c){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">Original Posted By <b>'+b+'</b><a href="/post/'+c+"#post"+c+'" class="jump">&#9658;</a><br/>'});l(a);$("#box_preview").html(a);
$("#box_preview").find("img").each(function(){$(this).css("max-width","790px")});$("#cont_button").show()}$("#box_prepost").click(function(){p.init();p.presubmit()});$("#box_prepost").focus().delay(1200)}else u.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){$("#box_preview").html('Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>')}})}))}catch(c){}}))},submit:function(){!b.user.isDonatur&&
!b.edit_mode&&"group"!=b.thread_type&&($("#qr-recaptcha_response_field").val($("#recaptcha_response_field").val()),$("#qr-recaptcha_challenge_field").val($("#recaptcha_challenge_field").val()));var a=p.buildQuery(!0);a.sbutton="group"==b.thread_type?encodeURI("Post+Message"):encodeURI(b.edit_mode?"Save+Changes":"Submit+Reply");p.postloader(!0);try{""!=a&&(b.sTryRequest=$.post(p.e.boxaction,a,function(a){var c,h,f=false;Z(a);try{h=a.replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,"").replace(/\"/g,'"').toString()}catch(k){l("decodeURI in submit post failed")}if(c=
/error-msg\spanel[^>].(?:<[^>]+.)+([^<]+)/i.exec(h.substring(0,h.indexOf(b.eof))))f=1;if(c=/[\'\"]err-msg[^>]+.([^<]+)/i.exec(h))f=1;if(f)if(b.user.isDonatur){M();a={mode:"error",msg:c[1]};if(!b.edit_mode)a.btnset=false;u.init(a)}else{$("#box_response_msg").html(c[1]).removeClass("ghost").addClass("g_notice").addClass("qrerror").show();p.postloader(false);$("#hidrecap_reload_btn").click()}else if(c=/<meta\s*http\-equiv=[\"\']REFRESH[\"\']\s*content=[\"\']\d+;\s*URL=([^\"\']+)/i.exec(h))A(q+"TMP_TEXT",
"",function(){c[1]=c[1].replace(/\#/,"/?p"+(new Date).getTime()+"#");location.href=c[1]});else{l("redirect link not found, post might fail. please try again.");a={mode:"error",msg:c};if(!b.edit_mode)a.btnset=false;u.init(a)}}))}catch(c){}},postloader:function(a){var b=["recaptcha_widget","box_progress_posting","box_response_msg"],d=["recaptcha_is_building_widget","activate-disabled","activated"];a?($("#"+b[0]).addClass(d[0]),$("#"+b[1]).removeClass(d[1]).addClass(d[2]),$("#"+b[2]).hide()):($("#"+
b[0]).removeClass(d[0]),$("#"+b[1]).removeClass(d[2]).addClass(d[1]))},presubmit:function(){p.e.ishalted||($("#"+p.e.dialogname).css("visibility","visible"),$("body").prepend(j.getBOX_RC(b.edit_mode)),O(),p.boxEvents(),$("#hidrecap_btn").click(),$("#"+p.e.boxcapcay).fadeIn(130),!1===b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type?b.sITryFocusOnLoad=b.$w.setInterval(function(){var a=$("#recaptcha_response_field");1==a.length&&(clearInterval(b.sITryFocusOnLoad),$("#recaptcha_response_field").addClass("twt-glow"),
$("#recaptcha_response_field").focus());$("#recaptcha_instructions_image, #recaptcha_image").click(function(){a.focus()});$("#box_post").click(function(){if(a.val()==""){alert("Belum Masukin Capcay,...");a.focus()}else p.submit()});$(a).keydown(function(a){var b=a.keyCode,e=null;if(b===13){$("#box_post").click();e=1}else if(a.altKey&&b===82||b===33||b===34){$("#hidrecap_reload_btn").click();e=1}e&&z(a)})},200):p.submit())}},r={e:{task:"quote",ajaxrun:!1},init:function(){},ajaxPID:function(a,c){if(a){if(r.e.ajaxrun&&
!1!==c)try{l("Other AJAX instance ["+r.e.ajaxrun+"] is currently running, killing him now."),b.sTryRequest.abort(),b.ajax_pid[r.e.ajaxrun]=0}catch(d){}b.ajax_pid[a]=!1===c?0:(new Date).getTime();r.e.ajaxrun=!1!==c&&!c?a:!1;l("ajaxrun = "+r.e.ajaxrun)}},quote:function(a,c,d){r.e.task="quote";var e=$("#formform").attr("action");(a=$("#tmp_chkVal").val())&&(a=a.split(","));e+="/?post="+a[0];l("uri="+e);if(r.e.task&&b.ajax_pid[r.e.task]){l("AJAX "+r.e.task+" is currently running, abort previous...");
try{b.ajax_pid[r.e.task].abort()}catch(h){}}try{r.ajaxPID("quote"),"function"==typeof c&&c(),b.sTryRequest=$.get(e,function(a){var b;try{b=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,"\\n").toString()}catch(c){l("decodeURI in fetch quote failed")}if(Z(a,"quote")){a=b.substring(0,b.indexOf("</textar"));if(a=/<textarea[^>]+.(.+)/im.exec(a))g.init(),g.add(Q(a[1].replace(/\\n|\\r\\n|\\r/g,"\n"))),g.pracheck();"function"==typeof d&&d()}else u.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',
cb:function(){}});r.ajaxPID("quote",!1)})}catch(f){l("FAILED = "+e),r.ajaxPID("quote",!1)}},edit_cancel:function(a){var c=confirm("You are currently editing a post.\n\nDiscard anyway?");c&&(l("edit canceling; now switching Token:\nold="+b._securitytoken+"; now using:"+b._securitytoken_prev),b._securitytoken=b.inner.reply.stoken,$("#qr-securitytoken").val(b._securitytoken),b.edit_mode=0,r.e.task="post",$("#formform").attr("action"),$("#formform").attr("action","/post_reply/"+b.pID),$("#formform").attr("name",
"postreply"),$(".inner_title").html(b.inner.reply.title),$("#sbutton").val(b.inner.reply.submit),g.set(""),g.pracheck(a),u.dismiss());return c},edit:function(a,c,d){r.e.task="edit";if(b.ajax_pid[r.e.task]){l("AJAX "+r.e.task+" is currently running, abort previous...");try{b.ajax_pid[r.e.task].abort()}catch(e){}}try{r.ajaxPID("edit");"function"==typeof c&&c();b.edit_mode=1;var h=(b.domain+t(a.attr("href"))).toString();b.sTryRequest=$.get(h,function(a){var c;try{c=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,
"\\n").toString()}catch(e){l("error raised")}b.inner.reply.stoken=b._securitytoken_prev=b._securitytoken;if(Z(a)){$("#formform").attr("action",h);$("#formform").attr("name","edit_postreply");a=c.substring(0,c.indexOf("</textar"));if(a=/<textarea[^>]+.(.+)/im.exec(a))g.init(),g.set(Q(a[1].replace(/\\n|\\r\\n|\\r/g,"\n"))),g.pracheck(),$("#sbutton").val(b.inner.edit.submit),$(".inner_title").html(b.inner.edit.title);$("#scancel_edit").show();"function"==typeof d&&d()}else u({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',
cb:function(){}});r.ajaxPID("edit",!1)})}catch(f){b.edit_mode=0,r.ajaxPID("edit",!1)}}},u={mode:"quote",btnset:!0,msg:"",cb:null,init:function(a){for(field in a)C(field)&&(u[field.toString()]=a[field]);l("_NOFY inside :: "+JSON.stringify(a));u.exec()},exec:function(){var a=$("#notify_msg");u.msg&&a.html(u.msg);a.removeClass("qrerror");$.each(["scancel_edit","quote_btnset"],function(){$("#"+this).hide()});switch(u.mode){case "error":a.addClass("qrerror");break;case "quote":$("#quote_btnset").show();
break;case "edit":$("#scancel_edit").show()}u.btnset?$(".qr-m-panel").show():$(".qr-m-panel").hide();$("#notify_msg, #notify_wrap").show();"function"==typeof u.cb&&u.cb()},dismiss:function(){$(".qr-m-panel").show();$("#notify_msg, #notify_wrap").hide();try{b.sTryRequest.abort()}catch(a){}}},g={e:null,eNat:null,content:"",cursorPos:[],last_scrollTop:0,init:function(){this.e=$("#"+b.tID);this.eNat=y(b.tID);this.content=this.e.val();this.cursorPos=this.rearmPos();this.last_scrollTop=y(b.tID).scrollTop},
rearmPos:function(){return[this.getCaretPos(),y(b.tID).selectionEnd]},subStr:function(a,b){return this.content.substring(a,b)},set:function(a){$("#"+b.tID).val(a);y(b.tID).value=this.content=a;g.setRows_Elastic();g.init();this.saveDraft();this.pracheck()},wrapValue:function(a,c){var d,e=this.cursorPos[0],h=this.cursorPos[1],f,a=a.toUpperCase();f=this.subStr(0,e)+"["+a+(c?"="+c:"")+"]"+(e==h?"":this.subStr(e,h))+"[/"+a+"]"+this.subStr(h,this.content.length);this.set(f);d=e+("["+a+(c?"="+c:"")+"]").length;
this.setCaretPos(d,d+this.subStr(e,h).length);"hidden"!=this.overflow&&(y(b.tID).scrollTop=this.last_scrollTop+1);return f},add:function(a){""!=t(this.content)&&(this.content+="\n\n");this.e.val(this.content+a);this.enabled();this.focus();this.saveDraft();this.pracheck();b.$w.setTimeout(function(){g.cursorPos=g.rearmPos();var b=g.cursorPos[0]+a.length;g.setCaretPos(b,b)},200)},setValue:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];I(c)&&(c=[a.length,a.length]);if(d!=e)this.replaceSelected(a,
c);else return e=this.subStr(0,d)+a+this.subStr(d,this.content.length),this.set(e),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=g.overflow&&(y(b.tID).scrollTop=this.last_scrollTop+1),e},replaceSelected:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];d!=e&&(this.set(this.subStr(0,d)+a+this.subStr(e,this.content.length)),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=g.overflow&&(y(b.tID).scrollTop=this.last_scrollTop+1))},readonly:function(){this.e.removeClass("txa_enable");this.e.addClass("txa_readonly");
this.e.attr("readonly","true")},enabled:function(){this.e.removeAttr("disabled");this.e.removeAttr("readonly");this.e.removeClass("txa_readonly");this.e.addClass("txa_enable")},pracheck:function(a){I(a)&&(a=!0);g.setElastic(b.maxH_editor);""!=$("#"+b.tID).val()?$("#clear_text").show():$("#clear_text").hide();a&&b.$w.setTimeout(function(){g.focus()},200)},focus:function(){$("#"+b.tID).focus()},lastfocus:function(){var a=$("#"+b.tID).val().length,c=y(b.tID);c.setSelectionRange&&(this.focus(),c.setSelectionRange(a,
a));this.focus()},getSelectedText:function(){return this.cursorPos[0]==this.cursorPos[1]?"":this.subStr(this.cursorPos[0],this.cursorPos[1])},getCaretPos:function(){var a=0;if(y(b.tID)&&(y(b.tID).selectionStart||"0"==y(b.tID).selectionStart))a=y(b.tID).selectionStart;return a},setCaretPos:function(a,c){I(c)&&(c=a);y(b.tID).setSelectionRange&&(this.focus(),y(b.tID).setSelectionRange(a,c))},setElastic:function(a,c){function d(a){var b=y(h);b.setAttribute("cols",Math.floor(b.clientWidth/7));g.setRows_Elastic(a)}
var e,h=b.tID;e=y(h)||y(b.tID);g.oflow="hidden";e.setAttribute("style","visibility:hidden; overflow:"+g.oflow+";letter-spacing:0;line-height:14pt;"+(a?"max-height:"+(a-130)+"pt;":""));c||$("#"+h).keyup(function(){d(a)});d(a)},setRows_Elastic:function(a){for(var c=y(b.tID),d=c.cols,e=c.value.toString(),e=e.replace(/(?:\r\n|\r|\n)/g,"\n"),h=2,f=0,k=0;k<e.length;k++){var m=e.charAt(k);f++;if("\n"==m||f==d)h++,f=0}d=14*h;c.setAttribute("rows",h);c.style.height=d+"pt";g.oflow=a&&14*h>a-130?"auto":"hidden";
c.style.setProperty("overflow",g.oflow,"important");$("#"+b.tID).css("visibility","visible")},saveDraft:function(a){if(a&&(a.ctrlKey||a.altKey))return!0;a=$("#"+b.tID).val();$("#qrdraft").get(0)&&a&&a!=b.silahken&&(n.title("save"),$("#qrdraft").html("Save Now").attr("data-state","savenow"),n.switchClass("gbtn"),$("#draft_desc").html(""),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,b.settings.qrdraft&&n.quick_check())}},n={el:null,dsc:null,_construct:function(){n.el=$("#qrdraft");n.dsc=$("#draft_desc")},
check:function(){l("checking draft..");n.el.get(0)&&"idle"==n.el.attr("data-state")&&(b.timeOld=(new Date).getTime(),clearInterval(b.sITryKeepDrafting),b.sITryKeepDrafting=window.setInterval(function(){n.check()},12E4));var a=$("#"+b.tID).val(),c=(new Date).getTime()-b.timeOld,c=Math.floor(c/6E4);if(n.provide_draft()||a==b.silahken||""==a)return!1;i(b.isKeyPressed)?n.save():n.dsc.html((0<c?"Last saved "+c+" minutes":"Saved seconds")+" ago")},provide_draft:function(){if(""==$("#"+b.tID).val()){var a=
""==b.tmp_text;n.el.html("Draft").attr("data-state","idle");n.title(a?"":"continue");n.switchClass(a?"jfk-button-disabled":"gbtn");n.dsc.html(a?"blank":'<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available');$("#clear-draft").click(function(){n.clear()});if(!a)return!0}return!1},title:function(a){a="save"==a?"Save Now":"continue"==a?"Continue Draft":"";""!=a?n.el.attr("title",a+" [Ctrl+Shift+D]"):n.el.removeAttr("title")},save:function(a){n.switchClass("jfk-button-disabled");
I(a)?(n.el.html("Saving ...").attr("data-state","saving"),n.title(),window.setTimeout(function(){n.save($("#"+b.tID).val())},600)):(b.tmp_text=a.toString(),A(q+"TMP_TEXT",b.tmp_text),n.el.html("Saved").attr("data-state","saved"),n.dsc.html("Saved seconds ago"),i(b.isKeyPressed)&&delete b.isKeyPressed,b.timeOld=(new Date).getTime())},clear:function(){b.tmp_text="";A(q+"TMP_TEXT",b.tmp_text);n.title("continue");n.el.html("Draft");n.switchClass("jfk-button-disabled");n.dsc.html("blank")},quick_check:function(){b.$w.setTimeout(function(){n.provide_draft()},
300);b.sITryLiveDrafting=b.$w.setTimeout(function(){n.check()},5E3)},switchClass:function(a){n.el.addClass(a).removeClass("gbtn"==a?"jfk-button-disabled":"gbtn")}},s={init:function(){s.tcui="tabs-content-upl-inner";s.self="box-upload";s.sibl="box-smiley";s.def="kaskus";s.main()},menus:function(){var a=0,c="";if(b.upload_sel)for(host in c+='<li><div style="padding-left:30px;"><b>:: Services :: </b></div></li><li><div style="height:1px"></div></li><li class="qrt curent"><div id="tphost_0" title="kaskus.us" data-host="kaskus">kaskus</div></li>',
b.upload_sel)c+='<li class="qrt"><div id="tphost_'+(a+1)+'" title="'+b.upload_sel[host]+'" data-host="'+host+'">'+host+"</div></li>",a++;return c},event_menus:function(){$("#tabs-content-upl .qrt").each(function(){$(this).click(function(){var a=$(this).find("div:first");a.attr("id").replace(/tphost_/gi,"");a=a.attr("data-host");s.switch_tab(a);$(this).closest("#ul_group").find(".curent").removeClass("curent");$(this).addClass("curent")})});$("#toggle-sideuploader").click(function(){var a,b,d=$(this).attr("data-state");
ucw=parseInt($("#uploader_container").css("width").replace(/px/,""));a=$(this).closest(".wraper_custom").find(".cs_left");b=$("#uploader_container");"hide"==d?($(a).hide(),$(b).css("width",ucw+131).css("max-width",ucw+131)):($(a).show(),$(b).css("width",ucw-131).css("max-width",ucw-131));$(this).html("hide"==d?"&#9658;":"&#9664;");$(this).attr("data-state","hide"==d?"show":"hide")})},tplcont:function(a){return'<div id="content_uploader_'+a+'" class="content_uploader" style="display:none" />'},main:function(){var a=
"",c=s.tcui;$("#"+c).html(j.getTPLUpload(s.menus()));s.event_menus();a=s.tplcont(s.def);for(host in b.upload_sel)a+=s.tplcont(host);$("#"+c+" #uploader_container").html(a);s.switch_tab(s.def);$("."+s.self).addClass("events");s.toggletab(!0)},switch_tab:function(a){if(a){var c,d="content_uploader_"+a;""==$("#"+d).html()&&(a==s.def?($("#"+d).html('<div id="preview-image-outer"><div id="preview-image" /></div><div id="loading_wrp" style="display:none"><div class="mf-spinner chrome-spinner-delay" id="upl_loading" /></div><div id="image-control" class=""><div class="clickthumb" style="display:none">*Click thumbnail image to add to post content</div><input type="file" onchange="ajaxFileUpload();" name="forumimg" id="browse"/></div>'),
ea(),W(b.kkcdn+"css_v0.1/js/ajaxfileupload.js"),W(j.getSCRIPT_UPL()),$("#"+s.tcui+" #preview-image").bind("DOMNodeInserted DOMNodeRemoved",function(a){"DOMNodeInserted"==a.type&&($("#"+s.tcui+" .preview-image-unit").each(function(){var a=$(this);a.find("img");a.hasClass("event")||(a.find("img").click(function(){ra($(this))}),a.find(".modal-dialog-title-close").click(function(){$(this).closest(".preview-image-unit").remove();ea("remove")}),a.addClass("event"))}),ea("insert"))})):(c="ifrm_"+b.upload_sel[a].replace(/\W/g,
""),c='<a style="position:absolute; top:10px; right:20px; height:16px; width:50px; border:0; font-weight:normal" href="javascript:;" id="ifrm_reload_'+a+'">reload</a><div style="margin:10px 3px 15px 30px; display:inline-block;"><a target="_blank" title="Goto '+a+'" href="http://'+b.upload_sel[a]+'"><b>http://'+b.upload_sel[a]+'</b></a></div><iframe id="'+c+'" src="http://'+b.upload_sel[a]+'" style="width:100%; height:300px"></iframe>',$("#"+d).html(c),$("#ifrm_reload_"+a).click(function(){var a=$(this).attr("id").replace(/ifrm_reload_/,
""),c=b.upload_sel[a];$("#ifrm_"+b.upload_sel[a].replace(/\W/g,"")).attr("src","http://"+c)})));$("#"+d).parent().find(".content_uploader.curent").removeClass("curent").hide();$("#"+d).addClass("curent").show()}},toggletab:function(a){var b="."+s.self;a?($(b+", .box-bottom").show(),$("."+s.sibl).hide()):$(b+", .box-bottom").hide()}},o={init:function(a){o.tci="tabs-content-inner";o.tch="tab-content-hidden";o.self="box-smiley";o.sibl="box-upload";a||(a="tabs-sb-tkecil");o.init_container();o.load_smiley(a)},
init_container:function(){var a,b=$("#"+o.tci),d=["tabs-sb-tkecil","tabs-sb-tbesar","tabs-sb-tcustom"];a=d.length;$(b).html("");for(var e=0;e<a;e++)$(b).append('<div id="'+d[e]+'" class="sml_main" style="display:none" />')},init_scustom:function(a,c){$("#"+a).html(j.getTPLCustom(o.menus_scustom()));var d,e="",h=0,e='<input type="hidden" id="current_grup" value="'+(b.smgroup&&0<b.smgroup.length?b.smgroup[0]:"")+'" /><input type="hidden" id="current_order" value="'+(b.smgroup?"0":"")+'" /><input type="hidden" id="scustom_todo" value="" /><input type="hidden" id="scustom_todel" value="" />';
$("#custom_bottom").append(e);d='<select id="pos_group_sets" style="width: 50px;" class="gbtn">';e="";for(grup in c)e+='<div id="content_scustom_container_'+grup+'" class="content_scustom" style="display:none"></div>',d+='<option value="'+h+'">'+(h+1)+"</option>",h++;d+="</select>";e&&($("#scustom_container").html(e).show(),$("#position_group").html(d),$("#manage_help, #manage_cancel, #dv_menu_disabler").hide(),$("#custom_bottom, #title_group").show())},menus_scustom:function(){var a,c="";if(b.smgroup&&
0<b.smgroup.length){c+='<li class="qrt_first"><div style="height:1px"></div></li><li class="qrt add_group"><div class="add_group">Add Group</div></li><li><div style="height:1px"></div></li>';a=b.smgroup.length;for(var d=0;d<a;d++)c+='<li class="qrt'+(0==d?" curent":"")+'"><div id="tbgrup_'+d+'" title="'+b.smgroup[d].replace(/_/g," ")+'">'+b.smgroup[d]+'<span class="num">'+(d+1)+"</span></div></li>";c+='<li class="qrt_first"><div style="height:1px"></div></li>'}return c},save_scustom:function(a){A(q+
"CUSTOM_SMILEY",a,function(){var a=parseInt($("#pos_group_sets").val());$("#tabs-sb-tcustom").html("");j.getSmileySet(!0,function(){o.init_scustom("tabs-sb-tcustom",b.smcustom);o.event_scustom();o.refresh_menus();$("#tbgrup_"+a).get(0)?$("#tbgrup_"+a).click():$("#tbgrup_0").click()})})},event_menus:function(){$("li.add_group").click(function(){var a=Math.random().toString(),a=a.replace(/0\./g,"").substring(0,3);$(this).addClass("curent");$("#label_group").html("Add Group");$("#manage_btn").html("Save");
$("#textarea_scustom_container").val("").height(100);$("#input_grupname").val("untitled_"+a);$("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler").show();$("#scustom_container, #title_group").hide();$("#delete_grupname").hide();$("#label_group").click();$("#scustom_todo").val("add")});$("#tabs-sb-tcustom .qrt").each(function(){$(this).hasClass("add_group")||$(this).click(function(){var a,c,d,e;a=$(this).find("div:first").attr("id").replace(/tbgrup_/gi,"");
e=b.smgroup[a];$("#content_scustom_container_"+e).get(0)&&($("#scustom_container").find(".content_scustom.curent").removeClass("curent").empty().hide(),$("#content_scustom_container_"+e).addClass("curent").show());$("#current_grup").val(e);$("#current_order").val(a);$("#title_group").html(e.replace(/_/g," "));$(this).closest("#ul_group").find(".curent").removeClass("curent");$(this).addClass("curent");b.smcustom||j.getSmileySet(!0);if(b.smcustom&&b.smcustom[e]){c="";d=b.smcustom[e].length;for(var h=
0;h<d;h++)if(C(b.smcustom[e][h])){if(a=ka(b.smcustom[e][h],!0,"view"))/<br\s?\/?>/.test(a)?c+=a:(""!=c&&(c+="<br/>"),c+=a+"<br/>")}else c+='<img src="'+b.smcustom[e][h][0]+'" alt="_alt_'+b.smcustom[e][h][1]+'" title="[['+b.smcustom[e][h][1]+"] &#8212;"+b.smcustom[e][h][0]+'" /> ';$("#content_scustom_container_"+e).html(c);o.event_img("#"+o.tci+" #tabs-sb-tcustom","tcustom")}})})},event_scustom:function(){$("#label_group").click(function(){b.$w.setTimeout(function(){$("#input_grupname").focus()},100)});
$("#input_grupname").focus(function(){$(this).select()}).keydown(function(a){13==a.keyCode?(z(a),$("#manage_btn").click()):27==a.keyCode&&$("#manage_cancel").click()});$("#manage_help").click(function(){alert("Each Smiley separated by newline.\nFormat per line:\n tag|smileylink\n eg.\ncheers|http://static.kaskus.us/images/smilies/sumbangan/smiley_beer.gif\n\n\nUse Custom Smiley BBCODE with this format:\n eg.\n[[yourtag]\n")});$("#manage_cancel").click(function(){$("li.add_group").removeClass("curent");
$("#manage_help, #manage_cancel, #custom_addgroup_container, #dv_menu_disabler, #position_group").hide();$("#scustom_container, #title_group").show();0<b.smgroup.length?($("#manage_btn").html("Manage"),$("#custom_bottom").show()):$("#custom_bottom").hide()});$("#manage_btn").click(function(){var a=$(this).html().toLowerCase();if("save"==a){var c,d=function(){return t($("#input_grupname").val().replace(/[^a-z0-9]/gi,"_").replace(/_{2,}/g,"_"))};c=d();todel=$("#scustom_todel").val()==c;var e=function(a){if(""!=
a){var b,c,d="",e={"\\|{2,}":"|","(\\r\\n){2,}":"\r\n{sctag:br}\r\n,","(\\n){2,}":"\n{sctag:br}\n"},a=a.replace(/[\[\]\,]/g,"");for(c in e)C(e[c])&&(b=RegExp(c,"g"),a=a.replace(b,e[c]));a=document.all?a.split("\r\n"):a.split("\n");b=a.length;for(e=0;e<b;e++)if(C(a[e]))if(a[e]=t(a[e]),(c=/([^|]+)\|([\w\W]+)/.exec(a[e]))&&i(c[1])&&i(c[2]))d+=c[1]+"|"+(/^https?\:\/\/.+$/i.test(c[2])?c[2]:escape(c[2]))+",";else if(c=ka(a[e],!1,"saving"))d+=c+","}return d};if(a=$("#textarea_scustom_container").val())a=
e(t(a));""==t(c)?alert("Group Name can not be empty"):a?function(a,e){var h="",g,i,l,j;l=$("#scustom_todo").val();a||o.save_scustom(!1);if("add"==l&&b.smcustom[c])alert("Group Name is already exists"),o.save_scustom(!1);else if("edit"==l&&(i=$("#current_order").val(),g=[i?i:"",$("#current_grup").val()],j=$("#pos_group_sets option:selected").val(),""!=g[0]&&j!=g[0]&&b.smgroup)){var n=b.smgroup[g[0]];i=[];b.smgroup[g[0]]=null;j>g[0]&&b.smgroup.splice(g[0],1);b.smgroup.splice(j,0,n);for(g=0;g<b.smgroup.length;g++)b.smgroup[g]&&
i.push(b.smgroup[g]);b.smgroup=i}var p,w={},X,L,r;v(q+"CUSTOM_SMILEY",function(g){var g=g?g.split("<!>"):[],i=g.length;if(i)for(var ja=0;ja<i;ja++)part=g[ja].split("<!!>"),w[""+part[0]]=""+part[1];X=b.smgroup?b.smgroup.length:0;if("edit"==l){g=$("#current_order").val();g=[g?g:"",$("#current_grup").val()];p=""!=g[1]&&""!=c&&c!=g[1];for(i=0;i<X;i++)L=b.smgroup[i].toString(),L==g[1]?e?c=!1:(w[L]=a.toString(),c=t(p?d():g[1]).replace(/\!/g,"\\!")):c=L,h+=c?c.toString()+"<!!>"+w[L]+(i+1<X?"<!>":""):""}else{r=
!1;if(b.smgroup)for(i=0;i<X;i++)L=b.smgroup[i].toString(),r=r||L==c,h+=L+"<!!>"+w[L]+(r?a.toString():"")+(i+1<X?"<!>":"");r||(h+="<!>"+c.toString()+"<!!>"+a.toString())}o.save_scustom(h)})}(a,todel):alert("Invalid tag and/or smiley format")}else if("manage"==a){$(this).html("Save");$("label_group").html("Group");$("#scustom_todo").val("edit");$("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler, #position_group").show();$("#scustom_container, #title_group").hide();
c=$("#current_grup").val();var h="";$("#input_grupname").val(c);a=$("#current_order").val();$("#pos_group_sets option[value="+a+"]").attr("selected","selected");v(q+"CUSTOM_SMILEY",function(a){for(var a=a.split("<!>"),b=a.length,e=0;e<b;e++)part=a[e].split("<!!>"),c==part[0]&&(h=(""+part[1]).replace(/,/g,"\n"));$("#textarea_scustom_container").val(h).focus()})}});$("#delete_grupname").click(function(){var a=$("#current_grup").val();confirm("You are about to delete this Group.\nName: "+a+"\n\nContinue delete this group?\n")&&
($("#scustom_todel").val(a),$("#manage_btn").click())});o.event_menus()},event_img:function(a,b){$(a+" img").each(function(){$(this).click(function(){ra($(this))})});o.setClassEvents(b)},setClassEvents:function(a){for(var b=["tkecil","tbesar","tcustom"],d=b.length,e=0;e<d;e++)$("."+o.self).removeClass("events-"+b[e]);$("."+o.self).addClass("events-"+a)},refresh_menus:function(){$("#ul_group").html(o.menus_scustom());o.event_menus()},load_smiley:function(a){(!b.smbesar||!b.smkecil||!b.smcustom)&&j.getSmileySet();
a||(a="tabs-sb-tkecil");if($("#"+a).hasClass("filled"))o.switch_tab(a);else{var c,d,e="",h=o.tch;c=a.replace("tabs-sb-","");d="tkecil"==c?b.smkecil:"tbesar"==c?b.smbesar:b.smcustom;$("."+o.self).append('<div id="'+a+'" class="'+h+'"></div>');b.$w.setTimeout(function(){"tabs-sb-tcustom"!=a?($.each(d,function(a,c){e+='<img src="'+b.kkcdn+"images/smilies/"+c[0]+'" alt="'+c[1]+'" title="'+c[1]+" &#8212;"+c[2]+'" /> '}),$("#"+a).html(e),o.event_img("#"+a,c)):(o.init_scustom(a,d),o.event_scustom(),$("#tbgrup_0").click());
""!=$("#"+a).html&&$("#"+a).addClass("filled");o.switch_tab(a)},1)}},switch_tab:function(a){""==$("#"+a).html()?o.load_smiley(a):($("#"+o.tci).find(".active").removeClass("active").hide(),$("."+o.self+" #tabs-loader").hide(),$("#"+a).addClass("active").show())},toggletab:function(a){var b="."+o.self;a?($(b+", .box-bottom").show(),$("."+o.sibl).hide()):$(b+", .box-bottom").hide()}},N={e:{dialogname:"qr-modalBoxFaderLayer",boxsetting:"modal_setting_box"},init:function(){M();$("body.forum").addClass("hideflow");
N.main()},main:function(){$("#"+N.e.dialogname).css("visibility","visible").show();$("body").prepend(j.getTPLSetting());N.design();$("#"+N.e.boxsetting).fadeIn(130,function(){N.event_main()});O(650)},design:function(){var a,b=0,d="";a={gen:["General",j.getTPLGeneral()],exim:["Export / Import",j.getTPLExim()],kbs:["Keyboard Shortcut",j.getTPLShortcut()],abt:["About",j.getTPLAbout()]};d='<ul id="ul_group" class="qrset_mnu settingmnu">';$("#box_setting .cs_right").html("");for(tipe in a)"string"==typeof tipe&&
(d+='<li data-ref="'+tipe+'" class="qrt'+(0==b?" curent":3==b?" qrset_lasttab":"")+'"><div>'+a[tipe][0]+"</div></li>",$("#box_setting .cs_right").append('<div class="stg_content'+(0==b?" isopen":"")+'" id="stg_content_'+tipe+'" style="display:none;">'+(a[tipe][1]?a[tipe][1]:"")+"</div>"),b++);$("#box_setting .cs_left").html(d+"</ul>");$("#box_setting .st_contributor").scrollTop(0);$("#qr-modalBoxFaderLayer .cnv").remove();$("#qr-modalBoxFaderLayer").append('<canvas class="cnv" style="" />')},event_main:function(){$("#box_setting .qrt").each(function(){$(this).click(function(){var a,
b=$(this).attr("data-ref");$(this).parent();$("#box_setting").find(".isopen").removeClass("isopen").hide();$("#stg_content_"+b).addClass("isopen").show();$(this).parent().find(".curent").removeClass("curent");$(this).addClass("curent");$("#box_preview_subtitle").html(" &#187; "+$(this).find("div").html());a=$("#box_action");a.html("Save");"exim"==b?($("#textarea_rawdata").val()||N.load_rawsetting(),$(a).html("Import").removeClass("jfk-button-disabled").attr("data-act","import")):"gen"==b?$(a).removeClass("jfk-button-disabled").attr("data-act",
"update"):$(a).addClass("jfk-button-disabled").attr("data-act","none");$(a).attr("data-todo",b)})});$("#box_setting .optchk").each(function(){$(this).click(function(){var a,b,c=$(this).attr("id");a=$(this).parent().find("#"+c+"_child");b=$(this).is(":checked");$(a).css("display",b?"block":"none");"misc_autolayout"==c&&$("#edit_tpl_cancel").css("display",b?"":"none")})});$("#edit_tpl_cancel").click(function(){$("#misc_autolayout").removeAttr("checked").click().removeAttr("checked")});b.noCrossDomain||
$("#chk_upd_now").click(function(){$("#chk_upd_load").show();$(this).hide();D.caller="#"+$(this).attr("id");D.check(!0)});var a,c,d=function(a){return $(a).is(":checked")};$("#box_action").click(function(){if("update"==$(this).attr("data-act")){var e,h;e="";h=0;b.settings.updates=d("#misc_autolayout");(c=b.settings.updates?"1":"0")&&-1!=$("#edit_tpl_txta").val().toLowerCase().indexOf("{message}")?(na(b.user.id,("0,"+c).toString(),"LAYOUT_CONFIG"),b.settings.userLayout.template=a=$("#edit_tpl_txta").val().toString(),
na(b.user.id,encodeURIComponent(a),"LAYOUT_TPL",["<!>","::"])):(h=1,e='Invalid Layout format.\nCan\'t find "{message}" in template.\n\neg. [B]{message}[/B]');if(h&&c)return alert(e),!1;var f,g,m;if(d($("#misc_hotkey"))){e=["misc_hotkey_ctrl","misc_hotkey_shift","misc_hotkey_alt"];h=[!b.isOpera?"0,0,1":"1,0,1","1,1,0"];f=e.length;g=[];for(var l=0;l<f;l++)C(e[l])&&g.push(d($("#"+e[l]))?"1":"0");m=$("#misc_hotkey_char").val().toUpperCase();if("Q"==m&&(h[0]==""+g||h[1]==""+g))if(confirm("Hotkey is already reserved:\n ["+
(!b.isOpera?"Alt + Q":"Ctrl + Alt +Q")+"] : Fetch Quoted Post\n [Ctrl + Shift + Q] : Deselect Quote\n\nDo you want to make a correction?"))return}else g=["0,0,0"];if(0==m.length||m&&m.match(/[A-Z0-9]{1}/))b.settings.hotkeykey=""+g,b.settings.hotkeychar=""+m,A(q+"QR_HOTKEY_KEY",""+g,function(){A(q+"QR_HOTKEY_CHAR",""+m)});b.$w.setTimeout(function(){c=d("#misc_updates")?"1":"0";A(q+"UPDATES",c.toString(),function(){a=$("#misc_updates_interval").val();a=isNaN(a)||a<=0?1:a>99?99:a;A(q+"UPDATES_INTERVAL",
a.toString(),function(){b.$w.setTimeout(function(){fa(b.settings);N.cold_boot()},200)})})},400)}else{var j,n;$("#textarea_rawdata").addClass("jfk-button-disabled");n=t($("#textarea_rawdata").val());if(b.buftxt&&n==t(b.buftxt))$("#box_action").val("Nothing changed.."),b.buftxt&&delete b.buftxt,window.setTimeout(function(){$("#box_cancel").click()},750);else if(confirm("Are you sure to update these settings?\nYour current settings will be lost.\n\nPage may need to reload to apply new Settings.\n")){$("#box_action").val("Saving..");
n=n.split("\n");j=n.length;var o,p=!1,r=function(a){var c=t(n[a]);if(o=c.match(/^\[([^\]]+)]/))o[1]=t(o[1]),p=i(T[q+o[1]])?o[1]:!1;else if(p&&c&&!c.match(/^\#\s(?:\w.+)*/))try{A(q+p,c.toString(),function(){p=!1})}catch(d){}a++;a<j?r(a):b.$w.setTimeout(function(){fa(b.settings);b.$w.setTimeout(function(){location.reload(!1)},50)},200)};r(0)}else $("#textarea_rawdata").removeClass("jfk-button-disabled")}});$("#exim_select_all").click(function(){$("#textarea_rawdata").focus();R($("#textarea_rawdata").get(0))});
$("#reset_settings").click(function(){v(q+"CUSTOM_SMILEY",function(a){var c,d,g=["http://www.kaskus.us/showthread.php?t=3170414","http://userscripts.org/topics/58227"];c="";for(var i=0;20>i;i++)c+=" ";a=(""!=a.replace(/^\s+|\n|\s+$/g,"")?da("&#182;")+" ::Alert::\nCustom Smiley detected. You might consider of losing it.\n\n":"")+"This will delete/reset all saved data.\nPlease report any bug or some bad side effects here:"+c+"\n"+g[1]+"\nor\n"+g[0]+"\n\n"+da("&#187;")+" Continue with Reset?";if(confirm(a)){d=
"SAVED_AVATAR,LAST_FONT,LAST_COLOR,LAST_SIZE,LAST_SPTITLE,LAST_UPLOADER,HIDE_AVATAR,UPDATES_INTERVAL,UPDATES,DYNAMIC_QR,QUICK_QUOTE,AJAXPOST,HIDE_CONTROLLER,CUSTOM_SMILEY,TMP_TEXT,SCUSTOM_ALT,SCUSTOM_NOPARSE,TEXTA_EXPANDER,SHOW_SMILE,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_SIGI,LAYOUT_TPL,PRELOAD_RATE,QR_LastUpdate,WIDE_THREAD,QR_COLLAPSE,QR_USE_RECAPCAY,QR_RECAPCAY_PROP,COUNTDOWN,COUNTDOWN_POS,QR_LASTPOST,UPLOAD_LOG".split(",");a=d.length;for(i=0;i<a;i++)try{C(d[i])&&b.$w.setTimeout(function(){GM_deleteValue(q+
d[i])},1)}catch(l){}b.$w.setTimeout(function(){location.reload(!1)},1E3)}})});$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){M()});$("#box_setting .curent").click();$("#"+b.tID).blur()},cold_boot:function(){""==$("#tabs-content-inner").html()||$("#tabs-sb-tcustom").get(0)&&""==$("#tabs-sb-tcustom").html()||(b.smcustom=null,$("#tabs-sb-tcustom").html(),o.load_smiley("tabs-sb-tcustom"))},load_rawsetting:function(){var a="UPDATES,UPDATES_INTERVAL,HIDE_AVATAR,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_TPL,CUSTOM_SMILEY".split(","),
c={UPDATES:"Check Update enabled? validValue=[1,0]",UPDATES_INTERVAL:"Check update Interval (day); validValue=[0< interval < 99]",QR_DRAFT:"Mode QR-Draft; validValue=[1,0]",HIDE_AVATAR:"Mode Show Avatar. validValue=[1,0]",QR_HOTKEY_KEY:"Key of QR-Hotkey; [Ctrl,Shift,Alt]; validValue=[1,0]",QR_HOTKEY_CHAR:"Char of QR-Hotkey; validValue=[A-Z0-9]",LAYOUT_CONFIG:"Layout Config; [userid=isNaN,isEnable_autoLAYOUT]; isEnable's validValue=[1,0]",LAYOUT_TPL:"Layout Template; [userid=LAYOUT]; validValue of LAYOUT is must contain escaped {MESSAGE}",
CUSTOM_SMILEY:"Smiley Custom's Raw-Data; [tagname|smileylink]"},d=a.length;b.buftxt="# QR-Settings Raw-Data\n";b.buftxt+="# Version: QR"+(0!==P?"+":"")+" "+b.sversion+"\n";b.buftxt+="# Source: http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID+"\n";b.buftxt+="# User-Agent: "+window.navigator.userAgent.replace(/\s*\((?:[^\)]+).\s*/g," ").replace(/\//g,"-")+"\n";b.buftxt+="# Date-Taken: "+function(){var a=new Date;return a.getFullYear().toString()+"-"+(1==(a.getMonth()+1).toString().length?
"0":"")+(a.getMonth()+1)+"-"+(1==a.getDate().toString().length?"0":"")+a.getDate()+", "+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")[a.getDay()]+". "+(1==a.getHours().toString().length?"0":"")+a.getHours()+":"+(1==a.getMinutes().toString().length?"0":"")+a.getMinutes()+":"+(1==a.getSeconds().toString().length?"0":"")+a.getSeconds()}()+"\n";b.buftxt+="\n";var e=function(h){v(q+a[h],function(g){var k=a[h];g&&k&&(b.buftxt+="# "+c[k]+"\n",b.buftxt+="["+k+"]\n"+g+"\n\n");h+1<d?
(h++,e(h)):b.$w.setTimeout(function(){$("#textarea_rawdata").val(b.buftxt).removeAttr("readonly")},200)})};e(0)}},E={engage:!1,init:function(){E.path_uri=b.kqr_static;E.css_name="";E.run("",E.callback)},run:function(a,b){a||(a="style.txt");F.uri=E.path_uri+a;F.cached=!1;F.forceGM=!0;F.request(null,"GET",b)},callback:function(a){if(a=""+a.responseText)E.css_name=a,E.run(a,E.callback_fin)},callback_fin:function(a){(a=t(""+a.responseText))&&E.set_css(a)},set_css:function(a,b){A(q+"CSS_BULK",a,function(){V(a,
"xhr_css",1);"function"==typeof b&&b()})}},D={caller:"",check:function(a){if(!(i(P)&&0!==P)){var c=36E5*b.settings.updates_interval;v(q+"QR_LastUpdate",function(d){d||(d=0);if(a||parseInt(d)+parseInt(c)<=(new Date).getTime())b.updateForced=a,a||(D.caller=""),F.uri="http://userscripts.org/scripts/source/"+b.scriptMeta.scriptID+".meta.js",F.cached=!1,F.forceGM=!0,F.request(null,"GET",D.callback)})}},callback:function(a){var c=(new Date).getTime()+"";A(q+"QR_LastUpdate",c,function(){$(D.caller).get(0)&&
($(D.caller).parent().find(".uloader").hide(),$(D.caller).show());try{a&&a.responseText.match(/@timestamp(?:[^\d]+)([\d\.]+)/)[1]>b.scriptMeta.timestamp?(D.initiatePopup(a.responseText),b.updateForced&&(M(),$("#nav-wrapper .update").click())):b.updateForced&&alert("No update is available for QR.")}catch(c){}})},initiatePopup:function(a){$("#modal_update_box, #nav-wrapper .update-tab").remove();$("#nav-wrapper").prepend('<div class="update-tab"><a href="javascript:;" class="update">QR updates</a></div>');
$(".update-tab, .update").show();$("#nav-wrapper .update").click(function(){D.meta=D.mparser(a);$("#qr-modalBoxFaderLayer").css("visibility","visible").show();$("body").prepend(j.getTPLUpdate());$("#modal_update_box").fadeIn(130,function(){D.design();D.event()});O(450)})},design:function(){var a="<b>New "+b.titlename+"</b> (v"+D.meta.cvv[1]+') is available<div style="float:right;"><a class="qbutton" href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+'" target="_blank" title="QR Home in userscripts.org"><b>v'+
D.meta.cvv[1]+"</b></a></div>";$("#box_update_title").html(a);a='<h4 class="isclose"><span>&#9654;</span> What\'s New</h4><div class="update-panel toggle-panel" style="display:none;">'+D.meta.news+"<br/></div>";$("#content_update").addClass("help-content").html(a)},event:function(){$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){M()});$("#content_update h4").click(function(){var a,b,d=$(this);$(this).parent().find(".toggle-panel").slideToggle(160,function(){a=$(d).hasClass("isclose");
b=$(this);a?($(b).slideDown(160),$(d).removeClass("isclose")):($(b).slideUp(),$(d).addClass("isclose"));$(d).find("span").html(a?"&#9660;":"&#9654;")})});$("#box_update").click(function(){$("#hid_updateframe").get(0)&&$("#hid_updateframe").remove();$("#content_update").append('<iframe id="hid_updateframe" src="http://userscripts.org/scripts/source/'+b.scriptMeta.scriptID+'.user.js" style="visibility:hidden; position:absolute; border:0; height:0; width:0;"></iframe>');$(this).addClass("jfk-button-disabled");
b.$w.setTimeout(function(){$("#box_update").removeClass("jfk-button-disabled")},4E3)})},mparser:function(a){return{tv:a.match(/@timestamp(?:[^\d]+)([\d]+)/)||[null],cvv:a.match(/@version(?:[^v\d]+)([\d\.\w]+)/)||[null],news:function(a){var b,e=["// -!--latestupdate","// -/!latestupdate---"];b=[a.indexOf(e[0]),a.indexOf(e[1])];return(-1!=b[0]&&-1!=b[1]?(""+a.substring(b[0]+e[0].length,b[1])).replace(/\/+\s*/gm,function(){return" "}):"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(?:\r\n|\n|\r)/gi,
"<br/>")}(a)}}},H={init:function(a){var b,d=[];$(".multi-quote.active").each(function(){b=$(this).closest(".post-wrapper");$(b).get(0)&&d.push($(b).attr("id"))});0==d.length?(l("no multiquote, perform to this calee"),b=$(a).closest(".post-wrapper"),$(b).get(0)&&d.push($(b).attr("id"))):$("#sdismiss_quote").click();H.mqs_id=d;H.start()},start:function(){var a,b,d,e;$.each(H.mqs_id,function(){e=this;d=$("#"+e).find(".entry-content");$(d).get(0)&&(b=(""+$(d).html()).replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,
""),b=b.replace(/(?:<\!-{2,}reason\s?[^>]+.)+/gi,""),a="[QUOTE="+H.get_quotefrom(e)+"]"+H.parseMSG(b)+"[/QUOTE]",g.init(),g.add(a+"\n"))})},get_quotefrom:function(a){var b=$("#"+a).find(".fn");$(b).find("font").remove();return t($(b).text())+";"+a.replace(/^post/i,"")},clearTag:function(a,b){return I(b)?t(a.replace(/<\/?[^>]+>/gm,""))||"":a.replace(RegExp("[\\r\\n\\t]?<\\/?(?:"+b+")(?:[^>]+)?.[\\r\\n\\t]?","gim"),"")},parseMSG:function(a){var b,d,e,h,g,k,m,j,n,o;b=[];d=[];e=[];h=[];o=!1;var p=function(a){return a.replace(/\&gt;/gm,
">").replace(/\&lt;/gm,"<").replace(/\&amp;/gm,"&")},q=function(a,g,f){l("inside parseSerials 2up=["+f.toUpperCase()+"]");if(-1!=$.inArray(f.toUpperCase(),["B","I","U"]))return"["+(g?"/":"")+f.toUpperCase()+"]";if(/^span\s/i.test(f)||"SPAN"==f.toUpperCase()){a=f.match(/\/?span(?:\srel=['"]([^'"]+))?/i);if(i(a[1]))if(-1!=a[1].indexOf("spoiler")){d.push("SPOILER");f=a[1].split("-");if(i(f[1])&&f[1].length){n=G("div",{style:"display:none"},a[1].replace(f[0]+"-",""));f[1]=t(n.childNodes[0].nodeValue);
try{x.remove(n)}catch(k){}}a[1]='SPOILER="'+(!f[1]?"":f[1])+'"'}else d.push(a[1]);else a[1]=!1;(j=a&&a[1])&&-1==a[1].indexOf("=")&&(a[1]=a[1].toUpperCase());f=d.length-1;a=j?"["+a[1]+"]":i(d[f])?"[/"+d[f].toUpperCase()+"]":"";j||d.splice(f,1);return a}if(/^font\s+/i.test(f)||"FONT"==f.toUpperCase())return a=f.match(/\bfont(?:\s{1,}([^=]+).['"]([^'"]+))?/i),i(a[1])&&(a[1]="face"==a[1]?"font":a[1],b.push(a[1])),j=i(a[2])&&a[2],f=b.length-1,a="["+(j?a[1].toUpperCase()+'="'+a[2]+'"':"/"+(i(b[f])?b[f].toUpperCase():
"???"))+"]",j||b.splice(f,1),a;if(/^div\s/i.test(f)||"DIV"==f.toUpperCase())return-1==f.indexOf("rel=")&&-1==f.indexOf("style=")?(a=f.match(/\/?div(?:\salign=['"]([^'"]+))?/i),i(a[1])&&h.push(a[1]),(j=a&&a[1])&&-1==a[1].indexOf("=")&&(a[1]=a[1].toUpperCase()),f=h.length-1,a=j?"["+a[1]+"]":i(h[f])?"[/"+h[f].toUpperCase()+"]":"",j||h.splice(f,1),a):"";if(/\shref=/i.test(f)||"A"==f.toUpperCase())return a=f.match(/\/?a\s*(?:(?:target|style|title|linkid)=[\'\"][^\'\"]+.\s*)*(?:\s?href=['"]([^'"]+))?/i),
i(a[1])?(f=/^mailto:/.test(a[1])?"EMAIL":"URL","EMAIL"==f&&(a[1]=a[1].replace(/^mailto:/i,"")),e.push(f)):a[1]=!1,j=a&&a[1],f=e.length-1,a=a&&a[1]?i(e[f])?"["+e[f].toUpperCase()+"="+a[1]+"]":"":i(e[f])?"[/"+e[f].toUpperCase()+"]":"",j||e.splice(f,1),a;if(/^blockquote/i.test(f))return"["+(g?"/":"")+"INDENT]";if(/\ssrc=/i.test(f))if((a=f.match(/\ssrc=['"]([^'"]+)/i))&&i(a[1])){if(/^embed\s*/i.test(f))return m=a[1].replace(/^https?\:\/\/(?:w{3}\.)?youtube\.com\/(?:watch\?v=)?(?:v\/)?/i,""),a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)?
(m=p(p(unescape(m))),m=m.replace(/>/gm,"&gt;").replace(/</gm,"&lt;"),"[YOUTUBE]"+m+"[/YOUTUBE]"):"";if(m=a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)){if(m)return"[YOUTUBE]"+m[1]+"[/YOUTUBE]"}else if(m=f.match(/img\s*(?:(?:alt|src|class|border)=['"](?:[^'"]+)?.\s*)*title=['"]([^'"]+)/i)){if(m)return f=a[1].indexOf("/smilies/"),f=a[1].substring(f+9),f=f.replace(/[^\w]/g,"").toString(),o||(o=ma()),i(o[f])?o[f]:"[IMG]"+a[1]+"[/IMG]"}else return"[IMG]"+a[1]+"[/IMG]"}else return"";else return a};
g=G("div",{style:"display:none"},a);for(var a=B('.//span[starts-with(@id,"KSA-")]',g),r=a.snapshotLength-1;0<=r;r--)(k=a.snapshotItem(r))&&x.remove(k);$(g).html(function(a){var b,c,d,e=g;i(a)&&(a=(""+a).replace(/<(\/?)([^>]+)>/gm,q),e=G("div",{style:"display:none"},a));l("inside revealQuoteCode\n"+$(e).html());a=B('.//span[@class="post-quote"]',e);l(" quote objects len = "+a.snapshotLength);if(a.snapshotLength)for(var h=0;h<a.snapshotLength;h++)if(b=a.snapshotItem(h),$(b).html().match(/Quote:/))l("ada Quote"),
c=J("\n"),b.parentNode.replaceChild(c,b);else if(d=$(b).html().match(/(?:(HTML|PHP)\s{1})*Code:/))c=b.parentNode,x.remove(b),d=d&&d[1]?d[1]:"CODE",b=$(c).html(),"CODE"==d&&(b=t((""+b).replace(/<(\/?)([^>]+)>/gm,q))),b=b.replace(/\&nbsp;/gi," "),b=J("["+d+"]"+Q(H.clearTag(b))+"[/"+d+"]\n"),c.parentNode.replaceChild(b,c);$(".edited",$(e)).remove();return $(e).html()}());l("pCon="+$(g).html());$(".spoiler",$(g)).each(function(){var a;a=$(this).find("#bbcode_inside_spoiler").html();a="[SPOILER="+$(this).find("i").text()+
"]"+a+"[/SPOILER]";a=J(a);$(this).replaceWith($(a))});l("pCon after spoiler="+$(g).html());a=p($(g).html());a=a.replace(/<br\s*\/?>/g,"\n");l("x decoded "+a);delete g;a=t((""+a).replace(/<(\/?)([^>]+)>/gm,q));l("ret="+a);return Q(H.clearTag(a))},parseMSG_OLD:function(a){var b,d,e,h,f,g,m,j,n,o,p,q=function(a){return a.replace(/\&gt;/gm,">").replace(/\&lt;/gm,"<").replace(/\&amp;/gm,"&")},r=function(a,g,f){if($.inArray(f.toUpperCase(),["B","I","U"]))return"["+(g?"/":"")+f.toUpperCase()+"]";if(/^span\s/i.test(f)||
"SPAN"==f.toUpperCase()){a=f.match(/\/?span(?:\srel=['"]([^'"]+))?/i);if(i(a[1]))if(-1!=a[1].indexOf("spoiler")){b.push("SPOILER");f=a[1].split("-");if(i(f[1])&&f[1].length){o=G("div",{style:"display:none"},a[1].replace(f[0]+"-",""));f[1]=t(o.childNodes[0].nodeValue);try{x.remove(o)}catch(k){}}a[1]='SPOILER="'+(!f[1]?"":f[1])+'"'}else b.push(a[1]);else a[1]=!1;(n=a&&a[1])&&-1==a[1].indexOf("=")&&(a[1]=a[1].toUpperCase());f=b.length-1;a=n?"["+a[1]+"]":i(b[f])?"[/"+b[f].toUpperCase()+"]":"";n||b.splice(f,
1);return a}if(/^font\s{1,}/i.test(f)||"FONT"==f.toUpperCase())return a=f.match(/\bfont(?:\s{1,}([^=]+).['"]([^'"]+))?/i),i(a[1])&&(a[1]="face"==a[1]?"font":a[1],d.push(a[1])),n=i(a[2])&&a[2],f=d.length-1,a="["+(n?a[1].toUpperCase()+'="'+a[2]+'"':"/"+(i(d[f])?d[f].toUpperCase():"???"))+"]",n||d.splice(f,1),a;if(/^div\s/i.test(f)||"DIV"==f.toUpperCase())return-1==f.indexOf("rel=")&&-1==f.indexOf("style=")?(a=f.match(/\/?div(?:\salign=['"]([^'"]+))?/i),i(a[1])&&e.push(a[1]),(n=a&&a[1])&&-1==a[1].indexOf("=")&&
(a[1]=a[1].toUpperCase()),f=e.length-1,a=n?"["+a[1]+"]":i(e[f])?"[/"+e[f].toUpperCase()+"]":"",n||e.splice(f,1),a):"";if(/\shref=/i.test(f)||"A"==f.toUpperCase())return a=f.match(/\/?a\s*(?:(?:target|style|title|linkid)=[\'\"][^\'\"]+.\s*)*(?:\s?href=['"]([^'"]+))?/i),i(a[1])?(f=/^mailto:/.test(a[1])?"EMAIL":"URL","EMAIL"==f&&(a[1]=a[1].replace(/^mailto:/i,"")),h.push(f)):a[1]=!1,n=a&&a[1],f=h.length-1,a=a&&a[1]?i(h[f])?"["+h[f].toUpperCase()+"="+a[1]+"]":"":i(h[f])?"[/"+h[f].toUpperCase()+"]":"",
n||h.splice(f,1),a;if(/^blockquote/i.test(f))return"["+(g?"/":"")+"INDENT]";if(/\ssrc=/i.test(f))if((a=f.match(/\ssrc=['"]([^'"]+)/i))&&i(a[1])){if(/^embed\s*/i.test(f))return j=a[1].replace(/^https?\:\/\/(?:w{3}\.)?youtube\.com\/(?:watch\?v=)?(?:v\/)?/i,""),a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)?(j=q(q(unescape(j))),j=j.replace(/>/gm,"&gt;").replace(/</gm,"&lt;"),"[YOUTUBE]"+j+"[/YOUTUBE]"):"";if(j=a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)){if(j)return"[YOUTUBE]"+
j[1]+"[/YOUTUBE]"}else if(j=f.match(/img\s*(?:(?:alt|src|class|border)=['"](?:[^'"]+)?.\s*)*title=['"]([^'"]+)/i)){if(j)return f=a[1].replace(/[^\w]/g,"").toString(),p||(p=ma()),i(p[f])?p[f]:"[IMG]"+a[1]+"[/IMG]"}else return"[IMG]"+a[1]+"[/IMG]"}else return"";else return a};d=[];b=[];h=[];e=[];p=!1;f=G("div",{style:"display:none"},a);alert(f.innerHTML);for(var a=B('.//span[starts-with(@id,"KSA-")]',f),w=m=a.snapshotLength-1;0<=w;w--)(g=a.snapshotItem(w))&&x.remove(g);var s=function(a){var b,c,d,e=
f;i(a)&&(a=(""+a).replace(/<(\/?)([^>]+)>/gm,r),e=G("div",{style:"display:none"},a));a=B('.//span[@class="post-quote"]',e);if(a.snapshotLength)for(var g=0;g<a.snapshotLength;g++)if(b=a.snapshotItem(g),b.innerHTML.match(/Quote:/))b=b.parentNode,c=J("\n"),b.parentNode.replaceChild(c,b);else if(j=b.innerHTML.match(/(?:(HTML|PHP)\s{1})*Code:/))c=b.parentNode,x.remove(b),d=j&&j[1]?j[1]:"CODE",b=c.innerHTML,"CODE"==d&&(b=t((""+b).replace(/<(\/?)([^>]+)>/gm,r))),b=b.replace(/\&nbsp;/gi," "),b=J("["+d+"]"+
Q(H.clearTag(b))+"[/"+d+"]\n"),c.parentNode.replaceChild(b,c);return e.innerHTML};f.innerHTML=s();l("previous Quote&Code=\n"+f.innerHTML);var a=B('.//div[@class="smallfont"]',f),u,v=!1;m=a.snapshotLength-1;if(a){for(w=m;0<=w;w--)g=a.snapshotItem(w),m=getTag("b",g),m.length&&(v=0<m.length||v,u=getTag("i",g),u.length&&(u=u[0].innerHTML.replace(/\"/g,"&quot;").replace(/\'/g,"&apos;"),u=u.replace(/\&/g,"&amp;")),m=g.parentNode,x.remove(g),m.innerHTML=H.clearTag(s(m.innerHTML),"div"),l("now el2.innerHTML="+
m.innerHTML),g=m.childNodes[0],g.nodeValue=g.nodeValue.replace(/[\r\n]+/,""),g=q(m.innerHTML.replace(/<br\/?>/g,"").toString()),g=J("{spoiler-"+u+"}"+t(g)+"{/spoiler}"),m.innerHTML="",x.add(g,m),l("now-II el2.innerHTML="+m.innerHTML));v&&(f.innerHTML=q((""+f.innerHTML).replace(/\{spoiler\-([^\}]+)?\}/g,function(a,b){return'<span rel="spoiler-'+(b?b:" ")+'">'}).replace(/\{\/spoiler\}/g,"</span>")))}l("after spoiler pre-span=\n"+f.innerHTML);a=B(".//span[contains(@rel,'spoiler-')]",f);if(m=a.snapshotLength)for(w=
0;w<m;w++)g=a.snapshotItem(w),s=g.parentNode,"DIV"==s.nodeName&&s.parentNode.replaceChild(g,s);l("after spoiler done=\n"+f.innerHTML);a=B(".//ol",f);s="[LIST=";if(a)for(w=0;w<a.snapshotLength;w++)if(g=a.snapshotItem(w),v=g.getAttribute("style"),j=v.match(/:\s*(\w+)/i)){v=j?j[1]:"";switch(v){case "decimal":s+="1";break;case "upper-alpha":s+="A";break;case "lower-alpha":s+="a"}g.innerHTML=g.innerHTML.replace(/<\/li>/ig,"").replace(/<li>/ig,"[*]").replace(/<br\/?>/ig,"");m=J("\n"+s+"]"+t((""+g.innerHTML).replace(/<(\/?)([^>]+)>/gm,
r))+"[/LIST]\n");m.nodeValue=q(m.nodeValue);g.parentNode.replaceChild(m,g)}if(a=B(".//ul",f))for(w=0;w<a.snapshotLength;w++)g=a.snapshotItem(w),g.innerHTML=g.innerHTML.replace(/<\/li>/ig,"").replace(/<li>/ig,"[*]").replace(/<br\/?>/ig,""),m=J("\n[LIST]"+t((""+g.innerHTML).replace(/<(\/?)([^>]+)>/gm,r))+"[/LIST]\n"),g.parentNode.replaceChild(m,g);l("after ol-ul done=\n"+f.innerHTML);a=B('.//div[@class="smallfont"]',f);for(w=0;w<a.snapshotLength;w++)g=a.snapshotItem(w),x.remove(g);a=f.innerHTML;delete f;
a=t((""+a).replace(/<(\/?)([^>]+)>/gm,r));return Q(H.clearTag(a))}},F={uri:null,returned:null,forceGM:!1,cached:!1,events:!1,request:function(a,b,d){if(F.uri){b=i(b)&&b?b:"GET";a=i(a)&&a?a:null;"function"!=typeof d&&(d=null);var e={method:b,url:F.uri+(F.cached?"":(-1==F.uri.indexOf("?")?"?":"&rnd=")+Math.random().toString().replace("0.","")),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:C(a)?a:"",onload:function(e){503==e.status?(l("Reach 503, retrying..."),window.setTimeout(F.request(a,
b,d),777)):null!=d?d(e):F.returned=e}};F.forceGM?GM_xmlhttpRequest(e):Ha(e)}}},Ha=function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(a.onreadystatechange)a.onreadystatechange(b);if(4==b.readyState&&a.onload)a.onload(b)};b.onerror=function(){if(a.onerror)a.onerror(b)};try{b.open(a.method,a.url,!0)}catch(d){if(a.onerror)a.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(a.headers)for(name in a.headers)b.setRequestHeader(name,
a.headers[name]);b.send(a.data);return b};b.inner={reply:{title:"Quick Reply",stoken:"",submit:"Post Reply"},edit:{title:"Quick Edit",submit:"Save Changes"}};b.titlename=b.inner.reply.title+(0!==P?"+":"");b.domain="http://livebeta.kaskus.us/";b.kkcdn="http://kkcdn-static.kaskus.us/";b.kqr_static="http://dev-kaskus-quick-reply.googlecode.com/svn/trunk/statics/kqr/";b.css_default="kqr_quad.css";location.href.match(/^http:\/\/\w+\.kaskus\.us\/.+/)?(b.qID="qr-content-wrapper",b.tID="reply-messsage",b.def_title=
"Type new Title",b.loging_in="Logging in..",b.B=j.getSetOf("button"),b.uploader=b.upload_sel=b.settings=b.UA={},b.user={id:null,name:"",isDonatur:!1},b._securitytoken_prev=b._securitytoken=null,b.ajax_pid={},b.MQ_count=b.edit_mode=b.pID=b.maxH_editor=b.bodywidth=0,b.upload_tipe=b.last_postwrap="",b.offsetEditorHeight=160,b.offsetLayer=10,b.offsetMaxHeight=115,ya(),W(location.protocol+"//www.google.com/recaptcha/api/js/recaptcha_ajax.js","recap",!0),b.injected=!1,b.mx=30,b.ix=0,va()):Ga()})();