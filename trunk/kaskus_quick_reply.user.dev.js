// ==UserScript==
// @name           Kaskus Quick Reply New
// @icon           http://code.google.com/p/dev-kaskus-quick-reply/logo?cct=110309324
// @namespace      http://userscripts.org/scripts/show/KaskusQuickReplyNew
// @include        *.kaskus.us/thread/*
// @include        *.kaskus.us/post/*
// @include        *.kaskus.us/group/discussion/*
// @description    KQR
// @version        4.0.2b
// @dtversion      120407402
// @timestamp      1333815628146
// @description    provide a quick reply feature, under circumstances capcay required.
// @author         idx(302101; http://userscripts.org/users/idx); bimatampan(founder);
// @license        (CC) by-nc-sa 3.0
// @contributor    s4nji, riza_kasela, p1nky, b3g0, fazar, bagosbanget, eric., bedjho, Piluze, intruder.master, Rh354, gr0, hermawan64, slifer2006, gzt, Duljondul, reongkacun, otnaibef, ketang8keting, farin, drupalorg, .Shana, t0g3, & all-kaskuser@t=3170414
// @include        http://imageshack.us/*
// @include        http://*.imageshack.us/*
// @include        http://imgur.com/*
// @include        http://photoserver.ws/*
// @include        http://lulzimg.com/*
// @include        http://*.imagedum.com/*
// @include        http://imagedum.com/*
//
// -!--latestupdate
//
// v4.0.2b - 2012-04-07 . 1333815628146
//	Fix missed style btn post on preview (donatur)
//	Fix misc btn controller [transparent;noparse]
//	Fix get_quotefrom (again) post from moderator;
//	Fix continuing on capcay mismatch, countdown to next post;
//	Fix smiley custom, rephrase newline as it is, instead of {sctag:br}
//	Fix get_quotefrom, avoid removing [$]
//	Fix when nothin is to quote
//	Patch css for selection, post-header, post-entry; Thx: [adamantoi]
//	Fix (again) default value for layout_tpl; missed key on reset settings; Thx: [p1nky]
//	Fix double layout hits
//	Enhance updater behaviour
//	Fix missing add group button
//	Fix edit popbox nfo case:(regular/donatur)
//	Fix smiley custom, delete group visibility, tab sequences;
//	Fix lastfocus after _TEXT.add
//	
//	Fix literal quote tag; fits & set max-width on large images; Thx: [Aa JaMbRoNg]
//	Patch get_quotefrom literal name onleh
//	Patch dismissed after QQ
//	Fix fetch quote after fetch edit
//	Fix partial (untested overall) quickquote
//	Fix custom smiley; reuse old-school filter; Thx: [skycreeper,robertohongo]
//	Fix ordering custom smiley;
//	Fix default value for layout_tpl
//
//
// ==/UserScript==
//
// v4.0.1b - 2012-03-24 . 1332721590952
//	patch donatur w/o capcay
//
// v4.0.0b - 2012-03-24 . 1332711152951
//   init version for livebeta.kaskus.us (*)
//   * !! this QR version is NOT support for old kaskus.us (vbulletin), please use v3.2.7 or v3.2.8 instead
//   * QR v3.x.x will be discontinue and no longer maintained
//   * QR v4 (beta) will be prep for kaskuser in new kaskus, as livebeta is already spread.
//   * QR v4 (beta) with its primary functions is ready to be used but may still have some bugs and fewer feature
//   * QR v4 (beta) is able to quick-edit; exists in discussion group as well.
//
// v0.1 - 2010-06-29
//	 Init
// --
// Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License
// http://creativecommons.org/licenses/by-nc-sa/3.0/deed.ms
// --------------------------------------------------------
(function () {
function ka(a,c,d){if(!B(a))return!1;var e,f,g,j=!1;e=a;f={"{title:(.+)}":["b","$1"],"{sctag:(br)}":["br",""]};for(var v in f)if(g=RegExp(v,""),e.match(g)){j=!0;q(c)&&c?(a=e.replace(g,f[v][1]),a=la(a),e="<"+f[v][0]+("br"==f[v][0]?"/":"")+">"+(a&&"br"!=f[v][0]?a+"</"+f[v][0]+">":"")):q(d)&&"editor"==d&&("{sctag:(br)}"==v?e=a.replace(g,"\n"):(f=g.exec(a),g&&q(f[1])?(a=la(f[1]),e="{title:"+a+"}\n"):e=a+"\n"));break}return j?e:!1}
function la(a){var c,d,e,f=a;e='[\\"\\\'][\\s]*(javascript\\:+(?:[^\\\'\\"]+))[\\"\\\'],((?:\\&lt;|<)*script(?:\\&gt;|>)*),((?:\\&lt;|<)*\\/script(?:\\&gt;|>)*),</?(?:[a-z][a-z0-9]*\\b).*(on(?:[^=]+)=[\\"\\\'](?:[^\\\'\\"]+)[\\"\\\']),</?(?:[a-z][a-z0-9]*\\b).+(style=[\\"\\\'](?:\\w+)\\/\\*[.+]*\\*\\/\\w+\\:[^\\"]+\\"),<[s]*>'.split(",");a="";for(d=e.length;""==a||-1!=a.indexOf("1");)for(var a="",g=0;g<d;g++)B(e[g])&&(c=RegExp(e[g],"ig"),f.match(c)?(a+="1",(c=c.exec(f))&&q(c[1])&&(f=f.replace(c[1],
""))):a+="0");return f}function S(a,c,d){c||(c=100);"function"!=typeof d&&(d=function(){});$(a).show();c=parseInt(c);0<c&&b.$w.setTimeout(function(){d()},c)}function ma(a,c,d){c||(c=100);"function"!=typeof d&&(d=function(){});$(a).hide();c=parseInt(c);0<c&&b.$w.setTimeout(function(){d()},c)}function xa(a){return 1==(""+b.settings.userLayout.config).split(",")[1]?b.settings.userLayout.template.replace(/{message}/gi,a):a}function q(a){return!(null==a&&null!==a)}
function H(a){return null==a&&null!==a}function B(a){return"object"!=typeof a&&"function"!=typeof a}function t(a){return"string"==typeof a&&a?a.replace(/^\s+|\s+$/g,""):""}function ea(a,c,d){E.Ev(c,a,function(a){"function"==typeof d&&d(a)})}function na(a,c){var d=a.replace(/^.*[\/\\]/g,"");"string"==typeof c&&d.substr(d.length-c.length)==c&&(d=d.substr(0,d.length-c.length));return d}function w(a){return document.getElementById(a)}
function Z(a){if(a){for(var c="",d=F("div",{},a),a=d.childNodes.length,e=0;e<a;e++)"object"==typeof d.childNodes[e]&&(c+=function(a){return a.replace(/\&\#(\d+);/g,function(a,c){return String.fromCharCode(parseInt(c))})}(d.childNodes[e].nodeValue));try{d.removeChild(d.firstChild)}catch(f){}return c}}function F(a,c,d){var a=document.createElement(a),e;for(e in c)c.hasOwnProperty(e)&&a.setAttribute(e,c[e]);d&&(a.innerHTML=d);return a}
function fa(a){var c="";if(null==a)return c;for(var d=a.length,e=0;e<d;e++){var f=a.charAt(e);if("&"==f){var g=a.indexOf(";",e+1);if(0<g){e=a.substring(e+1,g);if(1<e.length&&"#"==e.charAt(0))e=e.substring(1),f="x"==e.charAt(0).toLowerCase()?String.fromCharCode(parseInt("0"+e)):String.fromCharCode(parseInt(e));else switch(e){case "nbsp":f=String.fromCharCode(160)}e=g}}c+=f}return c}
function ya(a){var c=[],d,e;for(e=0;e<a.length;++e)d=a.charCodeAt(e),a[e].match(/[\w\[\]\<\>\s\?\'\"\;\:\=\+\-\_\)\(\&\^\$\%\#\@\*\.\,\!\~\}\{\|\/\r\n]/)?c.push(a[e]):(55296<=d&&56319>=d&&(e++,d=9216+(d-55296<<10)+a.charCodeAt(e)),c.push("&#"+d+";"));return c.join("")}function x(a){if(a)return a.stopPropagation(),a.preventDefault(),a;window.event.returnValue=!1;window.event.cancelBubble=!0;return window.event}
function Q(a){a=a.target||a;if("object"!=typeof a)return!1;a.setSelectionRange(0,a.value.length)}function T(){var a=0;self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight);return a}function s(a,c){var d,e=U[a];e&&setTimeout(function(){d=GM_getValue(a,e[0]);if("function"==typeof c)c(d);else if(c)c=d;else return d},0)}
function y(a,c,d){var e;U[a]&&setTimeout(function(){e=GM_setValue(a,c);if("function"==typeof d)d(e);else if(d)d=e;else return e},0)}function za(a,c){try{setTimeout(function(){ret=GM_deleteValue(a);"function"==typeof c&&c(ret)},0)}catch(d){}}
function oa(a,c,d,e){if(!a)return null;var e=[q(e)&&"string"==typeof e[0]?e[0]:";",q(e)&&"string"==typeof e[1]?e[1]:"::"],f,g=o+d,j;s(g,function(d){if(j=d){j=j.split(e[0]);for(f=0;f<j.length;f++)if(j[f].split("=")[0]==a){j.splice(f,1,a+"="+c);y(g,j.join(e[0]));return}j.splice(f,0,a+"="+c);y(g,j.join(e[0]))}else y(g,a+"="+c)})}
function pa(a,c,d,e){if(!a)return null;i(c+" inside");var d=[q(d)&&"string"==typeof d[0]?d[0]:";",q(d)&&"string"==typeof d[1]?d[1]:"::"],f,g=0,j=null;s(o+c,function(v){if(v){f=v.split(d[0]);i(c+" info="+f);for(v=0;v<f.length;v++)if(B(f[v])){var D=f[v].split("=");if(D[0]==a){for(var K=[a],v=D[1].split(d[1]),D=v.length,P=0;P<D;P++)B(v[P])&&K.push(v[P]);j=K;break}}g=1;K&&(j=K);"function"==typeof e&&e(j)}else i(c+" halted"),j=null,g=1});var v=function(){g||b.$w.setTimeout(function(){v()},1)};v()}
function Aa(){"undefined"==typeof unsafeWindow&&(unsafeWindow=window);"undefined"==typeof GM_log&&(GM_log=function(a){try{unsafeWindow.console.log("GM_log: "+a)}catch(c){}});var a=!1;window.navigator.appName.match(/^opera/i)&&"undefined"!=typeof window.opera&&(a=!0,b.isOpera=!0,GM_log=window.opera.postError,i("Opera detected...",0));if("undefined"!=typeof GM_setValue){var c;try{c=GM_setValue.toString()}catch(d){c=".staticArgs.FF4.0"}0<c.indexOf("staticArgs")?(b.isGreaseMonkey=!0,b.isFF4=!1,i("GreaseMonkey Api detected"+
((b.isFF4=0<c.indexOf("FF4.0"))?" >= FF4":"")+"...",0)):c.match(/not\s+supported/)&&(a=!0,b.isBuggedChrome=!0,i("Bugged Chrome GM Api detected...",0))}else a=!0,i("No GM Api detected...",0);b.noCrossDomain=b.isOpera||b.isBuggedChrome;if(a){i("Try to recreate needed GM Api...",0);a=null;try{a=typeof unsafeWindow.localStorage}catch(e){a=null}if("object"==a)i("Using localStorage for GM Api.",0),GM_getValue=function(a,c){var e=unsafeWindow.localStorage.getItem(J+a);if(null==e)return c;switch(e.substr(0,
2)){case "S]":return e.substr(2);case "N]":return parseInt(e.substr(2));case "B]":return"true"==e.substr(2)}return e},GM_setValue=function(a,c){switch(typeof c){case "string":unsafeWindow.localStorage.setItem(J+a,"S]"+c);break;case "number":0>c.toString().indexOf(".")&&unsafeWindow.localStorage.setItem(J+a,"N]"+c);break;case "boolean":unsafeWindow.localStorage.setItem(J+a,"B]"+c)}},GM_deleteValue=function(a){unsafeWindow.localStorage.removeItem(J+a)};else if(!b.isOpera||"undefined"==typeof GM_setValue)i("Using temporarilyStorage for GM Api.",
0),b.temporarilyStorage=[],GM_getValue=function(a,c){return"undefined"==typeof b.temporarilyStorage[J+a]?c:b.temporarilyStorage[J+a]},GM_setValue=function(a,c){switch(typeof c){case "string":case "boolean":case "number":b.temporarilyStorage[J+a]=c}},GM_deleteValue=function(a){delete b.temporarilyStorage[J+a]};"undefined"==typeof GM_openInTab&&(GM_openInTab=function(a){unsafeWindow.open(a,"")});"undefined"==typeof GM_registerMenuCommand&&(GM_registerMenuCommand=function(){GM_log("Notice: GM_registerMenuCommand is not supported.")});
if(!b.isOpera||"undefined"==typeof GM_xmlhttpRequest)i("Using XMLHttpRequest for GM Api.",0),GM_xmlhttpRequest=function(a){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(a.onreadystatechange)a.onreadystatechange(c);if(4==c.readyState&&a.onload)a.onload(c)};c.onerror=function(){if(a.onerror)a.onerror(c)};try{c.open(a.method,a.url,!0)}catch(e){if(a.onerror)a.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(a.headers)for(name in a.headers)c.setRequestHeader(name,
a.headers[name]);c.send(a.data);return c}}GM_getIntValue=function(a,c){return parseInt(GM_getValue(a,c),10)}}function Ba(a,c){arguments.callee.counter?arguments.callee.counter++:arguments.callee.counter=1;GM_log("("+arguments.callee.counter+") "+a)}function i(a){b.__DEBUG__&&Ba(a)}
function ba(a){try{a=decodeURIComponent(a)}catch(c){a=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r|\t|\s{2,})/gm,"").replace(/\%/gm,"%25").toString(),i("decodeURI in tokcap_parser failed"),i("secondary result of page = "+a)}var d,e,f=[0,0];(d=/out\/\?\&hash=([^\'\"]+)/i.exec(a))?(i("old securitytoken="+b._securitytoken),b._securitytoken=f[1]=d[1],$("#qr-securitytoken").val(b._securitytoken),i("\nsecuritytoken updated = "+b._securitytoken+"\nsecuritytoken onfield = "+$("#qr-securitytoken").val()+"\n")):
(i("Page is not containing securitytoken, update failed"),i("sdata - page="+a));if(/recaptcha_response_field/i.exec(a))b.settings.recaptcha=!0,i("Forced gvar.settings.recaptcha ON");else if(e=/id=\"hash\".*value=\"(\w+)/im.exec(a))b.settings.recaptcha&&w("#imgcapcay")&&$("#imgcapcay").html('<input id="hash" name="humanverify[hash]" value="'+e[1]+'" type="hidden">\n'),f[0]=e[1];else if(e=/humanverify[^\>]+.Hitung\:\s?([^\=]+)/i.exec(a)){b.CAPCAT=!0;b.soal_cacats=e[1];var g;if(a=/(\d+)([\Wa-z])(\d+)/i.exec(b.soal_cacats.replace(/\s/g,
"")))switch(a[1]=parseInt(a[1]),a[3]=parseInt(a[3]),a[2]){case "+":g=a[1]+a[3];break;case "x":g=a[1]*a[3];break;case ":":g=a[1]/a[3];break;case "-":g=a[1]-a[3]}b.ans_cacats=g}else b.CAPCAT=!1;return d?f:!1}
function ga(a){a||(a="");b.$w.setTimeout(function(){var c,d,e=[];d=parseInt($("#preview-image .preview-image-unit").length);c=0<d?57*d+"px":"100%";0<d?$(" .clickthumb").show():$(" .clickthumb").hide();$("#preview-image").css("width",c);$("#preview-image-outer").css("visibility","visible");$("#preview-image img").each(function(){e.push($(this).attr("src"))});""==a?s(o+"UPLOAD_LOG",function(a){e=a.split(",");a&&0<e.length&&$.each(e,function(){$("#preview-image").append('<div class="preview-image-unit"><img src="'+
this+'" width="46" height="46" alt="[img]'+this+'[/img]" /><span title="remove" class="modal-dialog-title-close imgremover"/></div>')})}):y(o+"UPLOAD_LOG",""+e)},10)}function qa(){if($(".vertical-text").is(":visible")){var a,c=Math.round(parseInt($(".vertical-text").width())/2)+33;a=c/2+10;$(".vertical-text").css("margin-left","-"+c+"px").css("bottom","-"+a+"px").css("visibility","visible")}}function ra(){$(".active").each(function(){$(this).click()});$("#qr_remoteDC").click();u.dismiss()}
function Ca(a){var c=0==$(".active").length;!a&&c&&""==$("#tmp_chkVal").val()?u.dismiss():u.init({mode:"quote",msg:'You have selected one or more posts. <a id="sdismiss_quote" href="javascript:;">Deselect</a>',cb:function(){$("#sdismiss_quote").click(function(){ra()});$("#squick_quote").css("display","none")},btnset:!0})}
function L(){try{b.sTryEvent.abort(),b.sTryRequest.abort(),void 0!==b.$w.stop?b.$w.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)}catch(a){}if(!b.user.isDonatur&&$("body > #modal_capcay_box").get(0)){var c=$("#wraper-hidden-thing #modal_capcay_box"),d=$("body > #modal_capcay_box");$(c).find("#recaptcha_image").replaceWith($(d).find("#recaptcha_image"));$(c).find("#recaptcha_challenge_field").replaceWith($(d).find("#recaptcha_challenge_field"))}$("#"+m.e.dialogname).css("visibility",
"hidden");$("body > .modal-dialog").remove();$("#qr-modalBoxFaderLayer .cnv").remove();$("body").removeClass("hideflow");$("#"+b.tID).focus()}function sa(a,c){var d;h.init();(d=a.attr("alt"))&&d.match(/_alt_.+/)?(d=a.attr("src"),h.setValue("[IMG]"+d+"[/IMG]"+(!c?" ":""))):"IMG"!=a.get(0).nodeName?(d=a.attr("title"),d=d.split(" "+fa("&#8212;")),h.setValue(d[1]+(!c?" ":""))):h.setValue(d+(!c?" ":""));h.pracheck()}function ca(a,c){h.init();c?h.wrapValue(a,'"'+c+'"'):h.wrapValue(a)}
function da(a){h.init();var c,d,e,f,g={quote:"QUOTE",code:"CODE",html:"HTML",php:"PHP",link:"URL",picture:"IMG",spoiler:"SPOILER",transparent:"COLOR",noparse:"NOPARSE",youtube:"YOUTUBE",strike:""},j=function(){h.focus()};if(H(g[a]))return j();f=h.getSelectedText();e="";if("quote"==a||"code"==a||"html"==a||"php"==a)h.wrapValue(a);else if("spoiler"==a){f=prompt("Please enter the TITLE of your Spoiler:","");if(null==f)return j();h.wrapValue("spoiler",f?f:" ")}else{if("strike"==a){c=""!=f?f:prompt("Please enter Text to strikethrough:",
"strikethrough");if(null==c)return j();a=function(a){for(var a=a.split(""),c="",e=0;e<a.length;e++)c+=a[e]+"\u0336";return""+c}(c);d=[0,2*c.length];""==f?h.setValue(a,d):h.replaceSelected(a,d);return j()}d=function(a){var a=t(a),c;(c=a.match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i))?a=c?c[1]:"":/^[\d\w-]+$/.test(a)||(a=!1);return a};if(""==f){switch(a){case "transparent":e=a;c=prompt("Please enter the Text to be transparent:","text hantu");break;case "noparse":c=prompt("Please enter Text or/with Tags to be no parsed:",
"[code]-CODE-[/code]");break;case "link":e=c=prompt("Please enter the URL of your link:","http://");break;case "picture":c=prompt("Please enter the URL of your image:","http://");break;case "youtube":c=prompt("Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########","")}if(null==c)return j();"youtube"==a&&(c=d(c));if("link"==a||"picture"==a)c=c.match(/((?:http(?:s|)|ftp):\/\/)(?:\w|\W)+(?:\.)(?:\w|\W)+/)?c:null;if(!c)return j();d=[("["+g[a]+(""!=e?"="+e:"")+"]").length,
0];d[1]=d[0]+c.length;h.setValue("["+g[a]+(""!=e?"="+e:"")+"]"+c+"[/"+g[a]+"]",d);return j()}e="transparent"==a?"transparent":"";if("link"==a||"image"==a||"youtube"==a){c="youtube"==a?["Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########",""]:["Please enter the URL of your "+a+":","http://"];c=prompt(c[0],c[1]);if(null==c)return j();switch(a){case "link":e=c;c=f;break;case "youtube":if(c=d(c),!c)return j()}d=[("["+g[a]+(""!=e?"="+e:"")+"]").length,0];d[1]=d[0]+c.length;
h.replaceSelected("["+g[a]+(""!=e?"="+e:"")+"]"+c+"[/"+g[a]+"]",d);return j()}h.wrapValue(g[a],""!=e?e:"")}}function ta(a){var c={bold:"B",italic:"I",underline:"U",left:"LEFT",center:"CENTER",right:"RIGHT"};-1!=a.indexOf("align ")&&(a=a.replace("align ",""));H(c[a])||(h.init(),h.wrapValue(c[a],""),h.pracheck())}
function Da(){$("#title").focus(function(){var a=$(this),c=a.parent();-1!=c.attr("class").indexOf("condensed")&&(c.removeClass("condensed"),a.val(""))}).blur(function(){var a=$(this),c=a.parent();""==t(a.val())&&(a.val(b.def_title),c.addClass("condensed"))}).keydown(function(a){9==a.keyCode&&b.$w.setTimeout(function(){$("#"+b.tID).focus()},50)}).keyup(function(){""!=$(this).val()?$("#close_title").show():$("#close_title").hide()});$("#pick_icon").click(function(){b.$w.clearTimeout(b.sTryEvent);$("#menu_posticon").slideToggle(120,
function(){$("#menu_posticon").is(":visible")?$("#fakefocus_icon").focus():$("#title").focus()})});$("#fakefocus_icon").blur(function(){$("#menu_posticon").is(":visible")&&(b.sTryEvent=b.$w.setTimeout(function(){$("#pick_icon").click()},200))});$("#menu_posticon li a").each(function(){$(this).click(function(){var a=$(this).find("img");$("#hid_iconid").attr("checked",!0);$("#hid_iconid").val($(this).attr("data-rel"));0==a.length?$("#img_icon").hide():$("#img_icon").attr("src",a.attr("src")).show()})});
$("#close_title").click(function(){$("#title").val("").focus();$("#close_title").hide()});$("#mnu_add_title").click(function(){$(".title-message").slideToggle(200,function(){$(".title-message").is(":visible")?$("#title").focus():($("#hid_iconid").val(0),$("#img_icon").attr("src","#").hide(),$("#title").val(""),$("#close_title").hide());$("#hid_iconid").attr("checked",!0)})});$(".fonts ul li a").each(function(){$(this).css("font-family",$(this).attr("title"))});$(".markItUpDropMenu").each(function(){$(this).hover(function(){$(this).find("> ul").show();
var a=$(this);$(document).one("click",function(){$(a).find("> ul").hide()})},function(){b.$w.clearTimeout(b.sTryHoverMenu);$(this).find("> ul").hide()})});$(".markItUpButton a").each(function(){var a=$(this),c=a.attr("class");a.parent();if(c&&-1!=c.indexOf("ev_")){var c=c.replace(/ev_/,""),d,e;switch(c){case "biu":case "align":a.click(function(){e=$(this).attr("title").toLowerCase();ta(e)});break;case "font":a.click(function(){h.init();ca("FONT",$(this).attr("title"));h.pracheck()});break;case "size":a.click(function(){h.init();
ca("SIZE",$(this).attr("title"));h.pracheck()});break;case "color":a.click(function(){h.init();ca("COLOR",$(this).attr("title"));h.pracheck()});break;case "list":a.click(function(){h.init();var a;a="numeric"==$(this).attr("title").toLowerCase().replace(" list","")?"number":"dot";selected=h.getSelectedText();if(""==selected){var c=function(a){var e=prompt("Enter a list item.\nLeave the box empty or press 'Cancel' to complete the list:");h.init();H(a)&&h.setValue("\n");e&&(h.setValue("\n[*]"+e+""),
c(!0))};ca("LIST","number"==a?1:!1);c()}else{for(var e="",d=selected.split("\n"),A=0;A<d.length;A++)t(d[A])&&(e+="\n[*]"+d[A]+"");e="[LIST"+("number"==a?'="1"':"")+"]"+e+"\n[/LIST]";h.replaceSelected(e,[0,e.length])}h.pracheck()});break;case "media":a.click(function(){d=$(this).attr("data-bbcode");da(d);h.pracheck()});break;case "codes":a.click(function(){d=$(this).attr("data-bbcode");da(d);h.pracheck()});break;case "quotes":a.click(function(){d=$(this).attr("data-bbcode");da(d);h.pracheck()});break;
case "misc":a.click(function(){d=$(this).attr("data-bbcode");da(d);h.pracheck()});break;case "smiley":a.click(function(){$(".box-smiley").is(":visible")?n.toggletab(!1):($(".box-smiley").hasClass("events")||($(".box-smiley .goog-tab").each(function(){$(this);$(this).hover(function(){$(this).addClass("goog-tab-hover")},function(){$(this).removeClass("goog-tab-hover")});$(this).click(function(){var a=$(this).attr("id");a?($(this).parent().find(".goog-tab-selected").removeClass("goog-tab-selected"),
$(this).addClass("goog-tab-selected"),n.load_smiley("tabs-sb-"+a)):n.toggletab(!1)})}),n.init()),n.toggletab(!0))});break;case "upload":a.click(function(){$(".box-upload").is(":visible")?r.toggletab(!1):$(".box-upload").hasClass("events")?r.toggletab(!0):($(".box-upload .goog-tab").each(function(){var a=$(this);a.hover(function(){a.addClass("goog-tab-hover")},function(){a.removeClass("goog-tab-hover")}).click(function(){a.attr("id")||r.toggletab(!1)})}),r.init())})}}})}
function Ea(){b.sTryEvent=null;$("#sbutton").click(function(a){x(a);m.init();m.presubmit()});$("#sadvanced").click(function(a){x(a);1==$("#title").closest("div.condensed").length&&$("#title").val("");$("#formform").submit()});$("#spreview").click(function(a){x(a);m.init();m.preview()});$("#squote_post").click(function(){p.quote($(this),function(){u.init({msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){$("#dismiss_request").click(function(){u.dismiss()})},btnset:!1})},
function(){ra();h.lastfocus()})});$("#squick_quote").click(function(){});$("#scancel_edit").click(function(){p.edit_cancel()});$("#clear_text").click(function(){h.set("");h.pracheck();k.provide_draft();$(this).hide()});$("#qr_chkval").click(function(){Ca($("#tmp_chkVal").val())});$(".sidebar-user").hover(function(){b.sTryMenus=b.$w.setTimeout(function(){$(".sidebar-user .toggle-sidebar-wrap").show()},600)},function(){b.$w.clearTimeout(b.sTryMenus);$(this).find(".toggle-sidebar-wrap").hide()});$("#toggle-avatar, .vertical-text").click(function(){var a=
$(this).attr("data-todo");"avatar"==a?($(".sidebar-user").show(),$(".vertical-text").hide()):"side"==a&&($(".sidebar-user").hide(),$(this).width(),$(".vertical-text").show(),qa());y(o+"HIDE_AVATAR",""+("avatar"!=a?"1":"0"),function(){b.settings.hideavatar="avatar"!=a?"1":"0"});N();h.focus()});$("#settings-button").click(function(){M.init()});b.maxH_editor=parseInt(T())-b.offsetEditorHeight;h.setElastic(b.maxH_editor);$("#"+b.tID).keydown(function(a){var c=a.keyCode||a.keyChar,d=(a.ctrlKey?"1":"0")+
","+(a.shiftKey?"1":"0")+","+(a.altKey?"1":"0");9===c&&(x(a),b.$w.setTimeout(function(){$("#sbutton").focus()},50));if(!("0,0,0"==d||"0,1,0"==d)&&!(65>c&&13!=c&&9!=c||90<c))d={83:"sbutton",80:"spreview",88:"sadvanced",66:"bold",73:"italic",85:"underline",69:"center",76:"left",82:"right"},a.ctrlKey?-1!=$.inArray(c,[13,66,73,85,69,76,82])&&(x(a),13===c?$("#sbutton").click():ta(d[c])):a.altKey&&(x(a),$("#"+d[c]).click())}).keyup(function(){$("#clear_text").toggle(""!==$(this).val())});b.settings.qrdraft&&
($("#"+b.tID).keypress(function(a){var c=a.keyCode;37<=c&&40>=c||($("#qrdraft").get(0)&&h.saveDraft(a),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,k.quick_check())}),k._construct(),k.check(),$("#qrdraft").click(function(){var a,c=$(this);a=$("#"+b.tID).val();c.hasClass("jfk-button-disabled")||("idle"==c.attr("data-state")?(h.init(),a==b.silahken||""==a?h.set(b.tmp_text):h.add(b.tmp_text),$("#draft_desc").html(""),c.html("Saved").attr("data-state","saved"),k.switchClass("jfk-button-disabled"),
h.setElastic(b.maxH_editor)):a!=b.silahken&&""!=a&&k.save())}));Da();N()}function Fa(){var a={id:null,name:"",photo:null,isDonatur:!1},c;c=$("#profile-nav .m-panel .fn");var d=$(".img-wrp .photo");if(c.get(0)&&(a.name=c.html(),c=/\/profile\/(\d+)/.exec(c.attr("href"))))a.id=c[1];a.photo=d.get(0)?d.attr("src"):b.kkcdn+"user/avatar/male.jpg";a.isDonatur=$(".quick-reply").get(0)?!0:!1;return a}
function ha(){s(o+"UPDATES",function(a){if(!a||a&&0===a.length)for(var c in U)"string"==typeof c&&y(c,U[c][0])});var a,c={lastused:{},userLayout:{}};s(o+"LAST_UPLOADER",c.lastused.uploader);c.userLayout.config=[];s(o+"LAYOUT_TPL",c.userLayout.template);s(o+"HIDE_AVATAR",function(a){c.hideavatar="1"==a});s(o+"MIN_ANIMATE",function(a){c.minanimate="1"==a});s(o+"UPDATES_INTERVAL",function(a){c.updates_interval=Math.abs(a)});s(o+"QR_DRAFT",function(a){c.qrdraft="0"!=a});s(o+"QR_HOTKEY_KEY",function(a){c.hotkeykey=
a});s(o+"QR_HOTKEY_CHAR",function(a){c.hotkeychar=a});s(o+"TMP_TEXT",function(a){c.tmp_text=a});s(o+"UPDATES",function(a){c.updates="1"==a});b.$w.setTimeout(function(){s(o+"UPDATES",function(){var e;c.userLayout.config=["0","0"];c.userLayout.template="[B]{message}[/B]";pa(b.user.id,"LAYOUT_CONFIG",[null,null],function(a){a||(a=["","0,0"]);c.userLayout.config=a[1].split(",");pa(b.user.id,"LAYOUT_TPL",["<!>","::"],function(a){a||(a=["","[B]{message}[/B]"]);try{c.userLayout.template=decodeURIComponent(a[1]).replace(/\\([\!\:])/g,
"$1")}catch(e){i("decodeURI in get setting failed"),c.userLayout.template=a[1].replace(/\\([\!\:])/g,"$1")}})});e=c.updates_interval;e=isNaN(e)||0>=e?1:99<e?99:e;c.updates_interval=e;e=c.hotkeykey;c.hotkeykey=e&&e.match(/^([01]{1}),([01]{1}),([01]{1})/)?e.split(","):["1","0","0"];e=t(c.hotkeychar);c.hotkeychar=!e.match(/^[A-Z0-9]{1}/)?"Q":e.toUpperCase();b.tmp_text=c.tmp_text;""!=b.tmp_text&&!c.qrdraft&&(y(o+"TMP_TEXT",""),b.tmp_text=null);delete c.tmp_text;a=!0;b.settings=c;b.settings.done=1;ua()})},
5);var d=function(e){if(a)return e=c;b.$w.setTimeout(function(){d(e)},1)};return d()}
function ua(){b.upload_sel={imagedum:"imagedum.com",photoserver:"photoserver.ws",lulzimg:"lulzimg.com/homelulz",imageshack:"imageshack.us",imgur:"imgur.com"};b.uploader={imagedum:{src:"imagedum.com",noCross:"1"},imageshack:{src:"imageshack.us",post:"post.imageshack.us/",ifile:"fileupload",hids:{refer:"http://imageshack.us/?no_multi=1",uploadtype:"on"}},imgur:{src:"imgur.com",noCross:"1"},photoserver:{src:"photoserver.ws",noCross:"1"},lulzimg:{src:"lulzimg.com/homelulz",noCross:"1"}};try{if(b.settings.lastused.uploader&&
(b.upload_tipe=b.settings.lastused.uploader),H(b.upload_sel[b.upload_tipe]))b.upload_tipe="kaskus"}catch(a){b.upload_tipe="kaskus"}}function va(){$("#formqr").is(":visible")?($("#qrtoggle a").removeClass("down"),ma($("#dumy-title"),"fast")):($("#qrtoggle a").addClass("down"),S($("#dumy-title")))}
function N(a){var c=$(".post-wrapper").find(".entry-content").width()+($(".sidebar-user").is(":visible")?0:172)+38;$(".qr-editor-wrap").css("width",c+"px");var c=parseInt(T()),d=0,a=a?a:$(".modal-dialog").hasClass("static_width")?$(".modal-dialog").width():b.bodywidth-100;0<$(".modal-dialog").length&&($(".modal-dialog").css("top",b.offsetLayer+"px").css("width",a+"px").css("left",document.documentElement.clientWidth/2-(a/2+50)+"px"),d=c/2-$(".modal-dialog").height()-5,a=305,$(".capcay-dialog").css("top",
d+"px").css("width",a+"px").css("left",document.documentElement.clientWidth/2-(a/2+50)+"px"),$("#box_preview").css("max-height",c-b.offsetMaxHeight-b.offsetLayer+"px"));b.maxH_editor=c-b.offsetEditorHeight;h.setElastic(b.maxH_editor,1)}
function Ga(){var a,c=b.thread_type;if(a=/hash=(.+)/i.exec($('.m-panel a[href*="/logout/"]').attr("href"))){if(a=a?a[1]:!1,b._securitytoken=""+a,$("#formform").attr("action",b.domain+("forum"==c?"post_reply":"group/reply_discussion")+"/"+b.pID+("forum"==c?"/?post=":"")),$("#qr-securitytoken").val(b._securitytoken),$("#qr-content-wrapper .message").css("overflow","visible"),"group"==c&&($("#qr-discussionid").val(b.discID),$("#qr-groupid").val(b.pID)),$("body").prepend('<div id="qr-modalBoxFaderLayer" class="modal-dialog-bg" style="display:block; visibility:hidden;"></div><div id="wraper-hidden-thing" style="visibility:hidden; position:absolute; left:-99999; bottom:-9999;"></div>'),
!b.user.isDonatur)V(location.protocol+"//www.google.com/recaptcha/api/js/recaptcha_ajax.js","recap",!0),$("#wraper-hidden-thing").append(l.getBOX_RC())}else alert("securitytoken not found")}
function Ha(){$(".quote").each(function(){$(this).click(function(a){x(a);$(".closed-button").get(0)?alert("Sorry! This thread is closed!"):(-1!=$("a.close").attr("class").indexOf("closed")&&$("a.close").click(),-1!=$(".notification:eq(1)").attr("class").indexOf("show-panel")?$(this).removeClass("show-panel"):$(".sign-reg").find(".m-panel").slideToggle(170,function(){$(this).is(":visible")&&($(".notification:eq(1)").addClass("show-panel"),$("#username").focus().delay(500))}))})});$("#loginform").submit(function(a){x(a);
$(this).hide();$("#login_spinner").show().find(".mf-spinner").removeClass("transp");$.post($(this).attr("action"),$(this).serialize(),function(a){JSON.stringify(a).match(/<a\s+href=[\'\"\\]+([^\'\"]+)[^>]+.click\shere/i)?b.$w.setTimeout(function(){$("#login_spinner").find("p").html("Cekibrot Gan....");b.$w.location.reload(!1)},1E3):($("#login_spinner").hide(),$("#loginform").show(),$("#logwarn").html("Wrong user or password"))})}).after('<div style="display:none;" id="login_spinner"><div class="mf-spinner transp chrome-spinner-delay"></div><p>'+
b.loging_in+"</p></div>").prepend('<div id="logwarn"/>')}
function W(a,c){var d,e,f,g,j,v,A;e=$(a).closest("div.post-wrapper");j=$("#"+b.qID).parent().attr("id")!=e.attr("id");v=!$("#formqr").is(":visible");A=350;j?$("#"+b.qID).hide():A=100;f=$(a).offset().top;g=2*Math.floor(b.$w.innerHeight/5);d=0;$("html:not(:animated),body:not(:animated)").animate({scrollTop:f-g},A,function(){!j&&!v?d||($("#"+b.tID).focus(),"function"==typeof c&&c(a),d=1):(e.append($("#"+b.qID)),v&&va(),$("#formqr").show(),$("#"+b.qID).slideDown(220,function(){d||($("#"+b.tID).focus(),
"function"==typeof c&&c(a),d=1)}))})}function ia(){$("#qr-content-wrapper").closest(".post-wrapper").find(".quote").click()}
function ja(){X(l.getCSS());b.bodywidth=$("#content-body").width();b.user=Fa();if(""==b.user.name||null==b.user.id||$(".closed-button").get(0))i('Not login, get the "F"-out'),Ha();else{b.thread_type=location.href.match(/\.kaskus\.us\/group\/discussion\//)?"group":"forum";b.last_postwrap=$(".last").attr("id");b.pID=function(a){var c,f=b.thread_type;"group"==f&&(c=/\/group\/discussion\/(\d+)\//i.exec(location.href),b.discID=c?c[1]:null);return(c="forum"==f?/\/post_reply\/(\d+)/.exec(a):/\/reply_discussion\/(\d+)/.exec(a))?
c[1]:!1}($(".new-reply").attr("href"));ha(b.settings);var a=0,c=function(){!b.settings.done&&50>a?(b.$w.setTimeout(function(){c()},100),a++):b.$w.setTimeout(function(){$(".quick-reply").empty().remove();$(".button_qr").each(function(){$(this).remove()});$("#"+b.last_postwrap).append(l.getTPL());$(".action-button:eq(1)").css("position","absolute");$("#markItUpReply-messsage").show();"forum"==b.thread_type?($(".quote").each(function(){var a=$(this).parent();$(this).before('<div class="qqwrap" style="position:relative;display:inline;" />');
$(this).appendTo($(a).find(".qqwrap"));$(this).click(function(a){x(a);a=$(this);1==b.edit_mode?p.edit_cancel(!1)?W(a):h.focus():W(a)}).css("padding-right","30px").after('<a href="javascript:;" style="" title="Quick Quote" class="qr-quick-quote" href="'+$(this).attr("href")+'"></a>')}),$(".qr-quick-quote").each(function(){$(this).click(function(a){x(a);a=function(a){W(a,function(c){G.init(c,function(){h.lastfocus()});ma($(a),210,function(){S($(a),360)})})};$(this);1==b.edit_mode?p.edit_cancel(!1)?
a($(this)):h.lastfocus():a($(this))})}),$(".multi-quote").each(function(){$(this).click(function(a){x(a);b.sTry_canceling?delete b.sTry_canceling:1==b.edit_mode?p.edit_cancel(!1)?$("#qr_chkcookie").click():(b.sTry_canceling=1,$(this).click()):$("#qr_chkcookie").click()})})):$(".post-entry").each(function(){var a=$(this).find(".entry-footer");$(a).get(0)||$(this).append('<div class="entry-footer" />');$(a).append('<a href="javascript:;" class="button quote reply"><img src="'+b.kkcdn+'css_v0.1/img/icon/quote.png" alt="" /> Reply</a>');
$(this).find(".reply").click(function(a){x(a);var c=$(this),a=function(){W(c,function(){var a,e,d,A=$(c).closest(".post-wrapper");A.attr("id")&&(a=b.domain+$(A).find("a.fn").attr("href").substring(1),e=$(A).find("a.fn").html(),d=$(A).attr("id"));h.init();h.set("[URL="+b.domain+"group/discussion/"+b.discID+"/"+b.pID+"/"+d.replace(/gm/gi,"")+"/1/gm/?#"+d+"][B]re[/B][/URL]: [URL="+a+"]@"+e+"[/URL]\n");window.setTimeout(function(){Q($("#"+b.tID).get(0))},20)})};1==b.edit_mode?p.edit_cancel(!1)?a():h.focus():
a()})});$(".edit").each(function(){$(this).click(function(a){x(a);p.edit($(this),function(){u.init({mode:"quote",msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){$("#dismiss_request").click(function(){u.dismiss()})},btnset:!1})},function(){u.init({mode:"edit",msg:"You are in <b>Edit-Mode</b>",btnset:!0});h.lastfocus()});W($(this))})});$(".markItUpHeader a").each(function(){$(this).attr("href","javascript:;");$(this).click(function(a){x(a)})});Ga();Ea();$(document).ready(function(){$("#qrtoggle a").removeClass("pull-disabled").addClass("pull");
$("#qrtoggle").removeClass("pull-button-disabled").addClass("pull-button");$("#qrtoggle a").click(function(){$("#formqr").toggle(180,function(){va();$("#"+b.tID).focus()})});$(b.$w).keydown(function(a){var c,e,d=a.keyCode,A=0,D=(a.ctrlKey?"1":"0")+","+(a.shiftKey?"1":"0")+","+(a.altKey?"1":"0");if(27==d&&$("#"+m.e.dialogname).is(":visible")&&"visible"==$("#"+m.e.dialogname).css("visibility"))x(a),L(),$("#"+b.tID).focus();else if(!("0,0,0"==D||"0,1,0"==D)&&!(65>d||90<d)){c=b.settings.hotkeykey.toString();
e=!b.isOpera?"0,0,1":"1,0,1";switch(D){case c:c=b.settings.hotkeychar.charCodeAt();d==c&&(A=1,ia());break;case e:81==d&&(A=1,ia(),$("#squote_post").click());break;case "1,1,0":81==d?(A=1,$("#sdismiss_quote").click()):68==d&&!$("#qrdraft").hasClass("jfk-button-disabled")&&(A=1,ia(),$("#qrdraft").click())}A&&x(a)}}).resize(function(){var a=$("#content-body").width();b.bodywidth=a;b.maxH_editor=parseInt(T())-b.offsetEditorHeight;N()});t(b.tmp_text)&&b.settings.qrdraft&&(k.switchClass("gbtn"),k.title("continue"),
$("#draft_desc").html('<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available'),$("#draft_desc #clear-draft").click(function(){k.clear()}));window.setTimeout(function(){qa()},888);!b.noCrossDomain&&b.settings.updates&&0==O&&window.setTimeout(function(){C.check()},2E3);var a,c;c=$("#reply-messsage");a=$(c).width();c=$(c).closest("fieldset").width();2*a-10<c&&confirm("Your QR CSS bulk seems not loaded properly\nReload & refetch them now?")&&(b.isOpera?X(b.kqr_static+b.css_default+
"?"+Math.random().toString().replace(/0\./g,"").substring(0,6),"direct_css",!0):(z.engage=!1,$("#xhr_css").remove(),$("#qr-content-wrapper").hide(),window.setTimeout(function(){R(true,function(){location.reload(false)})},1)));V(l.getSCRIPT());window.setTimeout(function(){$("#hidrecap_btn").click()},100)})},50)};c()}}
function Ia(){var a,c,d=function(){var a,c=!1;ua();for(var e in b.uploader)if((a=b.uploader[e].src||null)&&-1!=self.location.href.indexOf(a)){c=""+e;break}return c}(),e="";if(top!==self){switch(d){case "imageshack":e='h1,#top,.reducetop,#panel,#fbcomments,#langForm,.menu-bottom,#done-popup-lightbox,.ad-col{display:none!important}.main-title{border-bottom:1px dotted rgb(204, 204, 204);padding:5px 0 2px 0;margin:5px 0 2px 0}.right-col input{padding:0;width:99%;font-family:"Courier New";font-size:8pt}';
break;case "imgur":e="div#logo{display:none!important}#content{margin-top:15px}";break;case "photoserver":e="body,.content{margin:0!important;margin-top:35px!important}body>img,#topbar{top:0!important}body{background-color:#fff}#loginbar{top:38px!important;display:block}#footer{padding:0}#overlay .content{top:3px!important}#overlay{position:absolute!important}";break;case "lulzimg":e="#logo,#histats_counter{display:none}";break;case "imagedum":e="#FFN_imBox_Container, div#full > div:last-child,#wrapper p:first-child,.addthis_toolbox{display:none!important}.nav{position:absolute;top:0;z-index:99}#content{position:absolute;top:0}"}""!=
e&&X(e,"inject_host_css",!0);a=I('//input[@wrap="off"]',null,!0);"imageshack"==d&&a&&(b.sITryKill=window.setInterval(function(){if(I(".ui-dialog")){clearInterval(b.sITryKill);var e;c=I('//div[contains(@style,"z-index")]',null);if(e=c.snapshotLength)for(var d=0;d<e;d++)E.remove(c.snapshotItem(d));I("#ad")&&E.remove(I("#ad"));window.setTimeout(function(){a.removeAttribute("disabled");var e=a.parentNode.parentNode;if(c=I(".tooltip",e))c[0].innerHTML=c[1].innerHTML="",E.add(a,e);var d,e=function(a){return F("div",
{"class":"main-title"},a)},f=function(a){var c=a.lastIndexOf("."),c=a.substring(0,c)+".th"+a.substring(c);return"[URL="+a+"]"+("[IMG]"+c+"[/IMG]")+"[/URL]"};if(c=I(".right-col",null)){c[0].innerHTML="";d=e("Direct Link");E.add(d,c[0]);d=F("input",{type:"text",value:a.value,readonly:"readonly","class":"readonly"});ea("focus",d,function(a){Q(a)});E.add(d,c[0]);try{d.focus(),Q(d)}catch(g){}d=e("BBCode IMG");E.add(d,c[0]);d=F("input",{type:"text",value:"[IMG]"+a.value+"[/IMG]",readonly:"readonly","class":"readonly"});
ea("focus",d,function(a){Q(a)});E.add(d,c[0]);d=e("BBCode Thumbnail");E.add(d,c[0]);d=F("input",{type:"text",value:f(a.value),readonly:"readonly","class":"readonly"});ea("focus",d,function(a){Q(a)});E.add(d,c[0])}},500)}else 0<max||clearInterval(b.sITryKill)},50));return!1}}function R(a,c){!$("#xhr_css").get(0)&&b.ix<b.mx?(z.engage||(z.init(),z.engage=1),b.$w.setTimeout(function(){R(a,c)},200),b.ix++):(b.ix=0,z.engage=null,a||ja(),"function"==typeof c&&c())}
function wa(){"undefined"==typeof unsafeWindow.jQuery&&b.ix<b.mx?(b.$w.setTimeout(function(){wa()},200),b.injected||(V(location.protocol+"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"),b.injected=!0),b.ix++):"undefined"!=typeof unsafeWindow.jQuery&&($=unsafeWindow.$=unsafeWindow.jQuery=unsafeWindow.jQuery.noConflict(!0),b.ix=0,b.isOpera?(i("[Opera|Debug] fetch fresh css from: "+b.kqr_static+b.css_default),X(b.kqr_static+b.css_default,"direct_css",!0),window.setTimeout(function(){ja()},
350)):s(o+"CSS_META",function(a){if(a){var c,a=a.split(";");(c=/kqr_quad\.([^\.]+).css/.exec(a[0]))?b.scriptMeta.cssREV!=c[1]||parseInt(a[0])+6048E5<(new Date).getTime()?R():s(o+"CSS_BULK",function(a){a?(z.css_name="kqr_quad."+c[1]+".css",z.set_css(a,ja)):R()}):R()}else R()}))};
var b=function(){},O=0;b.sversion="v4.0.2b";b.scriptMeta={timestamp:1333815628146,dtversion:120407402,titlename:"Quick Reply"+(0!==O?"+":""),scriptID:80409,cssREV:120407402};b.scriptMeta.fullname="Kaskus "+b.scriptMeta.titlename;b.__DEBUG__=0;b.$w=window;
var U={KEY_SAVE_SAVED_AVATAR:[""],KEY_SAVE_LAST_UPLOADER:[""],KEY_SAVE_UPDATES:["1"],KEY_SAVE_UPDATES_INTERVAL:["1"],KEY_SAVE_HIDE_AVATAR:["1"],KEY_SAVE_MIN_ANIMATE:["0"],KEY_SAVE_QR_DRAFT:["1"],KEY_SAVE_CUSTOM_SMILEY:[""],KEY_SAVE_QR_HOTKEY_KEY:["1,0,0"],KEY_SAVE_QR_HOTKEY_CHAR:["Q"],KEY_SAVE_LAYOUT_CONFIG:[""],KEY_SAVE_LAYOUT_TPL:[""],KEY_SAVE_TMP_TEXT:[""],KEY_SAVE_QR_LastUpdate:["0"],KEY_SAVE_QR_LASTPOST:["0"],KEY_SAVE_UPLOAD_LOG:[""],KEY_SAVE_CSS_BULK:[""],KEY_SAVE_CSS_META:[""]},o="KEY_SAVE_",J="GM_",V=function(a,c,d){var e=F("script",{type:"text/javascript"});q(c)&&B(c)&&e.setAttribute("id",c);a.match(/^https?:\/\/.+/)?e.setAttribute("src",a):e.appendChild(document.createTextNode(a));if(q(d)&&d)document.body.insertBefore(e,document.body.firstChild);else{var f=document.getElementsByTagName("head");q(f[0])&&"HEAD"==f[0].nodeName?b.$w.setTimeout(function(){f[0].appendChild(e)},100):document.body.insertBefore(e,document.body.firstChild)}return e},X=function(a,c,d){var e,f;a.match(/^https?:\/\/.+/)?e=F("link",{type:"text/css",rel:"stylesheet",href:a}):(e=F("style",{type:"text/css"}),e.appendChild(document.createTextNode(a)));q(c)&&B(c)&&e.setAttribute("id",c);q(d)&&d?document.body.insertBefore(e,document.body.firstChild):(f=document.getElementsByTagName("head"),q(f[0])&&"HEAD"==f[0].nodeName?b.$w.setTimeout(function(){f[0].appendChild(e)},100):document.body.insertBefore(e,document.body.firstChild));return e},I=function(a,b,c){if(b&&"string"==typeof b&&(b=I(b,null,!0),!b))return null;if(!a)return!1;if("object"==typeof a)return a;b=b||document;return"/"==a[0]||"."==a[0]&&"/"==a[1]?c?document.evaluate(a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:document.evaluate(a,b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null):"."==a[0]?b.getElementsByClassName(a.substr(1)):b.getElementById("#"==a[0]?a.substr(1):a.substr(0))},E={g:function(a){return!a?!1:B(a)?document.getElementById(a):a},add:function(a,b){a=this.g(a);b=this.g(b);a&&b&&b.appendChild(a)},remove:function(a){(a=this.g(a))&&a.parentNode&&a.parentNode.removeChild(a)},Ev:function(){if(window.addEventListener)return function(a,b,c,d){"object"==typeof a&&this.g(a).addEventListener(b,function(a){c(a)},H(d)?!1:d)};if(window.attachEvent)return function(a,b,c){this.g(a).attachEvent("on"+b,function(){c.call(this.g(a),window.event)})}}()},l={mCls:["markItUpButton","markItUpDropMenu",'<li class="markItUpSeparator">---------------</li>'],menuFont:function(a){var b=l.mCls,c="Arial,Arial Black,Arial Narrow,Book Antiqua,Century Gothic,Comic Sans MS,Courier New,Georgia,Impact,Lucida Console,Times New Roman,Trebucher,Verdana".split(","),d,e=c.length;d='<li class="'+b[0]+" "+b[0]+a+" fonts "+b[1]+'"><a title="Fonts" href="">Fonts</a><ul>';for(var f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+a+"-"+(f+1)+" font-"+c[f].toLowerCase()+'"><a title="'+c[f]+'" class="ev_font" href="">'+c[f]+"</a></li>";return d+"</ul></li>"},menuSize:function(a){var b=l.mCls,c;c='<li class="'+b[0]+" "+b[0]+a+" size "+b[1]+'"><a title="Size" href="">Size</a><ul>';for(var d=1;7>=d;d++)c+='<li class="'+b[0]+" "+b[0]+a+"-1 size-"+d+'"><a title="'+d+'" class="ev_size" href="">'+d+"</a></li>";return c+"</ul></li>"},menuColor:function(a){var b=l.mCls,c,d=l.getSetOf("color");c='<li class="'+b[0]+" "+b[0]+a+" "+b[1]+'"><a title="Colors" href="">Colors</a>';c+='<ul class="markItUpButton'+a+'-wrapper">';for(hex in d)a=d[hex],c+='<li class="'+b[0]+'"><a title="'+a+'" class="ev_color"  style="width:0; background-color:'+hex+'" href="">'+a+"</a></li>";return c+"</ul></li>"},menuBIU:function(a){for(var b=l.mCls,c=["Bold","Italic","Underline"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+(f+a)+'"><a title="'+c[f]+'" class="ev_biu" href="">'+c[f]+"</a></li>";return d},menuAlign:function(a){for(var b=l.mCls,c=["Align Left","Align Center","Align Right"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+(a+f)+'"><a title="'+c[f]+'" class="ev_align" href="">'+c[f]+"</a></li>";return d},menuList:function(a){for(var b=l.mCls,c=["Numeric list","Bulleted list"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+a[f]+'"><a title="'+c[f]+'" class="ev_list"  href="">'+c[f]+"</a></li>";return d},menuMedia:function(a){var b,c=l.mCls,d=["Insert Link","Insert Picture","Embedding Youtube"],e="",f=d.length;b=["link","picture","youtube"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="'+d[g]+'" class="ev_media" data-bbcode="'+b[g]+'" href="">'+d[g]+"</a></li>";return e},menuCode:function(a){var b,c=l.mCls,d=["CODE","HTML","PHP"],e="",f=d.length;b=["code","html","php"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="Wrap ['+d[g]+'] around text" class="ev_codes" data-bbcode="'+b[g]+'" href="">Wrap ['+d[g]+"] around text</a></li>";return e},menuQuote:function(a){var b,c=l.mCls,d=["QUOTE","SPOILER","TRANSPARENT","NOPARSE"],e="",f=d.length;b=["quote","spoiler","transparent","noparse"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="Wrap ['+d[g]+'] around text" class="ev_quotes" data-bbcode="'+b[g]+'" href="">Wrap ['+d[g]+"] around text</a></li>";return e},menuIcon:function(){var a=l.mCls,c="",d=0,e=l.getSetOf("posticon"),c='<ul id="menu_posticon" style="display:none;" class="menu-post-icon" >';for(icon in e)c+='<li class="'+a[0]+' fonts "><a title="" href="javascript:;" data-rel="'+d+'" data-name="'+(!e[icon]?"":e[icon].replace(/\./g,""))+'">'+(e[icon]?'<img src="'+b.domain+"img/icons/new/"+e[icon]+'" border=0>'+icon:"No Icon")+"</a></li>",d++;return c+"</ul>"},getTPL:function(){var a=l.mCls[2],c=l.mCls[0],d='<span class="inner_title">'+b.inner.reply.title+'</span>  <a class="qrlink" target="_blank" href="'+(0==O?"http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID.toString():"https://addons.mozilla.org/en-US/firefox/addon/kaskus-quick-reply/")+'">'+b.sversion+"</a>";return'<div id="'+b.qID+'"><div class="quick-reply"><div class="qr-reply-header"><div id="dumy-title" class="reply-header" style="display:none;">'+d+'</div><span id="draft_desc" style="position:absolute; right:122px; top:5px; font-size:11px; color:#999; padding:1px 3px;">blanky</span><div id="qrdraft" class="goog-inline-block jfk-button jfk-button-standard jfk-button-disabled" style="position:absolute; z-index:31; right:35px; top:1px; height:25px; line-height:25px; min-width:50px!important;">Draft</div><div id="qrtoggle" class="pull-button-disabled" style="left:97%!important; top:1px; z-index:32;"><a title="Toggle QR" class="pull-disabled" href="javascript:;">pull</a></div></div><div id="formqr"><div id="notify_wrap" class="icon-button vcard" style="display:none; position:relative;"><div class="qr-m-panel" style="display:block;"><a id="scancel_edit" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="display:none;">Cancel Edit</a><span id="quote_btnset" style="display:none;"><a id="squote_post" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="">Quote</a>  <a id="squick_quote" class="goog-inline-block jfk-button jfk-button-standard btnlink g_warn" style="display:">Quick Quote</a></span></div><div class="g_notice" id="notify_msg" style="display: block;"></div></div><form method="post" id="formform" name="postreply" action="#"><input type="hidden" value="" name="securitytoken" id="qr-securitytoken"/><input type="hidden" value="" name="recaptcha_challenge_field" id="qr-recaptcha_challenge_field"/><input type="hidden" value="" name="recaptcha_response_field" id="qr-recaptcha_response_field"/>'+("group"==b.thread_type?'<input type="hidden" value="" name="discussionid" id="qr-discussionid" /><input type="hidden" value="" name="groupid" id="qr-groupid" />':"")+'<input type="hidden" value="Preview Post" name="preview"/><input type="hidden" value="1" name="parseurl"/><input type="hidden" value="9999" name="emailupdate"/><input type="hidden" value="0" name="folderid"/><input type="hidden" value="0" name="rating"/><input id="hid_iconid" type="radio" name="iconid" value="0" style="position:absolute!important; z-index:-1; top:40px; width:1px; cursor:none;"/><fieldset><div class="reply-message"><div class="message"><div class="markItUp" id="markItUpReply-messsage" style="display:none!important;"><div class="markItUpContainer"><div class="title-message" style="display:none;"><input id="fakefocus_icon" type="text" style="position:absolute!important; color:transparent; background:transparent; left:5px; top:20px; width:1px; border:0px;" value=""/><div class="title-message-sub condensed"><img id="img_icon" class="modal-dialog-title-imgicon" src="#" style="display:none;"/><ul class="ulpick_icon"><li id="pick_icon" class="modal-dialog-title-pickicon markItUpButton markItUpDropMenu" title="Pick Icon"/>'+l.menuIcon()+'</li></ul><input id="title" type="text" class="twt-glow" value="'+b.def_title+'" name="title" title="(optional) Message Title" style="width:82%;"/><span id="close_title" class="modal-dialog-title-close" title="Remove (optional) title-message" style="display:none;"/></div></div><div class="markItUpHeader"><ul><li class="'+c+" "+c+'96 "><a id="mnu_add_title" title="Add Title Message" href="">Add Title Message</a></li>'+a+l.menuBIU(1)+a+l.menuAlign(4)+a+l.menuList([8,7])+a+l.menuFont(19)+l.menuSize(20)+l.menuColor(95)+a+l.menuMedia([11,14,22])+a+'<li class="'+c+" "+c+'99 "><a class="ev_smiley" title="Smiley List " href="">Smiley List </a></li><li class="'+c+" "+c+'98 "><a class="ev_upload" title="Uploader " href="">Uploader </a></li>'+a+l.menuCode([16,50,51])+a+l.menuQuote([15,21,97,52])+a+'<li class="'+c+" "+c+'53 "><a class="ev_misc" title="Strikethrough text" href="" data-bbcode="strike">Strikethrough text</a></li></ul></div><div style="clear:left; position:relative;"><div class="vertical-text toggle-sidebar" data-todo="avatar" style="display:'+(b.settings.hideavatar?"":"none")+';"><span class="img-wrp"><img class="photo" src="'+b.user.photo+'" border="0" style=""/></span>'+b.user.name+(b.user.isDonatur&&"group"!=b.thread_type?' <span class="logged-isdonat">[$]</span>':"")+'</div><div class="sidebar-user" style="display:'+(b.settings.hideavatar?"none":"")+'"><div class="toggle-sidebar-wrap" style="display:none"><span id="toggle-avatar" class="toggle-sidebar" data-todo="side"><<</span> <a class="change-avatar" href="'+b.domain+'user/editprofile" target="_blank">change</a></div><img src="'+b.user.photo+'" border="0" style="height:100px"/><div id="logged-username"><a href="'+b.domain+"profile/"+b.user.id+'">'+b.user.name+(b.user.isDonatur?' <span class="logged-isdonat">[$]</span>':"")+'</a></div></div><div class="qr-editor-wrap" style=""><span id="clear_text" class="modal-dialog-title-close" title="Clear Editor" style="display:none;right:10px" /><textarea id="'+b.tID+'" rows="50" name="message" class="markItUpEditor qr-editor twt-glow" style="width:100%;"/><div></div></div></div></div></div><div class="cont-bottom"><div class="thread-prevnext reply-header" style="display:"><div class="box-bottom" style="display:none"><div class="box-smiley" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tkecil" class="goog-tab goog-tab-selected">Kecil</div><div style="-moz-user-select:none" id="tbesar" class="goog-tab">Besar</div><div style="-moz-user-select:none" id="tcustom" class="goog-tab green-tab">Custom</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content" class="goog-tab-content"><div id="tabs-loader" class="mf-spinner"></div><div id="tabs-content-inner"></div></div></div><div class="box-upload" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tupload" class="goog-tab green-tab goog-tab-selected">Uploader</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content-upl" class="goog-tab-content"><div id="tabs-content-upl-inner" style="position:relative;" /></div></div></div><div class="button-bottom"><input id="qr_chkval" type="button" style="display:none;" value="cv" /><input id="qr_chkcookie" type="button" style="display:none;" value="cq" onclick="chkMultiQuote()" /><input id="qr_remoteDC" type="button" style="display:none;" value="dc" onclick="deleteMultiQuote()" /><div id="settings-button" title="Settings"></div><div class="qr-title" style="display:inline-block">'+d+'</div><input type="submit" tabindex="1" value="'+b.inner.reply.submit+'" name="sbutton" id="sbutton" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'"/><input type="submit" tabindex="2" value="Preview Post" name="spreview" id="spreview" class="goog-inline-block jfk-button jfk-button-standard"/><input type="submit" tabindex="3" value="Go Advanced" name="sadvanced" id="sadvanced" class="goog-inline-block jfk-button jfk-button-standard"/>'+(b.__DEBUG__?"<br/>":"")+'<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="tmp_chkVal" />\n\n<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="current_ckck" />\n\n</div></div></div></fieldset></form></div></div></div>'},getBOX:function(){return'<div id="modal_dialog_box" class="modal-dialog" style="left: 523px; top: 181px; display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Preview '+(b.edit_mode?b.inner.edit.title:b.inner.reply.title)+'</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_preview_title"></h1><div id="box_preview" class="entry-content" style=""><img src="'+b.B.throbber_gif+'" border=0/> <i style="font-size:10px">loading...</i></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:none;"><button id="box_prepost" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'" style="-moz-user-select: none;">'+(b.edit_mode?b.inner.edit.submit:"Post")+'</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getBOX_RC:function(){return'<div id="modal_capcay_box" class="capcay-dialog" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">'+(b.edit_mode?"Saving Changes":"Image Verification")+'</span><span class="modal-dialog-title-close popbox"/></div><input id="hidrecap_btn" value="reCAPTCHA" type="button" style="display:" onclick="showRecaptcha(\'box_recaptcha_container\');" class="ninja" /><input id="hidrecap_reload_btn" value="reload_reCAPTCHA" type="button" style="display:" onclick="Recaptcha.reload();" class="ninja" /><div id="box_wrap" class="ycapcay">'+(b.edit_mode?"":'<div><label for="recaptcha_response_field">Prove you\'re not a robot</label></div>')+'<div id="box_response_msg" class="ghost"></div><div id="box_recaptcha_container" class="entry-content"><div id="box_progress_posting" class="activate-disabled "></div><div class="recaptcha-widget " id="recaptcha_widget">'+l.getCUSTOM_ReCapcay()+'</div></div><div id="cont_button" class="modal-dialog-buttons" '+(b.edit_mode?' style="visibility:hidden;"':"")+'><button id="box_post" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Post</button></div></div></div>'},getCUSTOM_ReCapcay:function(){return'<div id="recaptcha_image" style="width: 300px; height: 57px;"><img width="300" height="57" src="" style="display: block;"/></div><div class="recaptcha-main"><label><strong><span class="recaptcha_only_if_image" id="recaptcha_instructions_image">Please Insert ReCapcay:</span></strong><span id="recaptcha_challenge_field_holder" style="display: none;"/><input type="text" name="recaptcha_response_field" id="recaptcha_response_field" autocomplete="off"/></label><div class="recaptcha-buttons"><a title="Get a new challenge" href="javascript:Recaptcha.reload()" id="recaptcha_reload_btn"><span>Reload reCapcay</span></a><a title="Help" href="javascript:Recaptcha.showhelp()" id="recaptcha_whatsthis_btn"><span>Help</span></a></div></div>'},getTPLCustom:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><div id="dv_menu_disabler" style="position:absolute; padding:0;margin:0;border:0; opacity:.15; filter:alpha(opacity=15); background:#000; width:100%; height:100%; display:none;"></div><ul id="ul_group" class="qrset_mnu">'+a+'</ul></div><div class="sidsid cs_right"><div id="custom_bottom" style="margin:8px 0; display:none;"><input type="hidden" id="current_grup" value="" /><input type="hidden" id="current_order" value="" /><a id="manage_btn" tabindex="502" href="javascript:;" class="gbtn gbtn-p3 lilbutton" style="padding: 1px 8px;">Manage</a><span id="title_group" style="margin-left: 8px; font-weight: bold;"></span><a id="manage_cancel" tabindex="503" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 5px; display: none;">Cancel</a><a id="manage_help" tabindex="504" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 20px; display: none;" title="RTFM">[ ? ]</a><span id="position_group" style="margin-left:10px; display:none"/></div><div id="scustom_container" style="max-width: 829px;"><div style="margin:8px 0">Custom Smiley Not Found</div></div><div id="custom_addgroup_container" style="display: none;"><div id="manage_container"><div class="smallfont" style="margin-bottom:5px;"><b id="label_group">Group</b>: <input id="input_grupname" tabindex="500" class="input_title" title="Group Name" style="width: 200px;" value=""/><a id="delete_grupname" tabindex="506" href="javascript:;" class="smallfont" style="margin-left:20px; padding:1px 5px; color:red;" title="Delete this Group">delete</a></div><textarea id="textarea_scustom_container" tabindex="501" class="txta_smileyset"></textarea></div></div></div></div>'},getTPLUpload:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><ul id="ul_group" class="qrset_mnu">'+a+'<li><div style="height:1px"></div></li></ul></div><div class="sidsid cs_right"><div id="uploader_container" style="max-width: 829px;"></div></div><span id="toggle-sideuploader" class="toggle-sidebar" data-state="hide">&#9664;</span></div>'},getTPLGeneral:function(){var a,c;c=(""+b.settings.hotkeykey).split(",");a=(""+b.settings.userLayout.config).split(",");return'<table border="0"><tr><td style="width:45%"><input id="misc_updates" class="optchk" type="checkbox"'+(b.settings.updates?' checked="checked"':"")+' /><label for="misc_updates" title="Check Userscripts.org for QR latest update">Updates</label>  '+(!b.noCrossDomain?'<a id="chk_upd_now" class="gbtn" href="javascript:;" title="Check Update Now">check now</a><span id="chk_upd_load" class="uloader" style="display:none">checking.. <img src="'+b.B.throbber_gif+'" border=0/></span>':"")+'<div id="misc_updates_child" class="smallfont" style="margin:-5px 0 0 20px; display:'+(b.settings.updates?"block":"none")+'" title="Interval check update, 0 < interval <= 99"><label for="misc_updates_interval">Interval:<label> <input id="misc_updates_interval" value="'+b.settings.updates_interval+'" maxlength="5" style="width:45px; padding:0; margin-top:2px;" type="text" /> days</label></div><div style="height: 1px;"></div></td><td><input id="misc_hotkey" class="optchk" type="checkbox"'+("0,0,0"!=""+b.settings.hotkeykey?' checked="checked"':"")+'/><label for="misc_hotkey">QR-Hotkey</label><div id="misc_hotkey_child" class="smallfont" style="margin:-3px 0 0 15px; display:'+("0,0,0"!=""+b.settings.hotkeykey?"block":"none")+'"> <input id="misc_hotkey_ctrl"'+("1"==c[0]?' checked="checked"':"")+' type="checkbox" /><label for="misc_hotkey_ctrl">ctrl</label> <input id="misc_hotkey_alt" type="checkbox"'+("1"==c[2]?' checked="checked"':"")+' /><label for="misc_hotkey_alt">alt</label> <input id="misc_hotkey_shift" type="checkbox"'+("1"==c[1]?' checked="checked"':"")+' /><label for="misc_hotkey_shift">shift</label> + <label for="misc_hotkey_char"> </label><input title="alphnumeric [A-Z0-9]; blank=disable" id="misc_hotkey_char" value="'+b.settings.hotkeychar+'" style="width: 20px; padding:0;" maxlength="1" type="text" /></div></td></tr></table><div style="width:98%; padding-left:10px;"><input id="misc_autolayout" type="checkbox" class="optchk"'+("1"==a[1]?' checked="checked"':"")+' /><label for="misc_autolayout">AutoLayout</label>  <a id="edit_tpl_cancel" href="javascript:;" class="cancel_layout gbtn" style="display:'+("1"==a[1]?"":"none")+';"> cancel </a><div id="misc_autolayout_child" style="margin-top:-3px; display:'+("1"==a[1]?"block":"none")+'"><textarea rows="3" style="overflow:auto; letter-spacing:0; line-height:14pt; height:28pt; max-width:95%; min-width:95%; max-height:280px; margin-left:20px;" class="txta_editor" id="edit_tpl_txta">'+b.settings.userLayout.template+"</textarea></div></div>"},getTPLAbout:function(){return"<b>"+b.scriptMeta.fullname+" &#8212; "+b.sversion+"</b> <small>"+b.scriptMeta.dtversion+'</small><br><div style="height: 3px;"></div><a href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+'" target="_blank">'+b.scriptMeta.fullname+'</a> is an improvement of `kaskusquickreply` (Firefox Add-Ons) initially founded by bimatampan<br><div style="height: 7px;"></div><a href="http://code.google.com/p/dev-kaskus-quick-reply/" target="_blank"><img src="http://ssl.gstatic.com/codesite/ph/images/defaultlogo.png" title="dev-kaskus-quick-reply - Kaskus Quick Reply on Google Code" border="0" height="33"></a> · <a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" border="0"></a><br>Licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License</a><br><div style="height: 7px;"></div>KASKUS brand is a registered trademark of www.kaskus.us<br>'+b.scriptMeta.fullname+' (QR) is not related to or endorsed by www.kaskus.us in any way.<br>QR+ (Add-ons) is ported from the original QR (@userscripts.org) as specified by author.<br><div style="height: 3px;"></div><b>Founded By:</b> bimatampan<br><b>Author By:</b> <a href="'+b.domain+'profile/302101" class="nostyle" target="_blank"><b>Idx</b></a><br><b>Addons Ported By:</b> <a href="'+b.domain+'profile/1323912" class="nostyle" target="_blank"><b>Piluze</b></a><br><div class="st_contributor" style="height:190px; vertical-align:top; overflow:auto; border:1px solid rgb(228, 228, 228); clip: rect(auto, auto, auto, auto);"><b>Contributors</b><br><div class="contr_l" style="width:45%; float:left;">s4nji<br>riza_kasela<br>p1nky<br>b3g0<br>fazar<br>bagosbanget<br>eric.<br>bedjho<br>Piluze<br>intruder.master<br>Rh354<br>drupalorg<br></div><div class="contr_r" style="width:45%; float:left;">gr0<br>hermawan64<br>slifer2006<br>gzt<br>Duljondul<br>reongkacun<br>otnaibef<br>ketang8keting<br>farin<br>.Shana<br>t0g3<br>&all-kaskuser@<a href="http://www.kaskus.us/showthread.php?t=3170414" target="_blank">t=3170414</a></div><div style="clear:both"></div><br><b>Shout pasukan-cumik</b><br>kakilangit, judotens, matriphe, mursid88, robee_, cheanizer<br/><br/><b>QR Topic</b><br> CCPB <span title="CCPB (#14) UserAgent Fans Club Comunity">UA-FCC</span><br> § <a href="http://www.kaskus.us/showthread.php?t=8689106" target="_blank" title="All About Mozilla Firefox (Add-ons, Scripts, Fans Club)">Firefox</a> <a href="/profile/809411" target="_blank" title="TS: p1nk3d_books">*</a> § <a href="http://www.kaskus.us/showthread.php?t=6595796" target="_blank" title="[Rebuild] » Opera Community">Opera</a> <a href="/profile/786407" target="_blank" title="TS: ceroberoz"> * </a> § <a href="http://www.kaskus.us/showthread.php?t=3319338" target="_blank" title="[Updated] Extensions/ Addons Google Chrome">Google-Chrome</a> <a href="/profile/449547" target="_blank" title="TS: Aerialsky"> * </a><br> Other</b><br> - <a href="http://www.kaskus.us/showthread.php?t=6616714" target="_blank" title="Add-ons Kaskus Quick Reply + [QR]">Quick Reply+</a> <a href="/profile/1323912" target="_blank" title="TS: Piluze"> * </a><br> - <a href="http://www.kaskus.us/showthread.php?t=6849735" target="_blank" title="Emoticon Corner">Emoticon Corner</a> <a href="/profile/572275" target="_blank" title="TS: slifer2006"> * </a><br><br></div>'},getTPLExim:function(){return'To export your settings, copy the text below and save it in a file.<br>To import your settings later, overwrite the text below with the text you saved previously and click "<b>Import</b>".<textarea id="textarea_rawdata" class="textarea" style="height: 335px; width: 99%; overflow: auto; white-space: pre;" readonly="readonly"></textarea><div style="float: left;"><a id="exim_select_all" class="qrsmallfont" style="margin: 10px 0pt 0pt 5px; text-decoration: none;" href="javascript:;"><b>^ Select All</b></a></div>'},getTPLShortcut:function(){return'<em>Globaly on showthread page</em><br><b>Esc</b> - Close Active-Popup<br><b>Ctrl + Q</b> - Focus to Quick Reply Editor Now. (<a id="customable_btn" href="javascript:;">customable</a>)<br><b>Alt + Q</b> - Fetch Quoted Post<br><b>Ctrl + Alt + Q</b> - Fetch Quoted Post <span class="opr">(Opera)</span><br><b>Ctrl + Shift + Q</b> - Deselect All Quoted Post<br><b>Ctrl + Shift + D</b> - Load/Save Draft<br><div style="height: 10px;"></div><em>While focus on Editor / textarea</em><br><b>Ctrl + Enter</b> - Post Reply<br><b>Alt + S</b> - Post  Reply<br><b>Shift + Alt + S</b> - Post Reply <span class="opr">(Opera)</span><br><b>Alt + P</b> -  Preview Quick Reply<br><b>Shift + Alt + P</b> -  Preview Quick Reply <span class="opr">(Opera)</span><br><b>Alt + X</b> -  Go Advanced<br><b>Shift + Alt + X</b> -  Go Advanced <span class="opr">(Opera)</span><br><div style="height: 10px;"></div><em>While focus on Input reCapctha</em><br><b>Pg-Up</b> or <b>Pg-Down</b> - Reload reCaptcha<br><b>Alt + R</b> - Reload reCaptcha<br><b>Ctrl + Alt + R</b> - Reload reCaptcha <span class="opr">(Opera)</span><br>'},getTPLSetting:function(){return'<div id="modal_setting_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Settings<span id="box_preview_subtitle"></span></span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><div id="box_setting" class="entry-content wraper_custom" style="position:relative; "><div class="sidsid cs_left" style="position:relative; height:100%!important;"></div><div class="sidsid cs_right" style="width:540px;"></div><div class="sidcorner" style=""><a href="javascript:;" id="reset_settings">reset settings</a></div></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_action" data-act="update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select:none;">Save</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getTPLUpdate:function(){return'<div id="modal_update_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text"><img id="nfo_version" src="'+b.B.news_png+'" class="qbutton" style="float:left; margin:3px 5px 0 0;padding:3px;"/>Update Notification</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_update_title"></h1><div class="entry-content wraper_custom"><div id="content_update"></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Update</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getCSS:function(){return"#box_preview {max-height:"+(parseInt(T())-b.offsetMaxHeight-b.offsetLayer)+"px;}"},getSCRIPT:function(){return'if(typeof $ == "undefined") $ = jQuery;function showRecaptcha(element){if( typeof(Recaptcha)!="object" ){window.setTimeout(function () { showRecaptcha() }, 200);return;}else{Recaptcha.create("6LfHgr0SAAAAAJpO_2DyRtpHECySrGkF_XINc5-d", element, {theme:"custom", lang:"en", custom_theme_widget:"recaptcha_widget"});}}var __mq="kaskus_multiquote", __tmp="tmp_chkVal";function deleteMultiQuote(){$.cookie(__mq,null, { expires: null, path: "/", secure: false }); $("#"+__tmp).val("")}function chkMultiQuote(){var mqs=$.cookie(__mq); $("#"+__tmp).val(mqs ? mqs.replace(/s/g,"") : ""); $("#qr_chkval").click() }chkMultiQuote();'},getSCRIPT_UPL:function(){return'function ajaxFileUpload() {$("#loading_wrp").show();$("#image-control").addClass("blured");$.ajaxFileUpload ({url:"/misc/upload_image",secureuri:false,fileElementId:"browse",dataType: "json",success: function (data, status){$("#image-control").removeClass("blured");$("#loading_wrp").hide();if(data.status == "ok"){var t=\'\';t+=\'<div class="preview-image-unit">\';t+=\'<img src="\'+data.url+\'" width="46" height="46" alt="[img]\'+data.url+\'[/img]" />\';t+=\'<span title="remove" class="modal-dialog-title-close imgremover"/>\';t+=\'</div>\';$("#preview-image").prepend( t );}else{alert(data.error);}},error: function (data, status, e){alert(e);}});return false;}'},getSetOf:function(a){switch(a){case"color":return{"#000000":"Black","#A0522D":"Sienna","#556B2F":"DarkOliveGreen","#006400":"DarkGreen","#483D8B":"DarkSlateBlue","#000080":"Navy","#4B0082":"Indigo","#2F4F4F":"DarkSlateGray","#8B0000":"DarkRed","#FF8C00":"DarkOrange","#808000":"Olive","#008000":"Green","#008080":"Teal","#0000FF":"Blue","#708090":"SlateGray","#696969":"DimGray","#FF0000":"Red","#F4A460":"SandyBrown","#9ACD32":"YellowGreen","#2E8B57":"SeaGreen","#48D1CC":"MediumTurquoise","#4169E1":"RoyalBlue","#800080":"Purple","#808080":"Gray","#FF00FF":"Magenta","#FFA500":"Orange","#FFFF00":"Yellow","#00FF00":"Lime","#00FFFF":"Cyan","#00BFFF":"DeepSkyBlue","#9932CC":"DarkOrchid","#C0C0C0":"Silver","#FFC0CB":"Pink","#F5DEB3":"Wheat","#FFFACD":"LemonChiffon","#98FB98":"PaleGreen","#AFEEEE":"PaleTurquoise","#ADD8E6":"LightBlue","#DDA0DD":"Plum","#FFFFFF":"White"};case"button":return{news_png:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAIAAAD5fKMWAAAABnRSTlMAAAAAAABupgeRAAAArklEQVR42mNkYGBgYGBob29/9OgRA14gJyfHAlHHz88/bdo0/KqzsrJYHj16lF/auG/Hmvv37587dw6XUiMjIwYGBhY4X1FRUVFREb/xLMic9knLGRgYKvMiT158jKbOXF+WgYGBiYEUgGJ2ZV4kCarR7B207ubn52dhYGB4ev+yh4fHhw8fIKLvPn4XFUAxRYif8/79+wwMDIxHjhzZsmXLx48f8buBn5/fw8MDAOiiPC0scvhsAAAAAElFTkSuQmCC",throbber_gif:"data:image/gif;base64,R0lGODlhEAAQALMPADZmn6XF642oyHCp7V6DsEWE0Pn6/dvk7+Ls95W/8VWa7HKby8DS6ezy+U2V6////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJ2Qgg4sw9EShOUQQcxySDoy5GyR2pk7icESP0doBkPi2OgW8iKCiGkuIRSSgIh43PDApQ4JCGBnLL9UUAACH5BAkAAA8ALAAAAAAQABAAAAQ+8Mk5mTg0UwCKMFomOOQChhMykAlKNauDuNNROC0tLc6gS4KC4vcIDn+Egk936ORcBgJAphM4fwzlSbclTiIAIfkECQAADwAsAAAAABAAEAAABELwyUmrtYiZawlYGzcthZOIk7E4DoJKR3m+D+EM9CMUSr73NEIB90IACjORwdOihCYIDxJ1ABwHz0sAYMpeDAzXJAIAIfkECQAADwAsAAAAABAAEAAABDvwyUmrvTjrakTYUgAUCHgAygcuzgA+QuG8sfIShbudRbIZBICjoTkECyoLQhAcDQyYoywAxQRyAeIkAgAh+QQJAAAPACwAAAAAEAAQAAAEN/DJSau9OOvNuzRB0wnAMhbOmXJEMXAHUCSbQQAOoh33bAkEweImSxgqDVlhiQpgAgOHYxA4TiIAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvTjrzbv/luExgNARwMAdQJFsBuogkiEsB3Wg7oS0BcIN1RqIJgKHssAsKAJHSiMwUA4SDUoEACH5BAkAAA8ALAAAAAAQABAAAAQ+8MlJq7046827/2CIIYExEotEAItZGWthCoUzHNSxOoFkLA5HYbEQrACFgethSASFhagjsZyQBgrFIICgRAAAIfkECQAADwAsAAAAABAAEAAABDzwyUmrvTjrzbv/2CEgHQEsnVA45Hasg3HJk+A4w0EhZjAZi1uBsBCYAAXfL3FzFJ6rBI1yCAxug0RLEgEAIfkECQAADwAsAAAAABAAEAAABDjwyUmrvTjrzXsVxNEBRTI6Jkc4QycUDsId8GBwgsOKmrHoBYJgQSAwLIaEzlFoljCIwEDBSjQoEQAh+QQJAAAPACwAAAAAEAAQAAAEQPDJSau9OFNj9DwA0HkCoDTeQxRD+gBF4gKOnBJOmwqFg6SH3mCkETgcioPHsDgWCAtGxpA4KgoFaeaQGORQlQgAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvdUswDAVQNF5zxEOBvmADqI+RDG8TxjQgJPQhDO/AkfrdSj4Uqqg76DSCAuCZkKooB0Co0sEACH5BAkAAA8ALAAAAAAQABAAAARA8MmH2LzYCAAsvgYBFMrxXVsxIOd0jIPRTptjzhKh4tOY8BKAIwB8EByDoqDgYPEOzBhQ4FAkeYZFtWhgNIrgCAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJhwQBbGppBABFkWyTcRXOEDSk5BXD0U4HOBjz5DlIPhEw3wQ0Ej4AjqKQkDI+BKieEIHKGAMJlnPL7T4iACH5BAkAAA8ALAAAAAAQABAAAAQ88MnXBAGAhMmfwEXhOEX3GAsgDkkyMOZXDIjJNepg2Nzn1LwJYRbkqDZFCcCRSEoITOfjENhJr9isVhsBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGAiDOnEVhROI4odMY1DkkykE4zgcXATUgSTAdQG52gBORACIWE2hFZYCyDBtlzSq1ar9isdhkBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGACDSnEVhROI4oGN41DkkykM6CPmAxcBPyOsHTALZZx/BKPAyEW2fIaCyf0Kh0Sq1ar9isdhsBACH5BAkAAA8ALAAAAAAQABAAAAQ98Ml3BAGAiDOnEVhROI4oGB04DkkykM6CSkIxcNPxOkmHdJPG7gcsHka9YnHBUxYbgYZzSq1ar9isdjuJAAAh+QQFAAAPACwAAAAAEAAQAAAEPPDJ1wQBgIg2+1tAUTiOKBjeExRDkgykc6beATsJ7TU3oneHUe43ITgGxImgoEhKlk0nYhFwWq/YrPYXAQA7"};case"posticon":return{None:null,Post:"posting.gif",Video:"video.png",Lightbulb:"lightbulb.png",Exclamation:"exclamation.png",Star:"star.png",Cool:"smile3.png",Smile:"smile5.png",Angry:"repost.png",Unhappy:"smile4.png",Talking:"smile2.png",Heart:"heart.png",Wink:"smile.png","Thumbs down":"thumbsdown.png","thumbs up":"thumbsup.png"};default:return!1}},getSmileySet:function(a,c){b.smcustom={};b.smgroup=[];s(o+"CUSTOM_SMILEY",function(a){if(a&&B(a)&&""!=a){var d=function(a){if(!a)return!1;var b=1,c=[],a=a.split(",");if(q(a[0]))for(var d in a)if(B(a[d])&&""!=a[d]){var e=a[d].split("|");c.push(q(e[1])?[e[1],e[0],e[0]]:a[d]);b++}return c};if(-1==a.indexOf("<!!>")){if(a=d(a))b.smcustom["untitled".toString()]=a,b.smgroup.push("untitled")}else for(var e=a.split("<!>"),f,g=0;g<e.length;g++)if(f=e[g].split("<!!>"),f[0]=f[0].replace(/\\!/g,"!"),0<f.length&&(a=d(f[1])))b.smcustom[f[0].toString()]=a,b.smgroup.push(f[0].toString())}"function"==typeof c&&c()});if(!q(a)||!a)b.smbesar=[["sumbangan/smiley_beer.gif",":beer:","Angkat Beer"],["sumbangan/kribo.gif",":afro:","afro"],["smileyfm329wj.gif",":fm:","Forum Music"],["sumbangan/smiley_couple.gif",":kimpoi:","Pasangan Smiley"],["sumbangan/kaskuslove.gif",":ck","Kaskus Lovers"],["ultah.gif",":ultah","Ultah"],["traveller.gif",":travel","Traveller"],["toastcendol.gif",":toast","Toast"],["jempol1.gif",":thumbup","Jempol"],["takut.gif",":takut","Takut"],["fd_5.gif",":sup:","Sundul Up"],["sundul.gif",":sup2","Sundul"],["sorry.gif",":sorry","Sorry"],["shakehand2.gif",":shakehand2","Shakehand2"],["selamat.gif",":selamat","Selamat"],["salah_kamar.gif",":salahkamar","Salah Kamar"],["request.gif",":request","Request"],["fd_7.gif",":repost:","Repost"],["s_sm_repost2.gif",":repost2","Purple Repost"],["s_sm_repost1.gif",":repost","Blue Repost"],["recseller.gif",":recsel","Recommended Seller"],["rate5.gif",":rate5","Rate 5 Star"],["peluk.gif",":peluk","Peluk"],["nosara.gif",":nosara","No Sara Please"],["nohope.gif",":nohope","No Hope"],["ngakak.gif",":ngakak","Ngakak"],["ngacir2.gif",":ngacir2","Ngacir2"],["ngacir3.gif",":ngacir","Ngacir"],["najis.gif",":najis","Najis"],["mewek.gif",":mewek","Mewek"],["matabelo1.gif",":matabelo","Matabelo"],["marah.gif",":marah","Marah"],["malu.gif",":malu","Malu"],["fd_6.gif",":kts:","Kemana TSnya?"],["kaskus_radio.gif",":kr","Kaskus Radio"],["cewek.gif",":kiss","Kiss"],["kimpoi.gif",":kimpoi","Kimpoi"],["fd_4.gif",":kbgt:","Kaskus Banget"],["fd_8.gif",":kacau:","Thread Kacau"],["fd_1.gif",":jrb:","Jangan ribut disini"],["s_sm_ilovekaskus.gif",":ilovekaskus","I Love Kaskus"],["I-Luv-Indonesia.gif",":iloveindonesia","I Love Indonesia"],["hoax.gif",":hoax","Hoax"],["hotnews.gif",":hn","Hot News"],["hammer.gif",":hammer","Hammer2"],["games.gif",":games","Games"],["dp.gif",":dp","DP"],["cystg.gif",":cystg","cystg"],["cool2.gif",":cool","Cool"],["s_big_cendol.gif",":cendolbig","Blue Guy Cendol (L)"],["cekpm.gif",":cekpm","Cek PM"],["fd_2.gif",":cd:","Cape deeehh"],["capede.gif",":cd","Cape d..."],["bola.gif",":bola","Bola"],["bingung.gif",":bingung","Bingung"],["fd_3.gif",":bigo:","Bukan IGO"],["s_sm_maho.gif",":betty","Betty"],["berduka.gif",":berduka","Turut Berduka"],["s_big_batamerah.gif",":batabig","Blue Guy Bata (L)"],["babygirl.gif",":babygirl","Baby Girl"],["babyboy1.gif",":babyboy1","Baby Boy 1"],["babyboy.gif",":babyboy","Baby Boy"],["angel1.gif",":angel","Angel"],["jempol2.gif",":2thumbup","2 Jempol"]],b.smkecil=[["s_sm_peace.gif",":Yb","Blue Guy Peace"],["takuts.gif",":takuts","Takut (S)"],["sundulgans.gif",":sundulgans","Sundul Gan (S)"],["shutup-kecil.gif",":shutups","Shutup (S)"],["reposts.gif",":reposts","Repost (S)"],["ngakaks.gif",":ngakaks","Ngakak (S)"],["najiss.gif",":najiss","Najis (S)"],["malus.gif",":malus","Malu (S)"],["mads.gif",":mads","Mad (S)"],["kisss.gif",":kisss","Kiss (S)"],["iluvkaskuss.gif",":ilovekaskuss","I Love Kaskus (S)"],["iloveindonesias.gif",":iloveindonesias","I Love Indonesia (S)"],["hammers.gif",":hammers","Hammer (S)"],["cendols.gif",":cendols","Cendol (S)"],["s_sm_cendol.gif",":cendolb","Blue Guy Cendol (S)"],["cekpms.gif",":cekpms","Cek PM (S)"],["capedes.gif",":capedes","Cape d... (S)"],["bookmark-kecil.gif",":bookmarks","Bookmark (S)"],["bingungs.gif",":bingungs","Bingung (S)"],["mahos.gif",":bettys","Betty (S)"],["berdukas.gif",":berdukas","Berduka (S)"],["berbusa-kecil.gif",":berbusas","Berbusa (S)"],["batas.gif",":batas","Bata (S)"],["s_sm_batamerah.gif",":bata","Blue Guy Bata (S)"],["army-kecil.gif",":armys","Army (S)"],["add-friend-kecil.gif",":addfriends","Add Friend (S)"],["s_sm_smile.gif",":)b","Blue Guy Smile (S)"],["sumbangan/13.gif",";)","Wink"],["sumbangan/001.gif",":wowcantik","Wowcantik"],["sumbangan/44.gif",":tv","televisi"],["sumbangan/47.gif",":thumbup","thumbsup"],["sumbangan/48.gif",":thumbdown","thumbdown"],["sumbangan/006.gif",":think:","Thinking"],["sumbangan/shit-3.gif",":tai","Tai"],["tabrakan.gif",":tabrakan:","Ngacir Tubrukan"],["sumbangan/39.gif",":table:","table"],["sumbangan/008.gif",":sun:","Matahari"],["sumbangan/020.gif",":siul","siul"],["sumbangan/5.gif",":shutup:","Shutup"],["sumbangan/49.gif",":shakehand","shakehand"],["sumbangan/34.gif",":rose:","rose"],["sumbangan/01.gif",":rolleyes","Roll Eyes (Sarcastic)"],["sumbangan/32.gif",":ricebowl:","ricebowl"],["sumbangan/e02.gif",":rainbow:","rainbow"],["sumbangan/60.gif",":rain:","raining"],["sumbangan/40.gif",":present:","present"],["sumbangan/41.gif",":Phone:","phone"],["sumbangan/005.gif",":Peace:","Peace"],["sumbangan/paw.gif",":Paws:","Paw"],["sumbangan/6.gif",":p","Stick Out Tongue"],["sumbangan/rice.gif",":Onigiri","Onigiri"],["sumbangan/07.gif",":o","Embarrassment"],["sumbangan/35.gif",":norose:","norose"],["sumbangan/q11.gif",":nohope:","Nohope"],["ngacir.gif",":ngacir:","Ngacir"],["sumbangan/007.gif",":moon:","Moon"],["sumbangan/q17.gif",":metal","Metal"],["sumbangan/33.gif",":medicine:","medicine"],["sumbangan/004.gif",":matabelo:","Belo"],["sumbangan/1.gif",":malu","Malu"],["sumbangan/12.gif",":mad","Mad"],["sumbangan/26.gif",":linux2:","linux2"],["sumbangan/25.gif",":linux1:","linux"],["sumbangan/28.gif",":kucing:","kucing"],["sumbangan/36.gif",":kissmouth","kiss"],["sumbangan/014.gif",":kissing:","kisssing"],["sumbangan/3.gif",":kagets:","Kagets"],["sumbangan/hi.gif",":hi:","Hi"],["sumbangan/37.gif",":heart:","heart"],["sumbangan/8.gif",":hammer:","Hammer"],["sumbangan/crazy.gif",":gila:","Gila"],["sumbangan/q03.gif",":genit","Genit"],["sumbangan/fuck-4.gif",":fuck:","fuck"],["sumbangan/fuck-8.gif",":fuck3:","fuck3"],["sumbangan/fuck-6.gif",":fuck2:","fuck2"],["sumbangan/frog.gif",":frog:","frog"],["sumbangan/e03.gif",":flower:","flower"],["sumbangan/52.gif",":exclamati","exclamation"],["sumbangan/43.gif",":email","mail"],["sumbangan/4.gif",":eek","EEK!"],["sumbangan/18.gif",":doctor","doctor"],["sumbangan/14.gif",":D","Big Grin"],["sumbangan/05.gif",":cool:","Cool"],["sumbangan/7.gif",":confused","Confused"],["sumbangan/31.gif",":coffee:","coffee"],["sumbangan/42.gif",":clock","clock"],["sumbangan/woof.gif",":buldog","Buldog"],["sumbangan/38.gif",":breakheart","breakheart"],["bolakbalik.gif",":bingung:","Bingung"],["sumbangan/vana-bum-vanaweb-dot-com.gif",":bikini","Bikini"],["sumbangan/q20.gif",":berbusa","Busa"],["sumbangan/30.gif",":baby:","baby"],["sumbangan/27.gif",":babi:","babi"],["sumbangan/24.gif",":army","army"],["sumbangan/29.gif",":anjing:","anjing"],["sumbangan/017.gif",":angel:","angel"],["sumbangan/amazed.gif",":amazed:","Amazed"],["sumbangan/15.gif",":)","Smilie"],["sumbangan/06.gif",":(","Frown"]]}},m={e:{dialogname:"qr-modalBoxFaderLayer",boxpreview:"modal_dialog_box",boxcapcay:"modal_capcay_box",lastbuff:"",boxaction:"",ishalted:!1,isdiff:!1},init:function(a){5>t($("#"+b.tID).val()).length?(b.$w.clearTimeout(b.sTryEvent),$("#"+b.tID).addClass("twt-glowerror"),m.e.ishalted=1,alert("The message you have entered is too short. Please lengthen your message to at least 5 characters"),b.sTryEvent=b.$w.setTimeout(function(){$("#"+b.tID).removeClass("twt-glowerror")},3e3),$("#"+b.tID).focus()):(L(),$(a).blur(),m.e.ishalted=!1,$("body").addClass("hideflow"))},boxEvents:function(){$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){L()})},buildQuery:function(a){var c="securitytoken,title,message,iconid,parseurl,recaptcha_response_field,recaptcha_challenge_field,discussionid,groupid".split(","),d,e,f={};$("#formform").find("*[name]").each(function(){-1!=$.inArray($(this).attr("name"),c)&&(e=t($(this).val()),d=encodeURIComponent($(this).attr("name")),"title"==d&&$("#title").parent().hasClass("condensed")?e="":"message"==d&&(b.eof=a?"":"--QR-END-of-MSG-"+(new Date).getTime().toString()+"--",e=xa(e.replace(/\r\n/g,"\n")),i("val message=\n"+e),a||(e=e.replace(/\[(\/)?quote(?:\=([^\;]+).([^\]]+))?./gi,function(a,b,c,d){return"___"+(b?b:"")+"QRQUOTE"+(c&&d?"|"+c+"|"+d+"|":"")+"___"})),e=ya(e)+"\n"+b.eof,i("encodedval message=\n"+e)),""!=e&&(f[d]=e))});m.e.isdiff=m.e.lastbuff!=t($("#"+b.tID).val());m.e.lastbuff=t($("#"+b.tID).val());m.e.boxaction=encodeURI($("#formform").attr("action"));return f},preview:function(){m.e.ishalted||($("#"+m.e.dialogname).show().css("visibility","visible"),$("body").prepend(l.getBOX()),N(),m.boxEvents(),S($("#"+m.e.boxpreview),130,function(){var a=m.buildQuery();a.preview=encodeURI("Preview"+("group"==b.thread_type?"":" Post"));i("boxaction="+m.e.boxaction);i("tosend="+JSON.stringify(a));b.sTryRequest&&(i("Other AJAX instance [sTryRequest] is currently running, killing him now."),b.sTryRequest.abort());try{""!=a&&(b.sTryRequest=$.post(m.e.boxaction,a,function(a){var c,d,e;c=ba(a);e=parseInt(T())-b.offsetMaxHeight-b.offsetLayer;$("#box_preview").css("max-height",e+"px");if(c){try{d=a.replace(/(\r\n|\n|\r|\t)+/gm,"").replace(/\s{2,}/gm,"").replace(/\"/gm,'"').toString()+"\n\n"}catch(f){i("decodeURI in preview failed")}a=d.substring(0,d.indexOf(b.eof));i("parsed="+a);if(a=b.thread_type=="group"?/(?:[\'\"]post-header[\'\"]>\s?<h2\s+[^>]+.([^<]+).+)?[\'\"]entry-content[\'\"](?:[^>]+)?.(.*)/.exec(a):/<div\sclass=[\"\']entry-content[\'\"](?:[^>]+)?.<h1>((?:<img[^>]+.\s?)?(?:[^<]+)?)<\/h1>\s?(.*)/im.exec(a)){$("#box_preview_title").html(a[1]);a=a[2].replace(/___\/QRQUOTE___/gi,"</div></div>").replace(/___QRQUOTE___/gi,function(){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">'}).replace(/___QRQUOTE\|([^\|]+).([^\|]+).___/gi,function(a,b,c){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">Original Posted By <b>'+b+'</b><a href="/post/'+c+"#post"+c+'" class="jump">&#9658;</a><br/>'});i(a);$("#box_preview").html(a);$("#box_preview").find("img").each(function(){$(this).css("max-width","790px")});$("#cont_button").show()}$("#box_prepost").click(function(){m.init();m.presubmit()});b.user.isDonatur||(b.edit_mode==1?$("#box_prepost").addClass("jfk-button-action").removeClass("g-button-red"):$("#box_prepost").removeClass("jfk-button-action").addClass("g-button-red"));$("#box_prepost").focus().delay(1200)}else u.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){$("#box_preview").html('Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>')}})}))}catch(c){}}))},submit:function(){!b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type&&($("#qr-recaptcha_response_field").val($("#recaptcha_response_field").val()),$("#qr-recaptcha_challenge_field").val($("#recaptcha_challenge_field").val()));var a=m.buildQuery(!0);a.sbutton="group"==b.thread_type?encodeURI("Post+Message"):encodeURI(b.edit_mode?"Save+Changes":"Submit+Reply");m.postloader(!0);try{i("ignite post="+m.e.boxaction),i("query="+JSON.stringify(a)),b.sTryRequest=$.post(m.e.boxaction,a,function(a){var c,d,e=false;try{d=a.replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,"").replace(/\"/g,'"').toString()}catch(f){i("decodeURI in submit post failed")}i("submited sdata:"+d);d.substring(0,d.indexOf(b.eof));if(c=/error-msg\spanel[^>]+>(?:<[^>]+>)+([^<]+)/i.exec(d))e=1;else if(c=/[\'\"]err-msg[^>]+>([^<]+)/i.exec(d))e=1;if(e){b.postlimit=false;e=/ry\sagainsin\s(\d+)\ssec/;d=c[1];if(c=e.exec(d)){b.postlimit=c[1];d=d.replace(e,'ry again in <span id="rspbox_cntdown">'+b.postlimit+"</span> sec")}if(b.user.isDonatur){L();d={mode:"error",msg:c[1]};postlimit&&(d.cb=function(){A.init(b.postlimit,"#rspbox_cntdown")});if(!b.edit_mode)d.btnset=false;u.init(d)}else{m.postloader(false);$("#hidrecap_reload_btn").click();b.postlimit&&A.init(b.postlimit,"#rspbox_cntdown");$("#box_response_msg").html(d).removeClass("ghost").addClass("g_notice").addClass("qrerror").show()}ba(a)}else if(c=/<meta\s*http\-equiv=[\"\']REFRESH[\"\']\s*content=[\"\']\d+;\s*URL=([^\"\']+)/i.exec(d))y(o+"TMP_TEXT","",function(){c[1]=c[1].replace(/\#/,"/?p"+(new Date).getTime()+"#");location.href=c[1]});else{i("redirect link not found, post might fail. please try again.");d={mode:"error",msg:c};if(!b.edit_mode)d.btnset=false;u.init(d)}})}catch(c){}},postloader:function(a){var b=["recaptcha_widget","box_progress_posting","box_response_msg","box_post"],c=["recaptcha_is_building_widget","activate-disabled","activated","mf-spinner","jfk-button-disabled"];a?($("#"+b[0]).addClass(c[0]),$("#"+b[1]).removeClass(c[1]).addClass(c[2]).addClass(c[3]),$("#"+b[2]).hide(),$("#"+b[3]).addClass(c[4])):($("#"+b[0]).removeClass(c[0]),$("#"+b[1]).removeClass(c[3]).removeClass(c[2]).addClass(c[1]),$("#"+b[3]).removeClass(c[4]))},presubmit:function(){if(!m.e.ishalted){$("#"+m.e.dialogname).css("visibility","visible");var a;(a=$("#modal_capcay_box").get(0))?$("#wraper-hidden-thing #modal_capcay_box").clone().prependTo($("body")):($("body").prepend(l.getBOX_RC()),a=!1);$("body > #modal_capcay_box").addClass("modal-dialog");b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type&&$("body > #modal_capcay_box .modal-dialog-title-text").text("Posting....");b.edit_mode&&($("body > #modal_capcay_box .modal-dialog-title-text").text("Saving Changes"),$("body > #modal_capcay_box .recaptcha-widget").hide(),$("body > #modal_capcay_box #box_progress_posting").removeClass("activate-disabled").addClass("activated").addClass("mf-spinner"),$("body > #modal_capcay_box #box_post").addClass("jfk-button-disabled").html("Posting"),$("body > #modal_capcay_box .ycapcay label").hide());N();m.boxEvents();S($("#"+m.e.boxcapcay),50);!1===b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type?(a||$("#hidrecap_btn").click(),b.sITryFocusOnLoad=b.$w.setInterval(function(){var a=$("#recaptcha_response_field");if(a.length==1){clearInterval(b.sITryFocusOnLoad);$("#recaptcha_response_field").addClass("twt-glow");$("#recaptcha_response_field").focus()}$("#recaptcha_instructions_image, #recaptcha_image").click(function(){a.focus()});$("#box_post").click(function(){if(a.val()==""){alert("Belum Masukin Capcay,...");a.focus()}else m.submit()});$(a).keydown(function(a){var b=a.keyCode,c=null;if(b===13){$("#box_post").click();c=1}else if(a.altKey&&b===82||b===33||b===34){$("#hidrecap_reload_btn").click();c=1}c&&x(a)})},200)):m.submit()}}},p={e:{task:"quote",ajaxrun:!1},init:function(){},ajaxPID:function(a,c){if(a){if(p.e.ajaxrun&&!1!==c)try{i("Other AJAX instance ["+p.e.ajaxrun+"] is currently running, killing him now."),b.sTryRequest.abort(),b.ajax_pid[p.e.ajaxrun]=0}catch(d){}b.ajax_pid[a]=!1===c?0:(new Date).getTime();p.e.ajaxrun=!1!==c&&!c?a:!1;i("ajaxrun = "+p.e.ajaxrun)}},quote:function(a,c,d){p.e.task="quote";var e=$("#formform").attr("action");(a=$("#tmp_chkVal").val())&&(a=a.split(","));e+="/?post="+a[0];i("uri="+e);if(p.e.task&&b.ajax_pid[p.e.task]){i("AJAX "+p.e.task+" is currently running, abort previous...");try{b.ajax_pid[p.e.task].abort()}catch(f){}}try{p.ajaxPID("quote"),"function"==typeof c&&c(),b.sTryRequest=$.get(e,function(a){var b;try{b=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,"\\n").toString()}catch(c){i("decodeURI in fetch quote failed")}if(ba(a,"quote")){a=b.substring(0,b.indexOf("</textar"));i("parsed="+a);if(a=/<textarea[^>]+>(.+)?/im.exec(a))h.init(),a[1]&&h.add(Z(a[1].replace(/\\n|\\r\\n|\\r/g,"\n"))),h.pracheck();"function"==typeof d&&d()}else u.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){}});p.ajaxPID("quote",!1)})}catch(g){i("FAILED = "+e),p.ajaxPID("quote",!1)}},edit_cancel:function(a){var c=confirm("You are currently editing a post.\n\nDiscard anyway?");c&&(i("edit canceling; now switching Token:\nold="+b._securitytoken+"; now using:"+b._securitytoken_prev),b._securitytoken=b.inner.reply.stoken,$("#qr-securitytoken").val(b._securitytoken),b.edit_mode=0,p.e.task="post",$("#formform").attr("action"),$("#formform").attr("action","/post_reply/"+b.pID),$("#formform").attr("name","postreply"),$(".inner_title").html(b.inner.reply.title),$("#sbutton").val(b.inner.reply.submit),b.user.isDonatur||$("#sbutton").removeClass("jfk-button-action").addClass("g-button-red"),h.set(""),h.pracheck(a),u.dismiss(),$("#hid_iconid").val(0),$("#title").val(""),$("#img_icon").attr("src","#"),$("#img_icon, #close_title, .title-message").hide());return c},edit:function(a,c,d){p.e.task="edit";if(b.ajax_pid[p.e.task]){i("AJAX "+p.e.task+" is currently running, abort previous...");try{b.ajax_pid[p.e.task].abort()}catch(e){}}try{p.ajaxPID("edit");"function"==typeof c&&c();b.edit_mode=1;var f,g,j;j=t(a.attr("href").toString());g=j.indexOf("edit_post/");f=b.domain+j.substring(g,j.length);b.sTryRequest=$.get(f,function(a){var c,e;try{c=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,"\\n").toString()}catch(g){i("error raised")}b.inner.reply.stoken=b._securitytoken_prev=b._securitytoken;if(ba(a)){$("#formform").attr("action",f);$("#formform").attr("name","edit_postreply");a=c.substring(0,c.indexOf("</textar"));i("parsed="+a);if(a=/<textarea[^>]+>(.+)?/im.exec(a)){var j;h.init();j=!1;e=$('input[name="title"]',$(c));$(e).get(0)&&(j={icon:na($("#display_posticon",$(c)).attr("src")).replace(/\./g,""),text:$(e).val()},!j.text&&"cleargif"==j.icon&&(j=!1),i("got judul = "+JSON.stringify(j)));j&&h.set_title(j);c=(""+b.settings.userLayout.config).split(",");e=b.settings.userLayout.template.toLowerCase();a=t(Z(a[1].replace(/\\n|\\r\\n|\\r/g,"\n")));1==c[1]&&e&&(e=e.split("{message}"),c=RegExp("^"+e[0].replace(/(\W)/g,"\\$1"),""),c.test(a.toLowerCase())&&(a=a.substring(e[0].length,a.length)),c=RegExp(e[1].replace(/(\W)/g,"\\$1")+"$",""),c.test(a.toLowerCase())&&(a=a.substring(0,a.length-e[1].length)));$(".inner_title").html(b.inner.edit.title);$("#sbutton").val(b.inner.edit.submit);b.user.isDonatur||$("#sbutton").addClass("jfk-button-action").removeClass("g-button-red");h.set(a);h.pracheck()}$("#scancel_edit").show();"function"==typeof d&&d()}else u({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){}});p.ajaxPID("edit",!1)})}catch(k){b.edit_mode=0,p.ajaxPID("edit",!1)}}},u={mode:"quote",btnset:!0,msg:"",cb:null,init:function(a){for(field in a)B(field)&&(u[field.toString()]=a[field]);i("_NOFY inside :: "+JSON.stringify(a));u.exec()},exec:function(){var a=$("#notify_msg");u.msg&&a.html(u.msg);a.removeClass("qrerror");$.each(["scancel_edit","quote_btnset"],function(){$("#"+this).hide()});switch(u.mode){case"error":a.addClass("qrerror");break;case"quote":$("#quote_btnset").show();break;case"edit":$("#scancel_edit").show()}u.btnset?$(".qr-m-panel").show():$(".qr-m-panel").hide();$("#notify_msg, #notify_wrap").show();"function"==typeof u.cb&&u.cb()},dismiss:function(){$(".qr-m-panel").show();$("#notify_msg, #notify_wrap").hide();try{b.sTryRequest.abort()}catch(a){}}},h={e:null,eNat:null,content:"",cursorPos:[],last_scrollTop:0,init:function(){this.e=$("#"+b.tID);this.eNat=w(b.tID);this.content=this.e.val();this.cursorPos=this.rearmPos();this.last_scrollTop=w(b.tID).scrollTop},rearmPos:function(){return[this.getCaretPos(),w(b.tID).selectionEnd]},subStr:function(a,b){return this.content.substring(a,b)},set_title:function(a){$(".title-message").slideDown(1,function(){$(".title-message #title").focus().val(a.text);$('li a[data-name="'+a.icon+'"]',$("#menu_posticon")).click()})},set:function(a){$("#"+b.tID).val(a);w(b.tID).value=this.content=a;h.setRows_Elastic();h.init();this.saveDraft();this.pracheck()},wrapValue:function(a,c){var d,e=this.cursorPos[0],f=this.cursorPos[1],g,a=a.toUpperCase();g=this.subStr(0,e)+"["+a+(c?"="+c:"")+"]"+(e==f?"":this.subStr(e,f))+"[/"+a+"]"+this.subStr(f,this.content.length);this.set(g);d=e+("["+a+(c?"="+c:"")+"]").length;this.setCaretPos(d,d+this.subStr(e,f).length);"hidden"!=this.overflow&&(w(b.tID).scrollTop=this.last_scrollTop+1);return g},add:function(a){""!=$("#"+b.tID).val()&&(this.content+="\n\n");$("#"+b.tID).val(this.content+a);this.saveDraft();this.pracheck(!1);this.lastfocus()},setValue:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];H(c)&&(c=[a.length,a.length]);if(d!=e)this.replaceSelected(a,c);else return e=this.subStr(0,d)+a+this.subStr(d,this.content.length),this.set(e),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=h.overflow&&(w(b.tID).scrollTop=this.last_scrollTop+1),e},replaceSelected:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];d!=e&&(this.set(this.subStr(0,d)+a+this.subStr(e,this.content.length)),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=h.overflow&&(w(b.tID).scrollTop=this.last_scrollTop+1))},pracheck:function(a){H(a)&&(a=!0);h.setElastic(b.maxH_editor);""!=$("#"+b.tID).val()?$("#clear_text").show():$("#clear_text").hide();a&&b.$w.setTimeout(function(){h.focus()},200)},focus:function(){$("#"+b.tID).focus()},lastfocus:function(){var a,c=$("#"+b.tID).val().length;a=w(b.tID);a.setSelectionRange&&(h.focus(),a.setSelectionRange(c,c));b.$w.setTimeout(function(){h.focus()},310)},getSelectedText:function(){return this.cursorPos[0]==this.cursorPos[1]?"":this.subStr(this.cursorPos[0],this.cursorPos[1])},getCaretPos:function(){var a=0;if(w(b.tID)&&(w(b.tID).selectionStart||"0"==w(b.tID).selectionStart))a=w(b.tID).selectionStart;return a},setCaretPos:function(a,c){H(c)&&(c=a);w(b.tID).setSelectionRange&&(this.focus(),w(b.tID).setSelectionRange(a,c))},setElastic:function(a,c){function d(a){var b=w(f);b.setAttribute("cols",Math.floor(b.clientWidth/7));h.setRows_Elastic(a)}var e,f=b.tID;e=w(f)||w(b.tID);h.oflow="hidden";e.setAttribute("style","visibility:hidden; overflow:"+h.oflow+";letter-spacing:0;line-height:14pt;"+(a?"max-height:"+(a-130)+"pt;":""));c||$("#"+f).keyup(function(){d(a)});d(a)},setRows_Elastic:function(a){for(var c=w(b.tID),d=c.cols,e=c.value.toString(),e=e.replace(/(?:\r\n|\r|\n)/g,"\n"),f=2,g=0,i=0;i<e.length;i++){var j=e.charAt(i);g++;if("\n"==j||g==d)f++,g=0}d=14*f;c.setAttribute("rows",f);c.style.height=d+"pt";h.oflow=a&&14*f>a-130?"auto":"hidden";c.style.setProperty("overflow",h.oflow,"important");$("#"+b.tID).css("visibility","visible")},saveDraft:function(a){if(a&&(a.ctrlKey||a.altKey))return!0;a=$("#"+b.tID).val();$("#qrdraft").get(0)&&a&&a!=b.silahken&&(k.title("save"),$("#qrdraft").html("Save Now").attr("data-state","savenow"),k.switchClass("gbtn"),$("#draft_desc").html(""),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,b.settings.qrdraft&&k.quick_check())}},A={init:function(a,c){A.ori_title=$("title").text();a||(a=b.postlimit);A.counter=a;A.target=c;A.target_title=$("title").get(0);a&&!(0>a||b.sITryCountDown)&&A.rundown()},rundown:function(){-1<A.counter?($(A.target).html(parseInt(A.counter)),$(A.target_title).html("["+parseInt(A.counter)+"] "+A.ori_title),b.sITryCountDown=setTimeout(function(){A.rundown()},1005),A.counter--):(clearTimeout(b.sITryCountDown),$(A.target_title).html(A.ori_title),b.user.isDonatur||$("body > #modal_capcay_box").is(":visible")&&""!=$("body > #modal_capcay_box").find("#recaptcha_response_field").val()&&!$("body > #modal_capcay_box").find("#box_post").hasClass("jfk-button-disabled")&&b.$w.setTimeout(function(){$("body > #modal_capcay_box").find("#box_post").click()},500))}},k={el:null,dsc:null,_construct:function(){k.el=$("#qrdraft");k.dsc=$("#draft_desc")},check:function(){i("checking draft..");k.el.get(0)&&"idle"==k.el.attr("data-state")&&(b.timeOld=(new Date).getTime(),clearInterval(b.sITryKeepDrafting),b.sITryKeepDrafting=window.setInterval(function(){k.check()},12e4));var a=$("#"+b.tID).val(),c=(new Date).getTime()-b.timeOld,c=Math.floor(c/6e4);if(k.provide_draft()||a==b.silahken||""==a)return!1;q(b.isKeyPressed)?k.save():k.dsc.html((0<c?"Last saved "+c+" minutes":"Saved seconds")+" ago")},provide_draft:function(){if(""==$("#"+b.tID).val()){var a=""==b.tmp_text;k.el.html("Draft").attr("data-state","idle");k.title(a?"":"continue");k.switchClass(a?"jfk-button-disabled":"gbtn");k.dsc.html(a?"blank":'<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available');$("#clear-draft").click(function(){k.clear()});if(!a)return!0}return!1},title:function(a){a="save"==a?"Save Now":"continue"==a?"Continue Draft":"";""!=a?k.el.attr("title",a+" [Ctrl+Shift+D]"):k.el.removeAttr("title")},save:function(a){k.switchClass("jfk-button-disabled");H(a)?(k.el.html("Saving ...").attr("data-state","saving"),k.title(),window.setTimeout(function(){k.save($("#"+b.tID).val())},600)):(b.tmp_text=a.toString(),y(o+"TMP_TEXT",b.tmp_text),k.el.html("Saved").attr("data-state","saved"),k.dsc.html("Saved seconds ago"),q(b.isKeyPressed)&&delete b.isKeyPressed,b.timeOld=(new Date).getTime())},clear:function(){b.tmp_text="";y(o+"TMP_TEXT",b.tmp_text);k.title("continue");k.el.html("Draft");k.switchClass("jfk-button-disabled");k.dsc.html("blank")},quick_check:function(){b.$w.setTimeout(function(){k.provide_draft()},300);b.sITryLiveDrafting=b.$w.setTimeout(function(){k.check()},5e3)},switchClass:function(a){k.el.addClass(a).removeClass("gbtn"==a?"jfk-button-disabled":"gbtn")}},r={init:function(){r.tcui="tabs-content-upl-inner";r.self="box-upload";r.sibl="box-smiley";r.def="kaskus";r.main()},menus:function(){var a=0,c="";if(b.upload_sel)for(host in c+='<li><div style="padding-left:30px;"><b>:: Services :: </b></div></li><li><div style="height:1px"></div></li><li class="qrt curent"><div id="tphost_0" title="kaskus.us" data-host="kaskus">kaskus</div></li>',b.upload_sel)c+='<li class="qrt"><div id="tphost_'+(a+1)+'" title="'+b.upload_sel[host]+'" data-host="'+host+'">'+host+"</div></li>",a++;return c},event_menus:function(){$("#tabs-content-upl .qrt").each(function(){$(this).click(function(){var a=$(this).find("div:first");a.attr("id").replace(/tphost_/gi,"");a=a.attr("data-host");r.switch_tab(a);$(this).closest("#ul_group").find(".curent").removeClass("curent");$(this).addClass("curent")})});$("#toggle-sideuploader").click(function(){var a,b,c=$(this).attr("data-state");ucw=parseInt($("#uploader_container").css("width").replace(/px/,""));a=$(this).closest(".wraper_custom").find(".cs_left");b=$("#uploader_container");"hide"==c?($(a).hide(),$(b).css("width",ucw+131).css("max-width",ucw+131)):($(a).show(),$(b).css("width",ucw-131).css("max-width",ucw-131));$(this).html("hide"==c?"&#9658;":"&#9664;");$(this).attr("data-state","hide"==c?"show":"hide")})},tplcont:function(a){return'<div id="content_uploader_'+a+'" class="content_uploader" style="display:none" />'},main:function(){var a="",c=r.tcui;$("#"+c).html(l.getTPLUpload(r.menus()));r.event_menus();a=r.tplcont(r.def);for(host in b.upload_sel)a+=r.tplcont(host);$("#"+c+" #uploader_container").html(a);r.switch_tab(r.def);$("."+r.self).addClass("events");r.toggletab(!0)},switch_tab:function(a){if(a){var c,d="content_uploader_"+a;""==$("#"+d).html()&&(a==r.def?($("#"+d).html('<div id="preview-image-outer"><div id="preview-image" /></div><div id="loading_wrp" style="display:none"><div class="mf-spinner chrome-spinner-delay" id="upl_loading" /></div><div id="image-control" class=""><div class="clickthumb" style="display:none">*Click thumbnail image to add to post content</div><input type="file" onchange="ajaxFileUpload();" name="forumimg" id="browse"/></div>'),ga(),V(b.kkcdn+"css_v0.1/js/ajaxfileupload.js"),V(l.getSCRIPT_UPL()),$("#"+r.tcui+" #preview-image").bind("DOMNodeInserted DOMNodeRemoved",function(a){"DOMNodeInserted"==a.type&&($("#"+r.tcui+" .preview-image-unit").each(function(){var a=$(this);a.find("img");a.hasClass("event")||(a.find("img").click(function(){sa($(this))}),a.find(".modal-dialog-title-close").click(function(){$(this).closest(".preview-image-unit").remove();ga("remove")}),a.addClass("event"))}),ga("insert"))})):(c="ifrm_"+b.upload_sel[a].replace(/\W/g,""),c='<a style="position:absolute; top:10px; right:20px; height:16px; width:50px; border:0; font-weight:normal" href="javascript:;" id="ifrm_reload_'+a+'">reload</a><div style="margin:10px 3px 15px 30px; display:inline-block;"><a target="_blank" title="Goto '+a+'" href="http://'+b.upload_sel[a]+'"><b>http://'+b.upload_sel[a]+'</b></a></div><iframe id="'+c+'" src="http://'+b.upload_sel[a]+'" style="width:100%; height:300px"></iframe>',$("#"+d).html(c),$("#ifrm_reload_"+a).click(function(){var a=$(this).attr("id").replace(/ifrm_reload_/,""),c=b.upload_sel[a];$("#ifrm_"+b.upload_sel[a].replace(/\W/g,"")).attr("src","http://"+c)})));$("#"+d).parent().find(".content_uploader.curent").removeClass("curent").hide();$("#"+d).addClass("curent").show()}},toggletab:function(a){var b="."+r.self;a?($(b+", .box-bottom").show(),$("."+r.sibl).hide()):$(b+", .box-bottom").hide()}},n={init:function(a){n.tci="tabs-content-inner";n.tch="tab-content-hidden";n.self="box-smiley";n.sibl="box-upload";a||(a="tabs-sb-tkecil");n.init_container();n.load_smiley(a)},init_container:function(){var a,b=$("#"+n.tci),c=["tabs-sb-tkecil","tabs-sb-tbesar","tabs-sb-tcustom"];a=c.length;$(b).html("");for(var d=0;d<a;d++)$(b).append('<div id="'+c[d]+'" class="sml_main" style="display:none" />')},init_scustom:function(a,c){$("#"+a).html(l.getTPLCustom(n.menus_scustom()));var d,e="",f=0,e='<input type="hidden" id="current_grup" value="'+(b.smgroup&&0<b.smgroup.length?b.smgroup[0]:"")+'" /><input type="hidden" id="current_order" value="'+(b.smgroup?"0":"")+'" /><input type="hidden" id="scustom_todo" value="" /><input type="hidden" id="scustom_todel" value="" />';$("#custom_bottom").append(e);d='<select id="pos_group_sets" tabindex="505" style="width: 50px;" class="gbtn">';e="";for(grup in c)e+='<div id="content_scustom_container_'+grup+'" class="content_scustom" style="display:none"></div>',d+='<option value="'+f+'">'+(f+1)+"</option>",f++;d+="</select>";e&&($("#scustom_container").html(e).show(),$("#position_group").html(d),$("#manage_help, #manage_cancel, #dv_menu_disabler").hide(),$("#custom_bottom, #title_group").show())},menus_scustom:function(){var a,c;c='<li class="qrt_first"><div style="height:1px"></div></li><li class="qrt add_group"><div class="add_group">Add Group</div></li><li><div style="height:1px"></div></li>';if(b.smgroup&&0<b.smgroup.length){a=b.smgroup.length;for(var d=0;d<a;d++)c+='<li class="qrt'+(0==d?" curent":"")+'"><div id="tbgrup_'+d+'" title="'+b.smgroup[d].replace(/_/g," ")+'">'+b.smgroup[d]+'<span class="num">'+(d+1)+"</span></div></li>";c+='<li class="qrt_first"><div style="height:1px"></div></li>'}return c},save_scustom:function(a){y(o+"CUSTOM_SMILEY",a,function(){var a=parseInt($("#pos_group_sets").val());$("#tabs-sb-tcustom").html("");l.getSmileySet(!0,function(){n.init_scustom("tabs-sb-tcustom",b.smcustom);n.event_scustom();n.refresh_menus();$("#tbgrup_"+a).get(0)?$("#tbgrup_"+a).click():$("#tbgrup_0").click()})})},event_menus:function(){$("li.add_group").click(function(){var a=Math.random().toString(),a=a.replace(/0\./g,"").substring(0,3);$(this).addClass("curent");$("#label_group").html("Add Group");$("#manage_btn").html("Save");$("#textarea_scustom_container").val("").height(100);$("#input_grupname").val("untitled_"+a);$("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler").show();$("#scustom_container, #title_group").hide();$("#delete_grupname").hide();$("#label_group").click();$("#scustom_todo").val("add")});$("#tabs-sb-tcustom .qrt").each(function(){$(this).hasClass("add_group")||$(this).click(function(){var a,c,d,e;a=$(this).find("div:first").attr("id").replace(/tbgrup_/gi,"");e=b.smgroup[a];$("#content_scustom_container_"+e).get(0)&&($("#scustom_container").find(".content_scustom.curent").removeClass("curent").empty().hide(),$("#content_scustom_container_"+e).addClass("curent").show());$("#current_grup").val(e);$("#current_order").val(a);$("#title_group").html(e.replace(/_/g," "));$(this).closest("#ul_group").find(".curent").removeClass("curent");$(this).addClass("curent");b.smcustom||l.getSmileySet(!0);if(b.smcustom&&b.smcustom[e]){c="";d=b.smcustom[e].length;for(var f=0;f<d;f++)if(B(b.smcustom[e][f])){if(a=ka(b.smcustom[e][f],!0,"view"))/<br\s?\/?>/.test(a)?c+=a:(""!=c&&(c+="<br/>"),c+=a+"<br/>")}else c+='<img src="'+b.smcustom[e][f][0]+'" alt="_alt_'+b.smcustom[e][f][1]+'" title="[['+b.smcustom[e][f][1]+"] &#8212;"+b.smcustom[e][f][0]+'" /> ';$("#content_scustom_container_"+e).html(c);n.event_img("#"+n.tci+" #tabs-sb-tcustom","tcustom")}})})},event_scustom:function(){$("#label_group").click(function(){b.$w.setTimeout(function(){$("#input_grupname").focus()},100)});$("#input_grupname").focus(function(){$(this).select()}).keydown(function(a){13==a.keyCode?(x(a),$("#manage_btn").click()):27==a.keyCode&&$("#manage_cancel").click()});$("#manage_help").click(function(){alert("Each Smiley separated by newline.\nFormat per line:\n tag|smileylink\n eg.\ncheers|http://static.kaskus.us/images/smilies/sumbangan/smiley_beer.gif\n\n\nUse Custom Smiley BBCODE with this format:\n eg.\n[[yourtag]\n")});$("#manage_cancel").click(function(){$("li.add_group").removeClass("curent");$("#manage_help, #manage_cancel, #custom_addgroup_container, #dv_menu_disabler, #position_group").hide();$("#scustom_container, #title_group").show();0<b.smgroup.length?($("#manage_btn").html("Manage"),$("#custom_bottom").show()):$("#custom_bottom").hide()});$("#manage_btn").click(function(){var a=$(this).html().toLowerCase();if("save"==a){var c,d=function(){return t($("#input_grupname").val().replace(/[^a-z0-9]/gi,"_").replace(/_{2,}/g,"_"))};c=d();todel=$("#scustom_todel").val()==c;var e=function(a){if(""!=a){var b,c,d="",e={"\\|{2,}":"|","(\\r\\n){2,}":"\r\n{sctag:br}\r\n,","(\\n){2,}":"\n{sctag:br}\n"},a=a.replace(/[\[\]\,]/g,"");for(c in e)B(e[c])&&(b=RegExp(c,"g"),a=a.replace(b,e[c]));a=document.all?a.split("\r\n"):a.split("\n");b=a.length;for(e=0;e<b;e++)if(B(a[e]))if(a[e]=t(a[e]),(c=/([^|]+)\|([\w\W]+)/.exec(a[e]))&&q(c[1])&&q(c[2]))d+=c[1]+"|"+(/^https?\:\/\/.+$/i.test(c[2])?c[2]:escape(c[2]))+",";else if(c=ka(a[e],!1,"saving"))d+=c+","}return d};if(a=$("#textarea_scustom_container").val())a=e(t(a));""==t(c)?alert("Group Name can not be empty"):a?function(a,e){var f="",g,h,i,j;i=$("#scustom_todo").val();a||n.save_scustom(!1);if("add"==i&&b.smcustom[c])alert("Group Name is already exists"),n.save_scustom(!1);else if("edit"==i&&(h=$("#current_order").val(),g=[h?h:"",$("#current_grup").val()],j=$("#pos_group_sets option:selected").val(),""!=g[0]&&j!=g[0]&&b.smgroup)){var k=b.smgroup[g[0]];h=[];b.smgroup[g[0]]=null;j>g[0]&&b.smgroup.splice(g[0],1);b.smgroup.splice(j,0,k);for(g=0;g<b.smgroup.length;g++)b.smgroup[g]&&h.push(b.smgroup[g]);b.smgroup=h}var l,m={},p,q,r;s(o+"CUSTOM_SMILEY",function(g){var g=g?g.split("<!>"):[],h=g.length;if(h)for(var j=0;j<h;j++)part=g[j].split("<!!>"),m[""+part[0]]=""+part[1];p=b.smgroup?b.smgroup.length:0;if("edit"==i){g=$("#current_order").val();g=[g?g:"",$("#current_grup").val()];l=""!=g[1]&&""!=c&&c!=g[1];for(h=0;h<p;h++)q=b.smgroup[h].toString(),q==g[1]?e?c=!1:(m[q]=a.toString(),c=t(l?d():g[1]).replace(/\!/g,"\\!")):c=q,f+=c?c.toString()+"<!!>"+m[q]+(h+1<p?"<!>":""):""}else{r=!1;if(b.smgroup)for(h=0;h<p;h++)q=b.smgroup[h].toString(),r=r||q==c,f+=q+"<!!>"+m[q]+(r?a.toString():"")+(h+1<p?"<!>":"");r||(f+="<!>"+c.toString()+"<!!>"+a.toString())}n.save_scustom(f)})}(a,todel):alert("Invalid tag and/or smiley format")}else if("manage"==a){$(this).html("Save");$("label_group").html("Group");$("#scustom_todo").val("edit");$("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler, #position_group, #delete_grupname").show();$("#scustom_container, #title_group").hide();c=$("#current_grup").val();var f="";$("#input_grupname").val(c);a=$("#current_order").val();$("#pos_group_sets option[value="+a+"]").attr("selected","selected");s(o+"CUSTOM_SMILEY",function(a){for(var a=a.split("<!>"),b=a.length,d=0;d<b;d++)part=a[d].split("<!!>"),c==part[0]&&(f=(""+part[1]).replace(/,/g,"\n").replace(/{sctag\:br}/g,""));$("#textarea_scustom_container").val(f);$("#input_grupname").focus()})}});$("#delete_grupname").click(function(){var a=$("#current_grup").val();confirm("You are about to delete this Group.\nName: "+a+"\n\nContinue delete this group?\n")&&($("#scustom_todel").val(a),$("#manage_btn").click())});$("#textarea_scustom_container, #delete_grupname, #manage_help").keydown(function(a){var c,d,e=a.keyCode||a.keyChar;d=$(this).attr("id");if("manage_help"==d){if($("#pos_group_sets").is(":visible"))return!0;c="#input_grupname"}else c="delete_grupname"==d?"#input_grupname":"#manage_btn";9===e&&(x(a),b.$w.setTimeout(function(){$(c).focus()},50))});n.event_menus()},event_img:function(a,b){$(a+" img").each(function(){$(this).click(function(){sa($(this))})});n.setClassEvents(b)},setClassEvents:function(a){for(var b=["tkecil","tbesar","tcustom"],c=b.length,d=0;d<c;d++)$("."+n.self).removeClass("events-"+b[d]);$("."+n.self).addClass("events-"+a)},refresh_menus:function(){$("#ul_group").html(n.menus_scustom());n.event_menus()},load_smiley:function(a){(!b.smbesar||!b.smkecil||!b.smcustom)&&l.getSmileySet();a||(a="tabs-sb-tkecil");if($("#"+a).hasClass("filled"))n.switch_tab(a);else{var c,d,e="",f=n.tch;c=a.replace("tabs-sb-","");d="tkecil"==c?b.smkecil:"tbesar"==c?b.smbesar:b.smcustom;$("."+n.self).append('<div id="'+a+'" class="'+f+'"></div>');b.$w.setTimeout(function(){"tabs-sb-tcustom"!=a?($.each(d,function(a,c){e+='<img src="'+b.kkcdn+"images/smilies/"+c[0]+'" alt="'+c[1]+'" title="'+c[1]+" &#8212;"+c[2]+'" /> '}),$("#"+a).html(e),n.event_img("#"+a,c)):(n.init_scustom(a,d),n.event_scustom(),$("#tbgrup_0").click());""!=$("#"+a).html&&$("#"+a).addClass("filled");n.switch_tab(a)},1)}},switch_tab:function(a){""==$("#"+a).html()?n.load_smiley(a):($("#"+n.tci).find(".active").removeClass("active").hide(),$("."+n.self+" #tabs-loader").hide(),$("#"+a).addClass("active").show())},toggletab:function(a){var b="."+n.self;a?($(b+", .box-bottom").show(),$("."+n.sibl).hide()):$(b+", .box-bottom").hide()}},M={e:{dialogname:"qr-modalBoxFaderLayer",boxsetting:"modal_setting_box"},init:function(){L();$("body.forum").addClass("hideflow");M.main()},main:function(){$("#"+M.e.dialogname).css("visibility","visible").show();$("body").prepend(l.getTPLSetting());M.design();S($("#"+M.e.boxsetting),130,function(){M.event_main()});N(650)},design:function(){var a,b=0,c="";a={gen:["General",l.getTPLGeneral()],exim:["Export / Import",l.getTPLExim()],kbs:["Keyboard Shortcut",l.getTPLShortcut()],abt:["About",l.getTPLAbout()]};c='<ul id="ul_group" class="qrset_mnu settingmnu">';$("#box_setting .cs_right").html("");for(tipe in a)"string"==typeof tipe&&(c+='<li data-ref="'+tipe+'" class="qrt'+(0==b?" curent":3==b?" qrset_lasttab":"")+'"><div>'+a[tipe][0]+"</div></li>",$("#box_setting .cs_right").append('<div class="stg_content'+(0==b?" isopen":"")+'" id="stg_content_'+tipe+'" style="display:none;">'+(a[tipe][1]?a[tipe][1]:"")+"</div>"),b++);$("#box_setting .cs_left").html(c+"</ul>");$("#box_setting .st_contributor").scrollTop(0);$("#qr-modalBoxFaderLayer .cnv").remove();$("#qr-modalBoxFaderLayer").append('<canvas class="cnv" style="" />')},event_main:function(){$("#box_setting .qrt").each(function(){$(this).click(function(){var a,b=$(this).attr("data-ref");$(this).parent();$("#box_setting").find(".isopen").removeClass("isopen").hide();$("#stg_content_"+b).addClass("isopen").show();$(this).parent().find(".curent").removeClass("curent");$(this).addClass("curent");$("#box_preview_subtitle").html(" &#187; "+$(this).find("div").html());a=$("#box_action");a.html("Save");"exim"==b?($("#textarea_rawdata").val()||M.load_rawsetting(),$(a).html("Import").removeClass("jfk-button-disabled").attr("data-act","import")):"gen"==b?$(a).removeClass("jfk-button-disabled").attr("data-act","update"):$(a).addClass("jfk-button-disabled").attr("data-act","none");$(a).attr("data-todo",b)})});$("#box_setting .optchk").each(function(){$(this).click(function(){var a,b,c=$(this).attr("id");a=$(this).parent().find("#"+c+"_child");b=$(this).is(":checked");$(a).css("display",b?"block":"none");"misc_autolayout"==c&&$("#edit_tpl_cancel").css("display",b?"":"none")})});$("#edit_tpl_cancel").click(function(){$("#misc_autolayout").removeAttr("checked").click().removeAttr("checked")});b.noCrossDomain||$("#chk_upd_now").click(function(){$("#chk_upd_load").show();$(this).hide();C.caller="#"+$(this).attr("id");C.check(!0)});var a,c,d=function(a){return $(a).is(":checked")};$("#box_action").click(function(){if("update"==$(this).attr("data-act")){var e,f;f="";var g=0,h=function(){$("#box_action").html("Save").removeClass("jfk-button-disabled");return!1};$("#box_action").html("Saving..").addClass("jfk-button-disabled");b.settings.updates=d("#misc_autolayout");c=b.settings.updates?"1":"0";e=t($("#edit_tpl_txta").val().toString());""==e&&(e="[B]{message}[/B]");c&&-1!=e.toLowerCase().indexOf("{message}")?(oa(b.user.id,("0,"+c).toString(),"LAYOUT_CONFIG"),b.settings.userLayout.template=a=e,oa(b.user.id,encodeURIComponent(a),"LAYOUT_TPL",["<!>","::"])):(g=1,f='Invalid Layout format.\nCan\'t find "{message}" in template.\n\neg. [B]{message}[/B]');if(g&&c)return alert(f),h();var i,j;if(d($("#misc_hotkey"))){e=["misc_hotkey_ctrl","misc_hotkey_shift","misc_hotkey_alt"];f=[!b.isOpera?"0,0,1":"1,0,1","1,1,0"];g=e.length;i=[];for(var k=0;k<g;k++)B(e[k])&&i.push(d($("#"+e[k]))?"1":"0");j=$("#misc_hotkey_char").val().toUpperCase();if("Q"==j&&(f[0]==""+i||f[1]==""+i))if(confirm("Hotkey is already reserved:\n ["+(!b.isOpera?"Alt + Q":"Ctrl + Alt +Q")+"] : Fetch Quoted Post\n [Ctrl + Shift + Q] : Deselect Quote\n\nDo you want to make a correction?"))return h()}else i=["0,0,0"];if(0==j.length||j&&j.match(/[A-Z0-9]{1}/))b.settings.hotkeykey=""+i,b.settings.hotkeychar=""+j,y(o+"QR_HOTKEY_KEY",""+i,function(){y(o+"QR_HOTKEY_CHAR",""+j)});b.$w.setTimeout(function(){c=d("#misc_updates")?"1":"0";y(o+"UPDATES",c.toString(),function(){a=$("#misc_updates_interval").val();a=isNaN(a)||a<=0?1:a>99?99:a;y(o+"UPDATES_INTERVAL",a.toString(),function(){b.$w.setTimeout(function(){ha(b.settings);M.cold_boot();$("#modal_setting_box #box_cancel").click()},200)})})},400)}else{var l,m;$("#textarea_rawdata").addClass("jfk-button-disabled");m=t($("#textarea_rawdata").val());if(b.buftxt&&m==t(b.buftxt))$("#box_action").val("Nothing changed.."),b.buftxt&&delete b.buftxt,window.setTimeout(function(){$("#box_cancel").click()},750);else if(confirm("Are you sure to update these settings?\nYour current settings will be lost.\n\nPage may need to reload to apply new Settings.\n")){$("#box_action").val("Saving..");m=m.split("\n");l=m.length;var n,p=!1,r=function(a){var c=t(m[a]);if(n=c.match(/^\[([^\]]+)]/))n[1]=t(n[1]),p=q(U[o+n[1]])?n[1]:!1;else if(p&&c&&!c.match(/^\#\s(?:\w.+)*/))try{y(o+p,c.toString(),function(){p=!1})}catch(d){}a++;a<l?r(a):b.$w.setTimeout(function(){ha(b.settings);b.$w.setTimeout(function(){location.reload(!1)},50)},200)};r(0)}else $("#textarea_rawdata").removeClass("jfk-button-disabled")}});$("#exim_select_all").click(function(){$("#textarea_rawdata").focus();Q($("#textarea_rawdata").get(0))});$("#reset_settings").click(function(){s(o+"CUSTOM_SMILEY",function(a){var c,d,e=["http://www.kaskus.us/showthread.php?t=3170414","http://userscripts.org/topics/58227"];d="";for(c=0;20>c;c++)d+=" ";c=(""!=a.replace(/^\s+|\n|\s+$/g,"")?fa("&#182;")+" ::Alert::\nCustom Smiley detected. You might consider of losing it.\n\n":"")+"This will delete/reset all saved data.\nPlease report any bug or some bad side effects here:"+d+"\n"+e[1]+"\nor\n"+e[0]+"\n\n"+fa("&#187;")+" Continue with Reset?";if(confirm(c)){var a="SAVED_AVATAR,LAST_SPTITLE,LAST_UPLOADER,HIDE_AVATAR,MIN_ANIMATE,UPDATES_INTERVAL,UPDATES,QUICK_QUOTE,CUSTOM_SMILEY,TMP_TEXT,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_SIGI,LAYOUT_TPL,PRELOAD_RATE,QR_LastUpdate,QR_COLLAPSE,QR_LASTPOST,UPLOAD_LOG,CSS_BULK,CSS_META,UPLOAD_LOG,UPLOAD_LOG,DYNAMIC_QR,COUNTDOWN".split(","),f=a.length,g=0;for(c=0;c<f;c++)try{B(a[c])&&za(o+a[c],function(){g++;g>=f&&b.$w.setTimeout(function(){location.reload(!1)},500)})}catch(h){}}})});$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){L()});$("#box_setting .curent").click();$("#"+b.tID).blur()},cold_boot:function(){""==$("#tabs-content-inner").html()||$("#tabs-sb-tcustom").get(0)&&""==$("#tabs-sb-tcustom").html()||(b.smcustom=null,$("#tabs-sb-tcustom").html(),n.load_smiley("tabs-sb-tcustom"))},load_rawsetting:function(){var a="UPDATES,UPDATES_INTERVAL,HIDE_AVATAR,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_TPL,CUSTOM_SMILEY".split(","),c={UPDATES:"Check Update enabled? validValue=[1,0]",UPDATES_INTERVAL:"Check update Interval (day); validValue=[0< interval < 99]",QR_DRAFT:"Mode QR-Draft; validValue=[1,0]",HIDE_AVATAR:"Mode Show Avatar. validValue=[1,0]",QR_HOTKEY_KEY:"Key of QR-Hotkey; [Ctrl,Shift,Alt]; validValue=[1,0]",QR_HOTKEY_CHAR:"Char of QR-Hotkey; validValue=[A-Z0-9]",LAYOUT_CONFIG:"Layout Config; [userid=isNaN,isEnable_autoLAYOUT]; isEnable's validValue=[1,0]",LAYOUT_TPL:"Layout Template; [userid=LAYOUT]; validValue of LAYOUT is must contain escaped {MESSAGE}",CUSTOM_SMILEY:"Smiley Custom's Raw-Data; [tagname|smileylink]"},d=a.length;b.buftxt="# QR-Settings Raw-Data\n";b.buftxt+="# Version: QR"+(0!==O?"+":"")+" "+b.sversion+"\n";b.buftxt+="# Source: http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID+"\n";b.buftxt+="# User-Agent: "+window.navigator.userAgent.replace(/\s*\((?:[^\)]+).\s*/g," ").replace(/\//g,"-")+"\n";b.buftxt+="# Date-Taken: "+function(){var a=new Date;return a.getFullYear().toString()+"-"+(1==(a.getMonth()+1).toString().length?"0":"")+(a.getMonth()+1)+"-"+(1==a.getDate().toString().length?"0":"")+a.getDate()+", "+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")[a.getDay()]+". "+(1==a.getHours().toString().length?"0":"")+a.getHours()+":"+(1==a.getMinutes().toString().length?"0":"")+a.getMinutes()+":"+(1==a.getSeconds().toString().length?"0":"")+a.getSeconds()}()+"\n";b.buftxt+="\n";var e=function(f){s(o+a[f],function(g){var h=a[f];g&&h&&(b.buftxt+="# "+c[h]+"\n",b.buftxt+="["+h+"]\n"+g+"\n\n");f+1<d?(f++,e(f)):b.$w.setTimeout(function(){$("#textarea_rawdata").val(b.buftxt).removeAttr("readonly")},200)})};e(0)}},z={engage:!1,init:function(){z.path_uri=b.kqr_static;z.css_name="";z.run("",z.callback)},run:function(a,b){a||(a="style.txt");D.uri=z.path_uri+a;i("fetch css: "+D.uri);D.cached=!1;D.forceGM=!0;D.request(null,"GET",b)},callback:function(a){if(a=""+a.responseText){var b,c,d=a.split("\n");c=d.length;for(var e=0;e<c;e++)if(""!=t(d[e])){b=t(d[e]);break}z.css_name=b;z.run(a,z.callback_fin)}},callback_fin:function(a){(a=t(""+a.responseText))&&z.set_css(a)},set_css:function(a,b){y(o+"CSS_BULK",a,function(){X(a,"xhr_css",1);var c=z.css_name+";"+(new Date).getTime().toString();y(o+"CSS_META",c,function(){"function"==typeof b&&b()})})}},C={caller:"",check:function(a){if(!(q(O)&&0!==O)){var c=36e5*b.settings.updates_interval;s(o+"QR_LastUpdate",function(d){d||(d=0);if(a||parseInt(d)+parseInt(c)<=(new Date).getTime())b.updateForced=a,a||(C.caller=""),D.uri="http://userscripts.org/scripts/source/"+b.scriptMeta.scriptID+".meta.js",D.cached=!1,D.forceGM=!0,D.request(null,"GET",C.callback)})}},callback:function(a){var c=(new Date).getTime()+"";y(o+"QR_LastUpdate",c,function(){$(C.caller).get(0)&&($(C.caller).parent().find(".uloader").hide(),$(C.caller).show());try{a&&a.responseText.match(/@timestamp(?:[^\d]+)([\d\.]+)/)[1]>b.scriptMeta.timestamp?(C.initiatePopup(a.responseText),b.updateForced&&(L(),$("#nav-wrapper .update").click())):b.updateForced&&alert("No update is available for QR.")}catch(c){}})},initiatePopup:function(a){$(".button-bottom").append('<div class="baloon-update" style="display:none"><a href="javascript:;"> </a></div>');$(".baloon-update").fadeIn(500,function(){$(".baloon-update a").click(function(){C.meta=C.mparser(a);$("#qr-modalBoxFaderLayer").css("visibility","visible").show();$("body").prepend(l.getTPLUpdate());$("#modal_update_box").fadeIn(130,function(){C.design();C.event()});N(450)})})},design:function(){var a="<b>New "+b.titlename+"</b> (v"+C.meta.cvv[1]+') is available<div style="float:right;"><a class="qbutton" href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+'" target="_blank" title="QR Home in userscripts.org"><b>v'+C.meta.cvv[1]+"</b></a></div>";$("#box_update_title").html(a);a='<h4 class="isclose"><span>&#9654;</span> What\'s New</h4><div class="update-panel toggle-panel" style="display:none;">'+C.meta.news+"<br/></div>";$("#content_update").addClass("help-content").html(a)},event:function(){$("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){L()});$("#content_update h4").click(function(){var a,b,c=$(this);$(this).parent().find(".toggle-panel").slideToggle(160,function(){a=$(c).hasClass("isclose");b=$(this);a?($(b).slideDown(160),$(c).removeClass("isclose")):($(b).slideUp(),$(c).addClass("isclose"));$(c).find("span").html(a?"&#9660;":"&#9654;")})});$("#box_update").click(function(){$("#hid_updateframe").get(0)&&$("#hid_updateframe").remove();$("#content_update").append('<iframe id="hid_updateframe" src="http://userscripts.org/scripts/source/'+b.scriptMeta.scriptID+'.user.js" style="visibility:hidden; position:absolute; border:0; height:0; width:0;"></iframe>');$(this).addClass("jfk-button-disabled");b.$w.setTimeout(function(){$("#box_update").removeClass("jfk-button-disabled")},4e3)})},mparser:function(a){return{tv:a.match(/@timestamp(?:[^\d]+)([\d]+)/)||[null],cvv:a.match(/@version(?:[^v\d]+)([\d\.\w]+)/)||[null],news:function(a){var b,c=["// -!--latestupdate","// -/!latestupdate---"];b=[a.indexOf(c[0]),a.indexOf(c[1])];return(-1!=b[0]&&-1!=b[1]?(""+a.substring(b[0]+c[0].length,b[1])).replace(/\/+\s*/gm,function(){return" "}):"").replace(/</g,"<").replace(/>/g,">").replace(/(?:\r\n|\n|\r)/gi,"<br/>")}(a)}}},G={init:function(a,b){var c,d=[];$(".multi-quote.active").each(function(){c=$(this).closest(".post-wrapper");$(c).get(0)&&d.push($(c).attr("id"))});0==d.length?(i("no multiquote, perform to this calee"),c=$(a).closest(".post-wrapper"),$(c).get(0)&&d.push($(c).attr("id"))):$("#sdismiss_quote").click();G.cb=b;G.mqs_id=d;G.title=!1;G.start()},start:function(){var a,b,c,d;$.each(G.mqs_id,function(){d=this;c=$("#"+d).find(".entry-content");$(c).get(0)&&(b=(""+$(c).html()).replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,""),b=b.replace(/(?:<\!-{2,}reason\s?[^>]+.)+/gi,""),a=G.parseMSG(b),i("ret to parseMSG="+a),h.init(),a&&h.add("[QUOTE="+G.get_quotefrom(d)+"]"+a+"[/QUOTE]\n\n"))})},get_quotefrom:function(a){var b,c=F("div",{},$("#"+a).find(".fn").html());b=t($(c).text().toString().replace(/\[\$\]$/,""));$(c).remove();return t(b)+";"+a.replace(/^post/i,"")},clearTag:function(a,b){return H(b)?t(a.replace(/<\/?[^>]+>/gm,""))||"":a.replace(RegExp("[\\r\\n\\t]?<\\/?(?:"+b+")(?:[^>]+)?.[\\r\\n\\t]?","gim"),"")},parseTITLE:function(a){var b;b=$("img",$(a));b=$(b).get(0)?na($(b).attr("src")).replace(/\./g,""):"";G.title={icon:b,text:$(a).text()}},parseMSG:function(a){var c,d,e,f,g,h,j,k,m,n;c=[];d=[];e=[];f=[];n=!1;var o=function(a){return a.replace(/\>/gm,">").replace(/\</gm,"<").replace(/\&/gm,"&")},p=function(a,g,h){i("inside parseSerials 2up=["+h.toUpperCase()+"]");if(-1!=$.inArray(h.toUpperCase(),["B","I","U"]))return"["+(g?"/":"")+h.toUpperCase()+"]";if(/^span\s/i.test(h)||"SPAN"==h.toUpperCase()){a=h.match(/\/?span(?:\srel=['"]([^'"]+))?/i);if(q(a[1]))if(-1!=a[1].indexOf("spoiler")){d.push("SPOILER");h=a[1].split("-");if(q(h[1])&&h[1].length){m=F("div",{style:"display:none"},a[1].replace(h[0]+"-",""));h[1]=t(m.childNodes[0].nodeValue);try{E.remove(m)}catch(p){}}a[1]='SPOILER="'+(!h[1]?"":h[1])+'"'}else d.push(a[1]);else a[1]=!1;(k=a&&a[1])&&-1==a[1].indexOf("=")&&(a[1]=a[1].toUpperCase());h=d.length-1;a=k?"["+a[1]+"]":q(d[h])?"[/"+d[h].toUpperCase()+"]":"";k||d.splice(h,1);return a}if(/^font\s+/i.test(h)||"FONT"==h.toUpperCase())return a=h.match(/\bfont(?:\s{1,}([^=]+).['"]([^'"]+))?/i),q(a[1])&&(a[1]="face"==a[1]?"font":a[1],c.push(a[1])),k=q(a[2])&&a[2],h=c.length-1,a="["+(k?a[1].toUpperCase()+'="'+a[2]+'"':"/"+(q(c[h])?c[h].toUpperCase():"???"))+"]",k||c.splice(h,1),a;if(/^div\s/i.test(h)||"DIV"==h.toUpperCase())return-1==h.indexOf("rel=")&&-1==h.indexOf("style=")?(a=h.match(/\/?div(?:\salign=['"]([^'"]+))?/i),q(a[1])&&f.push(a[1]),(k=a&&a[1])&&-1==a[1].indexOf("=")&&(a[1]=a[1].toUpperCase()),h=f.length-1,a=k?"["+a[1]+"]":q(f[h])?"[/"+f[h].toUpperCase()+"]":"",k||f.splice(h,1),a):"";if(/\shref=/i.test(h)||"A"==h.toUpperCase())return a=h.match(/\/?a\s*(?:(?:target|style|title|linkid)=[\'\"][^\'\"]+.\s*)*(?:\s?href=['"]([^'"]+))?/i),q(a[1])?(h=/^mailto:/.test(a[1])?"EMAIL":"URL","EMAIL"==h&&(a[1]=a[1].replace(/^mailto:/i,"")),e.push(h)):a[1]=!1,k=a&&a[1],h=e.length-1,a=a&&a[1]?q(e[h])?"["+e[h].toUpperCase()+"="+a[1]+"]":"":q(e[h])?"[/"+e[h].toUpperCase()+"]":"",k||e.splice(h,1),a;if(/^blockquote/i.test(h))return"["+(g?"/":"")+"INDENT]";if(/\ssrc=/i.test(h))if((a=h.match(/\ssrc=['"]([^'"]+)/i))&&q(a[1])){if(/^embed\s*/i.test(h))return j=a[1].replace(/^https?\:\/\/(?:w{3}\.)?youtube\.com\/(?:watch\?v=)?(?:v\/)?/i,""),a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)?(j=o(o(unescape(j))),j=j.replace(/>/gm,">").replace(/</gm,"<"),"[YOUTUBE]"+j+"[/YOUTUBE]"):"";if(j=a[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)){if(j)return"[YOUTUBE]"+j[1]+"[/YOUTUBE]"}else if(j=h.match(/img\s*(?:(?:alt|src|class|border)=['"](?:[^'"]+)?.\s*)*title=['"]([^'"]+)/i)){if(j){h=a[1].indexOf("/smilies/");h=a[1].substring(h+9);h=h.replace(/[^\w]/g,"").toString();if(!n){var r={},s;(!b.smbesar||!b.smkecil)&&l.getSmileySet();s=b.smkecil;for(var u=0;u<s.length;u++)g=s[u],r[g[0].replace(/[^\w]/g,"").toString()]=g[1].toString();s=b.smbesar;for(u=0;u<s.length;u++)g=s[u],r[g[0].replace(/[^\w]/g,"").toString()]=g[1].toString();n=r}return q(n[h])?n[h]:"[IMG]"+a[1]+"[/IMG]"}}else return"[IMG]"+a[1]+"[/IMG]"}else return"";else return a};g=F("div",{style:"display:none"},a);for(var a=I('.//span[starts-with(@id,"KSA-")]',g),r=a.snapshotLength-1;0<=r;r--)(h=a.snapshotItem(r))&&E.remove(h);$(g).html(function(a){var b,c,d,e=g;q(a)&&(a=(""+a).replace(/<(\/?)([^>]+)>/gm,p),e=F("div",{style:"display:none"},a));i("inside revealQuoteCode\n"+$(e).html());a=I('.//span[@class="post-quote"]',e);i(" quote objects len = "+a.snapshotLength);if(a.snapshotLength)for(var f=0;f<a.snapshotLength;f++)if(b=a.snapshotItem(f),$(b).html().match(/Quote:/))i("ada Quote"),c=document.createTextNode("\n"),b.parentNode.replaceChild(c,b);else if(d=$(b).html().match(/(?:(HTML|PHP)\s{1})*Code:/))c=b.parentNode,E.remove(b),d=d&&d[1]?d[1]:"CODE",b=$(c).html(),"CODE"==d&&(b=t((""+b).replace(/<(\/?)([^>]+)>/gm,p))),b=b.replace(/\ /gi," "),b="["+d+"]"+Z(G.clearTag(b))+"[/"+d+"]\n",b=document.createTextNode(b),c.parentNode.replaceChild(b,c);$(".edited",$(e)).remove();return $(e).html()}());i("pCon="+$(g).html());h=$("h2",$(g));$(h).get(0)&&(i("judul="+h.html()),G.parseTITLE(h),$("h2",$(g)).remove());$(".spoiler",$(g)).each(function(){var a;a=$(this).find("#bbcode_inside_spoiler").html();a="[SPOILER="+$(this).find("i").text()+"]"+a+"[/SPOILER]";a=document.createTextNode(a);$(this).replaceWith($(a))});i("pCon after spoiler="+$(g).html());a=o($(g).html());a=a.replace(/<br\s*\/?>/g,"\n");i("x decoded "+a);delete g;a=t((""+a).replace(/<(\/?)([^>]+)>/gm,p));i("ret="+a);return Z(G.clearTag(a))}},D={uri:null,returned:null,forceGM:!1,cached:!1,events:!1,request:function(a,b,c){if(D.uri){b=q(b)&&b?b:"GET";a=q(a)&&a?a:null;"function"!=typeof c&&(c=null);var d={method:b,url:D.uri+(D.cached?"":(-1==D.uri.indexOf("?")?"?":"&rnd=")+Math.random().toString().replace("0.","")),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:B(a)?a:"",onload:function(d){503==d.status?(i("Reach 503, retrying..."),window.setTimeout(D.request(a,b,c),777)):null!=c?c(d):D.returned=d}};D.forceGM?GM_xmlhttpRequest(d):Ja(d)}}},Ja=function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(a.onreadystatechange)a.onreadystatechange(b);if(4==b.readyState&&a.onload)a.onload(b)};b.onerror=function(){if(a.onerror)a.onerror(b)};try{b.open(a.method,a.url,!0)}catch(c){if(a.onerror)a.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(a.headers)for(name in a.headers)b.setRequestHeader(name,a.headers[name]);b.send(a.data);return b};
b.inner={reply:{title:"Quick Reply",stoken:"",submit:"Post Reply"},edit:{title:"Quick Edit",submit:"Save Changes"}};b.titlename=b.inner.reply.title+(0!==O?"+":"");b.domain="http://livebeta.kaskus.us/";b.kkcdn="http://kkcdn-static.kaskus.us/";b.kqr_static="http://dev-kaskus-quick-reply.googlecode.com/svn/trunk/statics/kqr/";b.css_default="kqr_quad"+(b.__DEBUG__?".dev":"")+".css";
location.href.match(/^http:\/\/\w+\.kaskus\.us\/.+/)?(b.qID="qr-content-wrapper",b.tID="reply-messsage",b.def_title="Type new Title",b.loging_in="Logging in..",b.B=l.getSetOf("button"),b.uploader=b.upload_sel=b.settings=b.UA={},b.user={id:null,name:"",isDonatur:!1},b._securitytoken_prev=b._securitytoken=null,b.ajax_pid={},b.MQ_count=b.edit_mode=b.pID=b.maxH_editor=b.bodywidth=0,b.upload_tipe=b.last_postwrap="",b.offsetEditorHeight=160,b.offsetLayer=10,b.offsetMaxHeight=115,Aa(),b.injected=!1,b.mx=
30,b.ix=0,wa()):Ia();
})();