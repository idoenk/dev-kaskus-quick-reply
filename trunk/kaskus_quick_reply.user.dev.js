// ==UserScript==
// @name           Kaskus Quick Reply New
// @icon           http://code.google.com/p/dev-kaskus-quick-reply/logo?cct=110309324
// @namespace      http://userscripts.org/scripts/show/KaskusQuickReplyNew
// @include        *.kaskus.us/thread/*
// @include        *.kaskus.us/post/*
// @include        *.kaskus.us/group/discussion/*
// @description    KQR
// @version        4.0.3
// @dtversion      120408403
// @timestamp      1333841922074
// @description    provide a quick reply feature, under circumstances capcay required.
// @author         idx(302101; http://userscripts.org/users/idx); bimatampan(founder);
// @license        (CC) by-nc-sa 3.0
// @contributor    s4nji, riza_kasela, p1nky, b3g0, fazar, bagosbanget, eric., bedjho, Piluze, intruder.master, Rh354, gr0, hermawan64, slifer2006, gzt, Duljondul, reongkacun, otnaibef, ketang8keting, farin, drupalorg, .Shana, t0g3, & all-kaskuser@t=3170414
// @include        http://imageshack.us/*
// @include        http://*.imageshack.us/*
// @include        http://imgur.com/*
// @include        http://photoserver.ws/*
// @include        http://lulzimg.com/*
// @include        http://*.imagedum.com/*
// @include        http://imagedum.com/*
//
// -!--latestupdate
//
// v4.0.3b - 2012-04-08 . 1333841922074
//	Fix custom smiley autotext (incomplete)
//
//
// ==/UserScript==
//
// v4.0.2b - 2012-04-08 . 1333837585608
//	Script attach to page scope when cross-domain is not possible.
//	Try fix avoid annoying confirm css_bulk (Opera); Thx: [andry_yosua,ceroberoz]
//	Fix missed style btn post on preview (donatur)
//	Fix misc btn controller [transparent;noparse]
//	Fix missed parsing title msg, fix edit grab title; Thx: [andrypein]
//	Fix get_quotefrom (again) post from moderator; Thx: [get_adien]
//	Fix continuing on capcay mismatch, countdown to next post;
//	Fix smiley custom, rephrase newline as it is, instead of {sctag:br}
//	Fix get_quotefrom, avoid removing [$]
//	Fix when nothin is to quote
//	Patch css for selection, post-header, post-entry; Thx: [adamantoi]
//	Fix (again) default value for layout_tpl; missed key on reset settings; highlight issue; Thx: [p1nky]
//	Fix double layout hits; Thx: [get_adien,tae_yang]
//	Enhance updater behaviour
//	Fix missing add group button
//	Fix edit popbox nfo case:(regular/donatur)
//	Fix smiley custom, delete group visibility, tab sequences;
//	Fix lastfocus after _TEXT.add
//	Fix literal quote tag; fits & set max-width on large images; Thx: [Aa JaMbRoNg]
//	Patch get_quotefrom literal name onleh
//	Patch dismissed after QQ
//	Fix fetch quote after fetch edit
//	Fix partial (untested overall) quickquote
//	Fix custom smiley; reuse old-school filter; Thx: [skycreeper,robertohongo]
//	Fix ordering custom smiley;
//	Fix default value for layout_tpl
//
// v4.0.1b - 2012-03-24 . 1332721590952
//	patch donatur w/o capcay
//
// v4.0.0b - 2012-03-24 . 1332711152951
//   init version for livebeta.kaskus.us (*)
//   * !! this QR version is NOT support for old kaskus.us (vbulletin), please use v3.2.7 or v3.2.8 instead
//   * QR v3.x.x will be discontinue and no longer maintained
//   * QR v4 (beta) will be prep for kaskuser in new kaskus, as livebeta is already spread.
//   * QR v4 (beta) with its primary functions is ready to be used but may still have some bugs and fewer feature
//   * QR v4 (beta) is able to quick-edit; exists in discussion group as well.
//
// v0.1 - 2010-06-29
//	 Init
// --
// Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License
// http://creativecommons.org/licenses/by-nc-sa/3.0/deed.ms
// --------------------------------------------------------
(function () {
    function N(pa) {
function K(c,d,e){if(!B(c))return!1;var f,g,h,k=!1;f=c;g={"{title:(.+)}":["b","$1"],"{sctag:(br)}":["br",""]};for(var w in g)if(h=RegExp(w,""),f.match(h)){k=!0;r(d)&&d?(c=f.replace(h,g[w][1]),c=qa(c),f="<"+g[w][0]+("br"==g[w][0]?"/":"")+">"+(c&&"br"!=g[w][0]?c+"</"+g[w][0]+">":"")):r(e)&&"editor"==e&&("{sctag:(br)}"==w?f=c.replace(h,"\n"):(g=h.exec(c),h&&r(g[1])?(c=qa(g[1]),f="{title:"+c+"}\n"):f=c+"\n"));break}return k?f:!1}
function qa(c){var d,e,f,g=c;f='[\\"\\\'][\\s]*(javascript\\:+(?:[^\\\'\\"]+))[\\"\\\'],((?:\\&lt;|<)*script(?:\\&gt;|>)*),((?:\\&lt;|<)*\\/script(?:\\&gt;|>)*),</?(?:[a-z][a-z0-9]*\\b).*(on(?:[^=]+)=[\\"\\\'](?:[^\\\'\\"]+)[\\"\\\']),</?(?:[a-z][a-z0-9]*\\b).+(style=[\\"\\\'](?:\\w+)\\/\\*[.+]*\\*\\/\\w+\\:[^\\"]+\\"),<[s]*>'.split(",");c="";for(e=f.length;""==c||-1!=c.indexOf("1");)for(var c="",h=0;h<e;h++)B(f[h])&&(d=RegExp(f[h],"ig"),g.match(d)?(c+="1",(d=d.exec(g))&&r(d[1])&&(g=g.replace(d[1],
""))):c+="0");return g}function V(c,d,e){d||(d=100);"function"!=typeof e&&(e=function(){});a(c).show();d=parseInt(d);0<d&&b.$w.setTimeout(function(){e()},d)}function N(c,d,e){d||(d=100);"function"!=typeof e&&(e=function(){});a(c).hide();d=parseInt(d);0<d&&b.$w.setTimeout(function(){e()},d)}function ba(c){return 1==(""+b.settings.userLayout.config).split(",")[1]?b.settings.userLayout.template.replace(/{message}/gi,c):c}function r(c){return!(null==c&&null!==c)}
function I(c){return null==c&&null!==c}function B(c){return"object"!=typeof c&&"function"!=typeof c}function u(c){return"string"==typeof c&&c?c.replace(/^\s+|\s+$/g,""):""}function ra(c){return c.match(/((?:http(?:s|)|ftp):\/\/)(?:\w|\W)+(?:\.)(?:\w|\W)+/)}function ja(c,d,e){F.Ev(d,c,function(c){"function"==typeof e&&e(c)})}function sa(c,d){var e=c.replace(/^.*[\/\\]/g,"");"string"==typeof d&&e.substr(e.length-d.length)==d&&(e=e.substr(0,e.length-d.length));return e}
function x(c){return document.getElementById(c)}function ca(c){if(c){for(var d="",e=G("div",{},c),c=e.childNodes.length,f=0;f<c;f++)"object"==typeof e.childNodes[f]&&(d+=function(c){return c.replace(/\&\#(\d+);/g,function(c,d){return String.fromCharCode(parseInt(d))})}(e.childNodes[f].nodeValue));try{e.removeChild(e.firstChild)}catch(g){}return d}}function G(c,d,e){var c=document.createElement(c),f;for(f in d)d.hasOwnProperty(f)&&c.setAttribute(f,d[f]);e&&(c.innerHTML=e);return c}
function da(c){var d="";if(null==c)return d;for(var e=c.length,f=0;f<e;f++){var g=c.charAt(f);if("&"==g){var h=c.indexOf(";",f+1);if(0<h){f=c.substring(f+1,h);if(1<f.length&&"#"==f.charAt(0))f=f.substring(1),g="x"==f.charAt(0).toLowerCase()?String.fromCharCode(parseInt("0"+f)):String.fromCharCode(parseInt(f));else switch(f){case "nbsp":g=String.fromCharCode(160)}f=h}}d+=g}return d}
function oa(c){var d=[],e,f;for(f=0;f<c.length;++f)e=c.charCodeAt(f),c[f].match(/[\w\[\]\<\>\s\?\'\"\;\:\=\+\-\_\)\(\&\^\$\%\#\@\*\.\,\!\~\}\{\|\/\r\n]/)?d.push(c[f]):(55296<=e&&56319>=e&&(f++,e=9216+(e-55296<<10)+c.charCodeAt(f)),d.push("&#"+e+";"));return d.join("")}function y(c){if(c)return c.stopPropagation(),c.preventDefault(),c;window.event.returnValue=!1;window.event.cancelBubble=!0;return window.event}
function T(c){c=c.target||c;if("object"!=typeof c)return!1;c.setSelectionRange(0,c.value.length)}function W(){var c=0;self.innerHeight?c=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?c=document.documentElement.clientHeight:document.body&&(c=document.body.clientHeight);return c}function t(c,d){var e,f=X[c];f&&setTimeout(function(){e=GM_getValue(c,f[0]);if("function"==typeof d)d(e);else if(d)d=e;else return e},0)}
function z(c,d,e){var f;X[c]&&setTimeout(function(){f=GM_setValue(c,d);if("function"==typeof e)e(f);else if(e)e=f;else return f},0)}function ta(c,d){try{setTimeout(function(){ret=GM_deleteValue(c);"function"==typeof d&&d(ret)},0)}catch(e){}}
function ua(c,d,e,f){if(!c)return null;var f=[r(f)&&"string"==typeof f[0]?f[0]:";",r(f)&&"string"==typeof f[1]?f[1]:"::"],g,h=p+e,k;t(h,function(e){if(k=e){k=k.split(f[0]);for(g=0;g<k.length;g++)if(k[g].split("=")[0]==c){k.splice(g,1,c+"="+d);z(h,k.join(f[0]));return}k.splice(g,0,c+"="+d);z(h,k.join(f[0]))}else z(h,c+"="+d)})}
function va(c,d,e,f){if(!c)return null;j(d+" inside");var e=[r(e)&&"string"==typeof e[0]?e[0]:";",r(e)&&"string"==typeof e[1]?e[1]:"::"],g,h=0,k=null;t(p+d,function(w){if(w){g=w.split(e[0]);j(d+" info="+g);for(w=0;w<g.length;w++)if(B(g[w])){var E=g[w].split("=");if(E[0]==c){for(var M=[c],w=E[1].split(e[1]),E=w.length,S=0;S<E;S++)B(w[S])&&M.push(w[S]);k=M;break}}h=1;M&&(k=M);"function"==typeof f&&f(k)}else j(d+" halted"),k=null,h=1});var w=function(){h||b.$w.setTimeout(function(){w()},1)};w()}
function Ea(){"undefined"==typeof unsafeWindow&&(unsafeWindow=window);"undefined"==typeof GM_log&&(GM_log=function(c){try{unsafeWindow.console.log("GM_log: "+c)}catch(d){}});var c=!1;window.navigator.appName.match(/^opera/i)&&"undefined"!=typeof window.opera&&(c=!0,b.isOpera=!0,GM_log=window.opera.postError,j("Opera detected...",0));if("undefined"!=typeof GM_setValue){var d;try{d=GM_setValue.toString()}catch(e){d=".staticArgs.FF4.0"}0<d.indexOf("staticArgs")?(b.isGreaseMonkey=!0,b.isFF4=!1,j("GreaseMonkey Api detected"+
((b.isFF4=0<d.indexOf("FF4.0"))?" >= FF4":"")+"...",0)):d.match(/not\s+supported/)&&(c=!0,b.isBuggedChrome=!0,j("Bugged Chrome GM Api detected...",0))}else c=!0,j("No GM Api detected...",0);b.noCrossDomain=b.isOpera||b.isBuggedChrome;if(c){j("Try to recreate needed GM Api...",0);c=null;try{c=typeof unsafeWindow.localStorage}catch(f){c=null}if("object"==c)j("Using localStorage for GM Api.",0),GM_getValue=function(c,d){var f=unsafeWindow.localStorage.getItem(L+c);if(null==f)return d;switch(f.substr(0,
2)){case "S]":return f.substr(2);case "N]":return parseInt(f.substr(2));case "B]":return"true"==f.substr(2)}return f},GM_setValue=function(c,d){switch(typeof d){case "string":unsafeWindow.localStorage.setItem(L+c,"S]"+d);break;case "number":0>d.toString().indexOf(".")&&unsafeWindow.localStorage.setItem(L+c,"N]"+d);break;case "boolean":unsafeWindow.localStorage.setItem(L+c,"B]"+d)}},GM_deleteValue=function(c){unsafeWindow.localStorage.removeItem(L+c)};else if(!b.isOpera||"undefined"==typeof GM_setValue)j("Using temporarilyStorage for GM Api.",
0),b.temporarilyStorage=[],GM_getValue=function(c,d){return"undefined"==typeof b.temporarilyStorage[L+c]?d:b.temporarilyStorage[L+c]},GM_setValue=function(c,d){switch(typeof d){case "string":case "boolean":case "number":b.temporarilyStorage[L+c]=d}},GM_deleteValue=function(c){delete b.temporarilyStorage[L+c]};"undefined"==typeof GM_openInTab&&(GM_openInTab=function(c){unsafeWindow.open(c,"")});"undefined"==typeof GM_registerMenuCommand&&(GM_registerMenuCommand=function(){GM_log("Notice: GM_registerMenuCommand is not supported.")});
if(!b.isOpera||"undefined"==typeof GM_xmlhttpRequest)j("Using XMLHttpRequest for GM Api.",0),GM_xmlhttpRequest=function(c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(c.onreadystatechange)c.onreadystatechange(d);if(4==d.readyState&&c.onload)c.onload(d)};d.onerror=function(){if(c.onerror)c.onerror(d)};try{d.open(c.method,c.url,!0)}catch(f){if(c.onerror)c.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(c.headers)for(name in c.headers)d.setRequestHeader(name,
c.headers[name]);d.send(c.data);return d}}GM_getIntValue=function(c,d){return parseInt(GM_getValue(c,d),10)}}function Fa(c,d){arguments.callee.counter?arguments.callee.counter++:arguments.callee.counter=1;GM_log("("+arguments.callee.counter+") "+c)}function j(c){b.__DEBUG__&&Fa(c)}
function fa(c){try{c=decodeURIComponent(c)}catch(d){c=c.replace(/\\\"/g,"").replace(/(\r\n|\n|\r|\t|\s{2,})/gm,"").replace(/\%/gm,"%25").toString(),j("decodeURI in tokcap_parser failed"),j("secondary result of page = "+c)}var e,f,g=[0,0];(e=/out\/\?\&hash=([^\'\"]+)/i.exec(c))?(j("old securitytoken="+b._securitytoken),b._securitytoken=g[1]=e[1],a("#qr-securitytoken").val(b._securitytoken),j("\nsecuritytoken updated = "+b._securitytoken+"\nsecuritytoken onfield = "+a("#qr-securitytoken").val()+"\n")):
(j("Page is not containing securitytoken, update failed"),j("sdata - page="+c));if(/recaptcha_response_field/i.exec(c))b.settings.recaptcha=!0,j("Forced gvar.settings.recaptcha ON");else if(f=/id=\"hash\".*value=\"(\w+)/im.exec(c))b.settings.recaptcha&&x("#imgcapcay")&&a("#imgcapcay").html('<input id="hash" name="humanverify[hash]" value="'+f[1]+'" type="hidden">\n'),g[0]=f[1];else if(f=/humanverify[^\>]+.Hitung\:\s?([^\=]+)/i.exec(c)){b.CAPCAT=!0;b.soal_cacats=f[1];var h;if(c=/(\d+)([\Wa-z])(\d+)/i.exec(b.soal_cacats.replace(/\s/g,
"")))switch(c[1]=parseInt(c[1]),c[3]=parseInt(c[3]),c[2]){case "+":h=c[1]+c[3];break;case "x":h=c[1]*c[3];break;case ":":h=c[1]/c[3];break;case "-":h=c[1]-c[3]}b.ans_cacats=h}else b.CAPCAT=!1;return e?g:!1}
function ka(c){c||(c="");b.$w.setTimeout(function(){var d,e,f=[];e=parseInt(a("#preview-image .preview-image-unit").length);d=0<e?57*e+"px":"100%";0<e?a(" .clickthumb").show():a(" .clickthumb").hide();a("#preview-image").css("width",d);a("#preview-image-outer").css("visibility","visible");a("#preview-image img").each(function(){f.push(a(this).attr("src"))});""==c?t(p+"UPLOAD_LOG",function(c){f=c.split(",");c&&0<f.length&&a.each(f,function(){a("#preview-image").append('<div class="preview-image-unit"><img src="'+
this+'" width="46" height="46" alt="[img]'+this+'[/img]" /><span title="remove" class="modal-dialog-title-close imgremover"/></div>')})}):z(p+"UPLOAD_LOG",""+f)},10)}function wa(){if(a(".vertical-text").is(":visible")){var c,d=Math.round(parseInt(a(".vertical-text").width())/2)+33;c=d/2+10;a(".vertical-text").css("margin-left","-"+d+"px").css("bottom","-"+c+"px").css("visibility","visible")}}function xa(){a(".active").each(function(){a(this).click()});a("#qr_remoteDC").click();v.dismiss()}
function Ga(c){var d=0==a(".active").length;!c&&d&&""==a("#tmp_chkVal").val()?v.dismiss():v.init({mode:"quote",msg:'You have selected one or more posts. <a id="sdismiss_quote" href="javascript:;">Deselect</a>',cb:function(){a("#sdismiss_quote").click(function(){xa()});a("#squick_quote").css("display","none")},btnset:!0})}
function O(){try{b.sTryEvent.abort(),b.sTryRequest.abort(),void 0!==b.$w.stop?b.$w.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)}catch(c){}if(!b.user.isDonatur&&a("body > #modal_capcay_box").get(0)){var d=a("#wraper-hidden-thing #modal_capcay_box"),e=a("body > #modal_capcay_box");a(d).find("#recaptcha_image").replaceWith(a(e).find("#recaptcha_image"));a(d).find("#recaptcha_challenge_field").replaceWith(a(e).find("#recaptcha_challenge_field"))}a("#"+n.e.dialogname).css("visibility",
"hidden");a("body > .modal-dialog").remove();a("#qr-modalBoxFaderLayer .cnv").remove();a("body").removeClass("hideflow");a("#"+b.tID).focus()}function la(c,d){var e;i.init();(e=c.attr("alt"))&&e.match(/_alt_.+/)?(e=c.attr("src"),i.setValue("[IMG]"+e+"[/IMG]"+(!d?" ":""))):"IMG"!=c.get(0).nodeName?(e=c.attr("title"),e=e.split(" "+da("&#8212;")),i.setValue(e[1]+(!d?" ":""))):i.setValue(e+(!d?" ":""));i.pracheck()}function ga(c,d){i.init();d?i.wrapValue(c,'"'+d+'"'):i.wrapValue(c)}
function ha(c){i.init();var d,e,f,g,h={quote:"QUOTE",code:"CODE",html:"HTML",php:"PHP",link:"URL",picture:"IMG",spoiler:"SPOILER",transparent:"COLOR",noparse:"NOPARSE",youtube:"YOUTUBE",strike:""},k=function(){i.focus()};if(I(h[c]))return k();g=i.getSelectedText();f="";if("quote"==c||"code"==c||"html"==c||"php"==c)i.wrapValue(c);else if("spoiler"==c){g=prompt("Please enter the TITLE of your Spoiler:","");if(null==g)return k();i.wrapValue("spoiler",g?g:" ")}else{if("strike"==c){d=""!=g?g:prompt("Please enter Text to strikethrough:",
"strikethrough");if(null==d)return k();c=function(c){for(var c=c.split(""),d="",f=0;f<c.length;f++)d+=c[f]+"\u0336";return""+d}(d);e=[0,2*d.length];""==g?i.setValue(c,e):i.replaceSelected(c,e);return k()}e=function(c){var c=u(c),d;(d=c.match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i))?c=d?d[1]:"":/^[\d\w-]+$/.test(c)||(c=!1);return c};if(""==g){switch(c){case "transparent":f=c;d=prompt("Please enter the Text to be transparent:","text hantu");break;case "noparse":d=prompt("Please enter Text or/with Tags to be no parsed:",
"[code]-CODE-[/code]");break;case "link":f=d=prompt("Please enter the URL of your link:","http://");break;case "picture":d=prompt("Please enter the URL of your image:","http://");break;case "youtube":d=prompt("Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########","")}if(null==d)return k();"youtube"==c&&(d=e(d));if("link"==c||"picture"==c)d=ra(d)?d:null;if(!d)return k();e=[("["+h[c]+(""!=f?"="+f:"")+"]").length,0];e[1]=e[0]+d.length;i.setValue("["+h[c]+(""!=f?"="+
f:"")+"]"+d+"[/"+h[c]+"]",e);return k()}f="transparent"==c?"transparent":"";if("link"==c||"image"==c||"youtube"==c){d="youtube"==c?["Please enter the Youtube URL or just the ID, \nhttp://www.youtube.com/watch?v=########",""]:["Please enter the URL of your "+c+":","http://"];d=prompt(d[0],d[1]);if(null==d)return k();switch(c){case "link":f=d;d=g;break;case "youtube":if(d=e(d),!d)return k()}e=[("["+h[c]+(""!=f?"="+f:"")+"]").length,0];e[1]=e[0]+d.length;i.replaceSelected("["+h[c]+(""!=f?"="+f:"")+"]"+
d+"[/"+h[c]+"]",e);return k()}i.wrapValue(h[c],""!=f?f:"")}}function ya(c){var d={bold:"B",italic:"I",underline:"U",left:"LEFT",center:"CENTER",right:"RIGHT"};-1!=c.indexOf("align ")&&(c=c.replace("align ",""));I(d[c])||(i.init(),i.wrapValue(d[c],""),i.pracheck())}
function Ha(){a("#title").focus(function(){var c=a(this),d=c.parent();-1!=d.attr("class").indexOf("condensed")&&(d.removeClass("condensed"),c.val(""))}).blur(function(){var c=a(this),d=c.parent();""==u(c.val())&&(c.val(b.def_title),d.addClass("condensed"))}).keydown(function(c){9==c.keyCode&&b.$w.setTimeout(function(){a("#"+b.tID).focus()},50)}).keyup(function(){""!=a(this).val()?a("#close_title").show():a("#close_title").hide()});a("#pick_icon").click(function(){b.$w.clearTimeout(b.sTryEvent);a("#menu_posticon").slideToggle(120,
function(){a("#menu_posticon").is(":visible")?a("#fakefocus_icon").focus():a("#title").focus()})});a("#fakefocus_icon").blur(function(){a("#menu_posticon").is(":visible")&&(b.sTryEvent=b.$w.setTimeout(function(){a("#pick_icon").click()},200))});a("#menu_posticon li a").each(function(){a(this).click(function(){var c=a(this).find("img");a("#hid_iconid").attr("checked",!0);a("#hid_iconid").val(a(this).attr("data-rel"));0==c.length?a("#img_icon").hide():a("#img_icon").attr("src",c.attr("src")).show()})});
a("#close_title").click(function(){a("#title").val("").focus();a("#close_title").hide()});a("#mnu_add_title").click(function(){a(".title-message").slideToggle(200,function(){a(".title-message").is(":visible")?a("#title").focus():(a("#hid_iconid").val(0),a("#img_icon").attr("src","#").hide(),a("#title").val(""),a("#close_title").hide());a("#hid_iconid").attr("checked",!0)})});a(".fonts ul li a").each(function(){a(this).css("font-family",a(this).attr("title"))});a(".markItUpDropMenu").each(function(){a(this).hover(function(){a(this).find("> ul").show();
var c=a(this);a(document).one("click",function(){a(c).find("> ul").hide()})},function(){b.$w.clearTimeout(b.sTryHoverMenu);a(this).find("> ul").hide()})});a(".markItUpButton a").each(function(){var c=a(this),d=c.attr("class");c.parent();if(d&&-1!=d.indexOf("ev_")){var d=d.replace(/ev_/,""),e,f;switch(d){case "biu":case "align":c.click(function(){f=a(this).attr("title").toLowerCase();ya(f)});break;case "font":c.click(function(){i.init();ga("FONT",a(this).attr("title"));i.pracheck()});break;case "size":c.click(function(){i.init();
ga("SIZE",a(this).attr("title"));i.pracheck()});break;case "color":c.click(function(){i.init();ga("COLOR",a(this).attr("title"));i.pracheck()});break;case "list":c.click(function(){i.init();var c;c="numeric"==a(this).attr("title").toLowerCase().replace(" list","")?"number":"dot";selected=i.getSelectedText();if(""==selected){var d=function(c){var f=prompt("Enter a list item.\nLeave the box empty or press 'Cancel' to complete the list:");i.init();I(c)&&i.setValue("\n");f&&(i.setValue("\n[*]"+f+""),
d(!0))};ga("LIST","number"==c?1:!1);d()}else{for(var f="",e=selected.split("\n"),A=0;A<e.length;A++)u(e[A])&&(f+="\n[*]"+e[A]+"");f="[LIST"+("number"==c?'="1"':"")+"]"+f+"\n[/LIST]";i.replaceSelected(f,[0,f.length])}i.pracheck()});break;case "media":c.click(function(){e=a(this).attr("data-bbcode");ha(e);i.pracheck()});break;case "codes":c.click(function(){e=a(this).attr("data-bbcode");ha(e);i.pracheck()});break;case "quotes":c.click(function(){e=a(this).attr("data-bbcode");ha(e);i.pracheck()});break;
case "misc":c.click(function(){e=a(this).attr("data-bbcode");ha(e);i.pracheck()});break;case "smiley":c.click(function(){a(".box-smiley").is(":visible")?o.toggletab(!1):(a(".box-smiley").hasClass("events")||(a(".box-smiley .goog-tab").each(function(){a(this);a(this).hover(function(){a(this).addClass("goog-tab-hover")},function(){a(this).removeClass("goog-tab-hover")});a(this).click(function(){var c=a(this).attr("id");c?(a(this).parent().find(".goog-tab-selected").removeClass("goog-tab-selected"),
a(this).addClass("goog-tab-selected"),o.load_smiley("tabs-sb-"+c)):o.toggletab(!1)})}),o.init()),o.toggletab(!0))});break;case "upload":c.click(function(){a(".box-upload").is(":visible")?s.toggletab(!1):a(".box-upload").hasClass("events")?s.toggletab(!0):(a(".box-upload .goog-tab").each(function(){var c=a(this);c.hover(function(){c.addClass("goog-tab-hover")},function(){c.removeClass("goog-tab-hover")}).click(function(){c.attr("id")||s.toggletab(!1)})}),s.init())})}}})}
function Ia(){b.sTryEvent=null;a("#sbutton").click(function(c){y(c);n.init();n.presubmit()});a("#sadvanced").click(function(c){y(c);1==a("#title").closest("div.condensed").length&&a("#title").val("");a("#formform").submit()});a("#spreview").click(function(c){y(c);n.init();n.preview()});a("#squote_post").click(function(){q.quote(a(this),function(){v.init({msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){a("#dismiss_request").click(function(){v.dismiss()})},btnset:!1})},
function(){xa();i.lastfocus()})});a("#squick_quote").click(function(){});a("#scancel_edit").click(function(){q.edit_cancel()});a("#clear_text").click(function(){i.set("");i.pracheck();l.provide_draft();a(this).hide()});a("#qr_chkval").click(function(){Ga(a("#tmp_chkVal").val())});a(".sidebar-user").hover(function(){b.sTryMenus=b.$w.setTimeout(function(){a(".sidebar-user .toggle-sidebar-wrap").show()},600)},function(){b.$w.clearTimeout(b.sTryMenus);a(this).find(".toggle-sidebar-wrap").hide()});a("#toggle-avatar, .vertical-text").click(function(){var c=
a(this).attr("data-todo");"avatar"==c?(a(".sidebar-user").show(),a(".vertical-text").hide()):"side"==c&&(a(".sidebar-user").hide(),a(this).width(),a(".vertical-text").show(),wa());z(p+"HIDE_AVATAR",""+("avatar"!=c?"1":"0"),function(){b.settings.hideavatar="avatar"!=c?"1":"0"});Q();i.focus()});a("#settings-button").click(function(){P.init()});b.maxH_editor=parseInt(W())-b.offsetEditorHeight;i.setElastic(b.maxH_editor);a("#"+b.tID).keydown(function(c){var d=c.keyCode||c.keyChar,e=(c.ctrlKey?"1":"0")+
","+(c.shiftKey?"1":"0")+","+(c.altKey?"1":"0");9===d&&(y(c),b.$w.setTimeout(function(){a("#sbutton").focus()},50));if(!("0,0,0"==e||"0,1,0"==e)&&!(65>d&&13!=d&&9!=d||90<d))e={83:"sbutton",80:"spreview",88:"sadvanced",66:"bold",73:"italic",85:"underline",69:"center",76:"left",82:"right"},c.ctrlKey?-1!=a.inArray(d,[13,66,73,85,69,76,82])&&(y(c),13===d?a("#sbutton").click():ya(e[d])):c.altKey&&(y(c),a("#"+e[d]).click())}).keyup(function(){a("#clear_text").toggle(""!==a(this).val())});b.settings.qrdraft&&
(a("#"+b.tID).keypress(function(c){var d=c.keyCode;37<=d&&40>=d||(a("#qrdraft").get(0)&&i.saveDraft(c),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,l.quick_check())}),l._construct(),l.check(),a("#qrdraft").click(function(){var c,d=a(this);c=a("#"+b.tID).val();d.hasClass("jfk-button-disabled")||("idle"==d.attr("data-state")?(i.init(),c==b.silahken||""==c?i.set(b.tmp_text):i.add(b.tmp_text),a("#draft_desc").html(""),d.html("Saved").attr("data-state","saved"),l.switchClass("jfk-button-disabled"),
i.setElastic(b.maxH_editor)):c!=b.silahken&&""!=c&&l.save())}));Ha();Q()}function Ja(){var c={id:null,name:"",photo:null,isDonatur:!1},d;d=a("#profile-nav .m-panel .fn");var e=a(".img-wrp .photo");if(d.get(0)&&(c.name=d.html(),d=/\/profile\/(\d+)/.exec(d.attr("href"))))c.id=d[1];c.photo=e.get(0)?e.attr("src"):b.kkcdn+"user/avatar/male.jpg";c.isDonatur=a(".quick-reply").get(0)?!0:!1;return c}
function ma(){t(p+"UPDATES",function(c){if(!c||c&&0===c.length)for(var d in X)"string"==typeof d&&z(d,X[d][0])});var c,d={lastused:{},userLayout:{}};t(p+"LAST_UPLOADER",d.lastused.uploader);d.userLayout.config=[];t(p+"LAYOUT_TPL",d.userLayout.template);t(p+"HIDE_AVATAR",function(c){d.hideavatar="1"==c});t(p+"MIN_ANIMATE",function(c){d.minanimate="1"==c});t(p+"UPDATES_INTERVAL",function(c){d.updates_interval=Math.abs(c)});t(p+"QR_DRAFT",function(c){d.qrdraft="0"!=c});t(p+"QR_HOTKEY_KEY",function(c){d.hotkeykey=
c});t(p+"QR_HOTKEY_CHAR",function(c){d.hotkeychar=c});t(p+"TMP_TEXT",function(c){d.tmp_text=c});t(p+"UPDATES",function(c){d.updates="1"==c});b.$w.setTimeout(function(){t(p+"UPDATES",function(){var f;d.userLayout.config=["0","0"];d.userLayout.template="[B]{message}[/B]";va(b.user.id,"LAYOUT_CONFIG",[null,null],function(c){c||(c=["","0,0"]);d.userLayout.config=c[1].split(",");va(b.user.id,"LAYOUT_TPL",["<!>","::"],function(c){c||(c=["","[B]{message}[/B]"]);try{d.userLayout.template=decodeURIComponent(c[1]).replace(/\\([\!\:])/g,
"$1")}catch(f){j("decodeURI in get setting failed"),d.userLayout.template=c[1].replace(/\\([\!\:])/g,"$1")}})});f=d.updates_interval;f=isNaN(f)||0>=f?1:99<f?99:f;d.updates_interval=f;f=d.hotkeykey;d.hotkeykey=f&&f.match(/^([01]{1}),([01]{1}),([01]{1})/)?f.split(","):["1","0","0"];f=u(d.hotkeychar);d.hotkeychar=!f.match(/^[A-Z0-9]{1}/)?"Q":f.toUpperCase();b.tmp_text=d.tmp_text;""!=b.tmp_text&&!d.qrdraft&&(z(p+"TMP_TEXT",""),b.tmp_text=null);delete d.tmp_text;c=!0;b.settings=d;b.settings.done=1;za()})},
5);var e=function(f){if(c)return f=d;b.$w.setTimeout(function(){e(f)},1)};return e()}
function za(){b.upload_sel={imagedum:"imagedum.com",photoserver:"photoserver.ws",lulzimg:"lulzimg.com/homelulz",imageshack:"imageshack.us",imgur:"imgur.com"};b.uploader={imagedum:{src:"imagedum.com",noCross:"1"},imageshack:{src:"imageshack.us",post:"post.imageshack.us/",ifile:"fileupload",hids:{refer:"http://imageshack.us/?no_multi=1",uploadtype:"on"}},imgur:{src:"imgur.com",noCross:"1"},photoserver:{src:"photoserver.ws",noCross:"1"},lulzimg:{src:"lulzimg.com/homelulz",noCross:"1"}};try{if(b.settings.lastused.uploader&&
(b.upload_tipe=b.settings.lastused.uploader),I(b.upload_sel[b.upload_tipe]))b.upload_tipe="kaskus"}catch(c){b.upload_tipe="kaskus"}}function Aa(){a("#formqr").is(":visible")?(a("#qrtoggle a").removeClass("down"),N(a("#dumy-title"),"fast")):(a("#qrtoggle a").addClass("down"),V(a("#dumy-title")))}
function Q(c){var d=a(".post-wrapper").find(".entry-content").width()+(a(".sidebar-user").is(":visible")?0:172)+38;a(".qr-editor-wrap").css("width",d+"px");var d=parseInt(W()),e=0,c=c?c:a(".modal-dialog").hasClass("static_width")?a(".modal-dialog").width():b.bodywidth-100;0<a(".modal-dialog").length&&(a(".modal-dialog").css("top",b.offsetLayer+"px").css("width",c+"px").css("left",document.documentElement.clientWidth/2-(c/2+50)+"px"),e=d/2-a(".modal-dialog").height()-5,c=305,a(".capcay-dialog").css("top",
e+"px").css("width",c+"px").css("left",document.documentElement.clientWidth/2-(c/2+50)+"px"),a("#box_preview").css("max-height",d-b.offsetMaxHeight-b.offsetLayer+"px"));b.maxH_editor=d-b.offsetEditorHeight;i.setElastic(b.maxH_editor,1)}
function Ka(){var c,d=b.thread_type;if(c=/hash=(.+)/i.exec(a('.m-panel a[href*="/logout/"]').attr("href"))){if(c=c?c[1]:!1,b._securitytoken=""+c,a("#formform").attr("action",b.domain+("forum"==d?"post_reply":"group/reply_discussion")+"/"+b.pID+("forum"==d?"/?post=":"")),a("#qr-securitytoken").val(b._securitytoken),a("#qr-content-wrapper .message").css("overflow","visible"),"group"==d&&(a("#qr-discussionid").val(b.discID),a("#qr-groupid").val(b.pID)),a("body").prepend('<div id="qr-modalBoxFaderLayer" class="modal-dialog-bg" style="display:block; visibility:hidden;"></div><div id="wraper-hidden-thing" style="visibility:hidden; position:absolute; left:-99999; bottom:-9999;"></div>'),
!b.user.isDonatur)Y(location.protocol+"//www.google.com/recaptcha/api/js/recaptcha_ajax.js","recap",!0),a("#wraper-hidden-thing").append(m.getBOX_RC())}else alert("securitytoken not found")}
function La(){a(".quote").each(function(){a(this).click(function(c){y(c);a(".closed-button").get(0)?alert("Sorry! This thread is closed!"):(-1!=a("a.close").attr("class").indexOf("closed")&&a("a.close").click(),-1!=a(".notification:eq(1)").attr("class").indexOf("show-panel")?a(this).removeClass("show-panel"):a(".sign-reg").find(".m-panel").slideToggle(170,function(){a(this).is(":visible")&&(a(".notification:eq(1)").addClass("show-panel"),a("#username").focus().delay(500))}))})});a("#loginform").submit(function(c){y(c);
a(this).hide();a("#login_spinner").show().find(".mf-spinner").removeClass("transp");a.post(a(this).attr("action"),a(this).serialize(),function(c){JSON.stringify(c).match(/<a\s+href=[\'\"\\]+([^\'\"]+)[^>]+.click\shere/i)?b.$w.setTimeout(function(){a("#login_spinner").find("p").html("Cekibrot Gan....");b.$w.location.reload(!1)},1E3):(a("#login_spinner").hide(),a("#loginform").show(),a("#logwarn").html("Wrong user or password"))})}).after('<div style="display:none;" id="login_spinner"><div class="mf-spinner transp chrome-spinner-delay"></div><p>'+
b.loging_in+"</p></div>").prepend('<div id="logwarn"/>')}
function Z(c,d){var e,f,g,h,k,w,A;f=a(c).closest("div.post-wrapper");k=a("#"+b.qID).parent().attr("id")!=f.attr("id");w=!a("#formqr").is(":visible");A=350;k?a("#"+b.qID).hide():A=100;g=a(c).offset().top;h=2*Math.floor(b.$w.innerHeight/5);e=0;a("html:not(:animated),body:not(:animated)").animate({scrollTop:g-h},A,function(){!k&&!w?e||(a("#"+b.tID).focus(),"function"==typeof d&&d(c),e=1):(f.append(a("#"+b.qID)),w&&Aa(),a("#formqr").show(),a("#"+b.qID).slideDown(220,function(){e||(a("#"+b.tID).focus(),
"function"==typeof d&&d(c),e=1)}))})}function na(){a("#qr-content-wrapper").closest(".post-wrapper").find(".quote").click()}
function ia(){U(m.getCSS());b.bodywidth=a("#content-body").width();b.user=Ja();if(""==b.user.name||null==b.user.id||a(".closed-button").get(0))j('Not login, get the "F"-out'),La();else{b.thread_type=location.href.match(/\.kaskus\.us\/group\/discussion\//)?"group":"forum";b.last_postwrap=a(".last").attr("id");b.pID=function(c){var d,g=b.thread_type;"group"==g&&(d=/\/group\/discussion\/(\d+)\//i.exec(location.href),b.discID=d?d[1]:null);return(d="forum"==g?/\/post_reply\/(\d+)/.exec(c):/\/reply_discussion\/(\d+)/.exec(c))?
d[1]:!1}(a(".new-reply").attr("href"));ma(b.settings);var c=0,d=function(){!b.settings.done&&50>c?(b.$w.setTimeout(function(){d()},100),c++):b.$w.setTimeout(function(){a(".quick-reply").empty().remove();a(".button_qr").each(function(){a(this).remove()});a("#"+b.last_postwrap).append(m.getTPL());a(".action-button:eq(1)").css("position","absolute");a("#markItUpReply-messsage").show();"forum"==b.thread_type?(a(".quote").each(function(){var c=a(this).parent();a(this).before('<div class="qqwrap" style="position:relative;display:inline;" />');
a(this).appendTo(a(c).find(".qqwrap"));a(this).click(function(c){y(c);c=a(this);1==b.edit_mode?q.edit_cancel(!1)?Z(c):i.focus():Z(c)}).css("padding-right","30px").after('<a href="javascript:;" style="" title="Quick Quote" class="qr-quick-quote" href="'+a(this).attr("href")+'"></a>')}),a(".qr-quick-quote").each(function(){a(this).click(function(c){y(c);c=function(c){Z(c,function(d){H.init(d,function(){i.lastfocus()});N(a(c),210,function(){V(a(c),360)})})};a(this);1==b.edit_mode?q.edit_cancel(!1)?c(a(this)):
i.lastfocus():c(a(this))})}),a(".multi-quote").each(function(){a(this).click(function(c){y(c);b.sTry_canceling?delete b.sTry_canceling:1==b.edit_mode?q.edit_cancel(!1)?a("#qr_chkcookie").click():(b.sTry_canceling=1,a(this).click()):a("#qr_chkcookie").click()})})):a(".post-entry").each(function(){var c=a(this).find(".entry-footer");a(c).get(0)||a(this).append('<div class="entry-footer" />');a(c).append('<a href="javascript:;" class="button quote reply"><img src="'+b.kkcdn+'css_v0.1/img/icon/quote.png" alt="" /> Reply</a>');
a(this).find(".reply").click(function(c){y(c);var d=a(this),c=function(){Z(d,function(){var c,f,e,A=a(d).closest(".post-wrapper");A.attr("id")&&(c=b.domain+a(A).find("a.fn").attr("href").substring(1),f=a(A).find("a.fn").html(),e=a(A).attr("id"));i.init();i.set("[URL="+b.domain+"group/discussion/"+b.discID+"/"+b.pID+"/"+e.replace(/gm/gi,"")+"/1/gm/?#"+e+"][B]re[/B][/URL]: [URL="+c+"]@"+f+"[/URL]\n");window.setTimeout(function(){T(a("#"+b.tID).get(0))},20)})};1==b.edit_mode?q.edit_cancel(!1)?c():i.focus():
c()})});a(".edit").each(function(){a(this).click(function(c){y(c);q.edit(a(this),function(){v.init({mode:"quote",msg:'Fetching... <a id="dismiss_request" href="javascript:;">Dismiss</a>',cb:function(){a("#dismiss_request").click(function(){v.dismiss()})},btnset:!1})},function(){v.init({mode:"edit",msg:"You are in <b>Edit-Mode</b>",btnset:!0});i.lastfocus()});Z(a(this))})});a(".markItUpHeader a").each(function(){a(this).attr("href","javascript:;");a(this).click(function(c){y(c)})});Ka();Ia();a(document).ready(function(){a("#qrtoggle a").removeClass("pull-disabled").addClass("pull");
a("#qrtoggle").removeClass("pull-button-disabled").addClass("pull-button");a("#qrtoggle a").click(function(){a("#formqr").toggle(180,function(){Aa();a("#"+b.tID).focus()})});a(b.$w).keydown(function(c){var d,f,e=c.keyCode,A=0,E=(c.ctrlKey?"1":"0")+","+(c.shiftKey?"1":"0")+","+(c.altKey?"1":"0");if(27==e&&a("#"+n.e.dialogname).is(":visible")&&"visible"==a("#"+n.e.dialogname).css("visibility"))y(c),O(),a("#"+b.tID).focus();else if(!("0,0,0"==E||"0,1,0"==E)&&!(65>e||90<e)){d=b.settings.hotkeykey.toString();
f=!b.isOpera?"0,0,1":"1,0,1";switch(E){case d:d=b.settings.hotkeychar.charCodeAt();e==d&&(A=1,na());break;case f:81==e&&(A=1,na(),a("#squote_post").click());break;case "1,1,0":81==e?(A=1,a("#sdismiss_quote").click()):68==e&&!a("#qrdraft").hasClass("jfk-button-disabled")&&(A=1,na(),a("#qrdraft").click())}A&&y(c)}}).resize(function(){var c=a("#content-body").width();b.bodywidth=c;b.maxH_editor=parseInt(W())-b.offsetEditorHeight;Q()});u(b.tmp_text)&&b.settings.qrdraft&&(l.switchClass("gbtn"),l.title("continue"),
a("#draft_desc").html('<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available'),a("#draft_desc #clear-draft").click(function(){l.clear()}));window.setTimeout(function(){wa()},888);!b.noCrossDomain&&b.settings.updates&&0==R&&window.setTimeout(function(){C.check()},2E3);var c,d;d=a("#reply-messsage");c=a(d).width();d=a(d).closest("fieldset").width();2*c-10<d&&(b.noCrossDomain?U(b.kqr_static+b.css_default+"?"+(""+b.scriptMeta.timestamp)+"-"+(""+b.scriptMeta.cssREV),"direct_css",
!0):!b.isOpera&&confirm("Your QR CSS_BULK seems not loaded properly\nReload page to refetch them now?")&&(a("#qr-content-wrapper").hide(),ta("CSS_BULK",function(){location.reload(false)})));Y(m.getSCRIPT());window.setTimeout(function(){a("#hidrecap_btn").click()},100)})},50)};d()}}
function Ma(){var c,d,e=function(){var c,d=!1;za();for(var f in b.uploader)if((c=b.uploader[f].src||null)&&-1!=self.location.href.indexOf(c)){d=""+f;break}return d}(),f="";if(top!==self){switch(e){case "imageshack":f='h1,#top,.reducetop,#panel,#fbcomments,#langForm,.menu-bottom,#done-popup-lightbox,.ad-col{display:none!important}.main-title{border-bottom:1px dotted rgb(204, 204, 204);padding:5px 0 2px 0;margin:5px 0 2px 0}.right-col input{padding:0;width:99%;font-family:"Courier New";font-size:8pt}';break;
case "imgur":f="div#logo{display:none!important}#content{margin-top:15px}";break;case "photoserver":f="body,.content{margin:0!important;margin-top:35px!important}body>img,#topbar{top:0!important}body{background-color:#fff}#loginbar{top:38px!important;display:block}#footer{padding:0}#overlay .content{top:3px!important}#overlay{position:absolute!important}";break;case "lulzimg":f="#logo,#histats_counter{display:none}";break;case "imagedum":f="#FFN_imBox_Container, div#full > div:last-child,#wrapper p:first-child,.addthis_toolbox{display:none!important}.nav{position:absolute;top:0;z-index:99}#content{position:absolute;top:0}"}""!=
f&&U(f,"inject_host_css",!0);c=J('//input[@wrap="off"]',null,!0);"imageshack"==e&&c&&(b.sITryKill=window.setInterval(function(){if(J(".ui-dialog")){clearInterval(b.sITryKill);var f;d=J('//div[contains(@style,"z-index")]',null);if(f=d.snapshotLength)for(var e=0;e<f;e++)F.remove(d.snapshotItem(e));J("#ad")&&F.remove(J("#ad"));window.setTimeout(function(){c.removeAttribute("disabled");var f=c.parentNode.parentNode;if(d=J(".tooltip",f))d[0].innerHTML=d[1].innerHTML="",F.add(c,f);var e,f=function(c){return G("div",
{"class":"main-title"},c)},g=function(c){var d=c.lastIndexOf("."),d=c.substring(0,d)+".th"+c.substring(d);return"[URL="+c+"]"+("[IMG]"+d+"[/IMG]")+"[/URL]"};if(d=J(".right-col",null)){d[0].innerHTML="";e=f("Direct Link");F.add(e,d[0]);e=G("input",{type:"text",value:c.value,readonly:"readonly","class":"readonly"});ja("focus",e,function(c){T(c)});F.add(e,d[0]);try{e.focus(),T(e)}catch(h){}e=f("BBCode IMG");F.add(e,d[0]);e=G("input",{type:"text",value:"[IMG]"+c.value+"[/IMG]",readonly:"readonly","class":"readonly"});
ja("focus",e,function(c){T(c)});F.add(e,d[0]);e=f("BBCode Thumbnail");F.add(e,d[0]);e=G("input",{type:"text",value:g(c.value),readonly:"readonly","class":"readonly"});ja("focus",e,function(c){T(c)});F.add(e,d[0])}},500)}else 0<max||clearInterval(b.sITryKill)},50));return!1}}
function Ba(){b.isOpera?(j("[Opera|Debug] fetch fresh css from: "+b.kqr_static+b.css_default),U(b.kqr_static+b.css_default,"direct_css",!0),window.setTimeout(function(){ia()},350)):t(p+"CSS_META",function(c){if(c){var d,c=c.split(";");(d=/kqr_quad\.([^\.]+).css/.exec(c[0]))?b.scriptMeta.cssREV!=d[1]||parseInt(c[0])+6048E5<(new Date).getTime()?$():t(p+"CSS_BULK",function(c){c?(D.css_name="kqr_quad."+d[1]+".css",D.set_css(c,ia)):$()}):$()}else $()})}
function $(c,d){b.noCrossDomain?(U(b.kqr_static+b.css_default+"?"+(""+b.scriptMeta.timestamp)+"-"+(""+b.scriptMeta.cssREV),"direct_css",!0),ia(),"function"==typeof d&&d()):!a("#xhr_css").get(0)&&b.ix<b.mx?(D.engage||(D.init(),D.engage=1),b.$w.setTimeout(function(){$(c,d)},200),b.ix++):(b.ix=0,D.engage=null,c||ia(),"function"==typeof d&&d())}
function Ca(){"undefined"==jQuery&&b.ix<b.mx?(b.$w.setTimeout(function(){Ca()},200),b.injected=!0,b.ix++):"undefined"!=typeof jQuery&&(a=jQuery=jQuery.noConflict(!0),b.ix=0,Ba())}
function Da(){unsafeWindow&&"undefined"==typeof unsafeWindow.jQuery&&b.ix<b.mx?(b.$w.setTimeout(function(){Da()},200),b.injected||(Y(location.protocol+"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"),b.injected=!0),b.ix++):"undefined"!=typeof unsafeWindow.jQuery&&(a=unsafeWindow.$=unsafeWindow.jQuery=unsafeWindow.jQuery.noConflict(!0),b.ix=0,Ba())};		
var b=function(){},R=0;b.sversion="v4.0.3b";b.scriptMeta={timestamp:1333841922074,dtversion:120408403,titlename:"Quick Reply"+(0!==R?"+":""),scriptID:80409,cssREV:120407402};b.scriptMeta.fullname="Kaskus "+b.scriptMeta.titlename;b.__DEBUG__=0;b.$w=window;
var X={KEY_SAVE_SAVED_AVATAR:[""],KEY_SAVE_LAST_UPLOADER:[""],KEY_SAVE_UPDATES:["1"],KEY_SAVE_UPDATES_INTERVAL:["1"],KEY_SAVE_HIDE_AVATAR:["1"],KEY_SAVE_MIN_ANIMATE:["0"],KEY_SAVE_QR_DRAFT:["1"],KEY_SAVE_CUSTOM_SMILEY:[""],KEY_SAVE_QR_HOTKEY_KEY:["1,0,0"],KEY_SAVE_QR_HOTKEY_CHAR:["Q"],KEY_SAVE_LAYOUT_CONFIG:[""],KEY_SAVE_LAYOUT_TPL:[""],KEY_SAVE_TMP_TEXT:[""],KEY_SAVE_QR_LastUpdate:["0"],KEY_SAVE_QR_LASTPOST:["0"],KEY_SAVE_UPLOAD_LOG:[""],KEY_SAVE_CSS_BULK:[""],KEY_SAVE_CSS_META:[""]},p="KEY_SAVE_",L="GM_",Y=function(a,c,d){var e=G("script",{type:"text/javascript"});r(c)&&B(c)&&e.setAttribute("id",c);a.match(/^https?:\/\/.+/)?e.setAttribute("src",a):e.appendChild(document.createTextNode(a));if(r(d)&&d)document.body.insertBefore(e,document.body.firstChild);else{var f=document.getElementsByTagName("head");r(f[0])&&"HEAD"==f[0].nodeName?b.$w.setTimeout(function(){f[0].appendChild(e)},100):document.body.insertBefore(e,document.body.firstChild)}return e},U=function(a,c,d){var e,f;a.match(/^https?:\/\/.+/)?e=G("link",{type:"text/css",rel:"stylesheet",href:a}):(e=G("style",{type:"text/css"}),e.appendChild(document.createTextNode(a)));r(c)&&B(c)&&e.setAttribute("id",c);r(d)&&d?document.body.insertBefore(e,document.body.firstChild):(f=document.getElementsByTagName("head"),r(f[0])&&"HEAD"==f[0].nodeName?b.$w.setTimeout(function(){f[0].appendChild(e)},100):document.body.insertBefore(e,document.body.firstChild));return e},J=function(a,b,c){if(b&&"string"==typeof b&&(b=J(b,null,!0),!b))return null;if(!a)return!1;if("object"==typeof a)return a;b=b||document;return"/"==a[0]||"."==a[0]&&"/"==a[1]?c?document.evaluate(a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:document.evaluate(a,b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null):"."==a[0]?b.getElementsByClassName(a.substr(1)):b.getElementById("#"==a[0]?a.substr(1):a.substr(0))},F={g:function(a){return!a?!1:B(a)?document.getElementById(a):a},add:function(a,b){a=this.g(a);b=this.g(b);a&&b&&b.appendChild(a)},remove:function(a){(a=this.g(a))&&a.parentNode&&a.parentNode.removeChild(a)},Ev:function(){if(window.addEventListener)return function(a,b,c,d){"object"==typeof a&&this.g(a).addEventListener(b,function(a){c(a)},I(d)?!1:d)};if(window.attachEvent)return function(a,b,c){this.g(a).attachEvent("on"+b,function(){c.call(this.g(a),window.event)})}}()},m={mCls:["markItUpButton","markItUpDropMenu",'<li class="markItUpSeparator">---------------</li>'],menuFont:function(a){var b=m.mCls,c="Arial,Arial Black,Arial Narrow,Book Antiqua,Century Gothic,Comic Sans MS,Courier New,Georgia,Impact,Lucida Console,Times New Roman,Trebucher,Verdana".split(","),d,e=c.length;d='<li class="'+b[0]+" "+b[0]+a+" fonts "+b[1]+'"><a title="Fonts" href="">Fonts</a><ul>';for(var f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+a+"-"+(f+1)+" font-"+c[f].toLowerCase()+'"><a title="'+c[f]+'" class="ev_font" href="">'+c[f]+"</a></li>";return d+"</ul></li>"},menuSize:function(a){var b=m.mCls,c;c='<li class="'+b[0]+" "+b[0]+a+" size "+b[1]+'"><a title="Size" href="">Size</a><ul>';for(var d=1;7>=d;d++)c+='<li class="'+b[0]+" "+b[0]+a+"-1 size-"+d+'"><a title="'+d+'" class="ev_size" href="">'+d+"</a></li>";return c+"</ul></li>"},menuColor:function(a){var b=m.mCls,c,d=m.getSetOf("color");c='<li class="'+b[0]+" "+b[0]+a+" "+b[1]+'"><a title="Colors" href="">Colors</a>';c+='<ul class="markItUpButton'+a+'-wrapper">';for(hex in d)a=d[hex],c+='<li class="'+b[0]+'"><a title="'+a+'" class="ev_color"  style="width:0; background-color:'+hex+'" href="">'+a+"</a></li>";return c+"</ul></li>"},menuBIU:function(a){for(var b=m.mCls,c=["Bold","Italic","Underline"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+(f+a)+'"><a title="'+c[f]+'" class="ev_biu" href="">'+c[f]+"</a></li>";return d},menuAlign:function(a){for(var b=m.mCls,c=["Align Left","Align Center","Align Right"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+(a+f)+'"><a title="'+c[f]+'" class="ev_align" href="">'+c[f]+"</a></li>";return d},menuList:function(a){for(var b=m.mCls,c=["Numeric list","Bulleted list"],d="",e=c.length,f=0;f<e;f++)d+='<li class="'+b[0]+" "+b[0]+a[f]+'"><a title="'+c[f]+'" class="ev_list"  href="">'+c[f]+"</a></li>";return d},menuMedia:function(a){var b,c=m.mCls,d=["Insert Link","Insert Picture","Embedding Youtube"],e="",f=d.length;b=["link","picture","youtube"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="'+d[g]+'" class="ev_media" data-bbcode="'+b[g]+'" href="">'+d[g]+"</a></li>";return e},menuCode:function(a){var b,c=m.mCls,d=["CODE","HTML","PHP"],e="",f=d.length;b=["code","html","php"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="Wrap ['+d[g]+'] around text" class="ev_codes" data-bbcode="'+b[g]+'" href="">Wrap ['+d[g]+"] around text</a></li>";return e},menuQuote:function(a){var b,c=m.mCls,d=["QUOTE","SPOILER","TRANSPARENT","NOPARSE"],e="",f=d.length;b=["quote","spoiler","transparent","noparse"];for(var g=0;g<f;g++)e+='<li class="'+c[0]+" "+c[0]+a[g]+'"><a title="Wrap ['+d[g]+'] around text" class="ev_quotes" data-bbcode="'+b[g]+'" href="">Wrap ['+d[g]+"] around text</a></li>";return e},menuIcon:function(){var a=m.mCls,c="",d=0,e=m.getSetOf("posticon"),c='<ul id="menu_posticon" style="display:none;" class="menu-post-icon" >';for(icon in e)c+='<li class="'+a[0]+' fonts "><a title="" href="javascript:;" data-rel="'+d+'" data-name="'+(!e[icon]?"":e[icon].replace(/\./g,""))+'">'+(e[icon]?'<img src="'+b.domain+"img/icons/new/"+e[icon]+'" border=0>'+icon:"No Icon")+"</a></li>",d++;return c+"</ul>"},getTPL:function(){var a=m.mCls[2],c=m.mCls[0],d='<span class="inner_title">'+b.inner.reply.title+'</span> &nbsp;<a class="qrlink" target="_blank" href="'+(0==R?"http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID.toString():"https://addons.mozilla.org/en-US/firefox/addon/kaskus-quick-reply/")+'">'+b.sversion+"</a>";return'<div id="'+b.qID+'"><div class="quick-reply"><div class="qr-reply-header"><div id="dumy-title" class="reply-header" style="display:none;">'+d+'</div><span id="draft_desc" style="position:absolute; right:122px; top:5px; font-size:11px; color:#999; padding:1px 3px;">blanky</span><div id="qrdraft" class="goog-inline-block jfk-button jfk-button-standard jfk-button-disabled" style="position:absolute; z-index:31; right:35px; top:1px; height:25px; line-height:25px; min-width:50px!important;">Draft</div><div id="qrtoggle" class="pull-button-disabled" style="left:97%!important; top:1px; z-index:32;"><a title="Toggle QR" class="pull-disabled" href="javascript:;">pull</a></div></div><div id="formqr"><div id="notify_wrap" class="icon-button vcard" style="display:none; position:relative;"><div class="qr-m-panel" style="display:block;"><a id="scancel_edit" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="display:none;">Cancel Edit</a><span id="quote_btnset" style="display:none;"><a id="squote_post" class="goog-inline-block jfk-button jfk-button-standard btnlink" style="">Quote</a>&nbsp;&nbsp;<a id="squick_quote" class="goog-inline-block jfk-button jfk-button-standard btnlink g_warn" style="display:">Quick Quote</a></span></div><div class="g_notice" id="notify_msg" style="display: block;"></div></div><form method="post" id="formform" name="postreply" action="#"><input type="hidden" value="" name="securitytoken" id="qr-securitytoken"/><input type="hidden" value="" name="recaptcha_challenge_field" id="qr-recaptcha_challenge_field"/><input type="hidden" value="" name="recaptcha_response_field" id="qr-recaptcha_response_field"/>'+("group"==b.thread_type?'<input type="hidden" value="" name="discussionid" id="qr-discussionid" /><input type="hidden" value="" name="groupid" id="qr-groupid" />':"")+'<input type="hidden" value="Preview Post" name="preview"/><input type="hidden" value="1" name="parseurl"/><input type="hidden" value="9999" name="emailupdate"/><input type="hidden" value="0" name="folderid"/><input type="hidden" value="0" name="rating"/><input id="hid_iconid" type="radio" name="iconid" value="0" style="position:absolute!important; z-index:-1; top:40px; width:1px; cursor:none;"/><fieldset><div class="reply-message"><div class="message"><div class="markItUp" id="markItUpReply-messsage" style="display:none!important;"><div class="markItUpContainer"><div class="title-message" style="display:none;"><input id="fakefocus_icon" type="text" style="position:absolute!important; color:transparent; background:transparent; left:5px; top:20px; width:1px; border:0px;" value=""/><div class="title-message-sub condensed"><img id="img_icon" class="modal-dialog-title-imgicon" src="#" style="display:none;"/><ul class="ulpick_icon"><li id="pick_icon" class="modal-dialog-title-pickicon markItUpButton markItUpDropMenu" title="Pick Icon"/>'+m.menuIcon()+'</li></ul><input id="title" type="text" class="twt-glow" value="'+b.def_title+'" name="title" title="(optional) Message Title" style="width:82%;"/><span id="close_title" class="modal-dialog-title-close" title="Remove (optional) title-message" style="display:none;"/></div></div><div class="markItUpHeader"><ul><li class="'+c+" "+c+'96 "><a id="mnu_add_title" title="Add Title Message" href="">Add Title Message</a></li>'+a+m.menuBIU(1)+a+m.menuAlign(4)+a+m.menuList([8,7])+a+m.menuFont(19)+m.menuSize(20)+m.menuColor(95)+a+m.menuMedia([11,14,22])+a+'<li class="'+c+" "+c+'99 "><a class="ev_smiley" title="Smiley List " href="">Smiley List </a></li><li class="'+c+" "+c+'98 "><a class="ev_upload" title="Uploader " href="">Uploader </a></li>'+a+m.menuCode([16,50,51])+a+m.menuQuote([15,21,97,52])+a+'<li class="'+c+" "+c+'53 "><a class="ev_misc" title="Strikethrough text" href="" data-bbcode="strike">Strikethrough text</a></li></ul></div><div style="clear:left; position:relative;"><div class="vertical-text toggle-sidebar" data-todo="avatar" style="display:'+(b.settings.hideavatar?"":"none")+';"><span class="img-wrp"><img class="photo" src="'+b.user.photo+'" border="0" style=""/></span>'+b.user.name+(b.user.isDonatur&&"group"!=b.thread_type?' <span class="logged-isdonat">[$]</span>':"")+'</div><div class="sidebar-user" style="display:'+(b.settings.hideavatar?"none":"")+'"><div class="toggle-sidebar-wrap" style="display:none"><span id="toggle-avatar" class="toggle-sidebar" data-todo="side"><<</span>&nbsp;<a class="change-avatar" href="'+b.domain+'user/editprofile" target="_blank">change</a></div><img src="'+b.user.photo+'" border="0" style="height:100px"/><div id="logged-username"><a href="'+b.domain+"profile/"+b.user.id+'">'+b.user.name+(b.user.isDonatur?' <span class="logged-isdonat">[$]</span>':"")+'</a></div></div><div class="qr-editor-wrap" style=""><span id="clear_text" class="modal-dialog-title-close" title="Clear Editor" style="display:none;right:10px" /><textarea id="'+b.tID+'" rows="50" name="message" class="markItUpEditor qr-editor twt-glow" style="width:100%;"/><div></div></div></div></div></div><div class="cont-bottom"><div class="thread-prevnext reply-header" style="display:"><div class="box-bottom" style="display:none"><div class="box-smiley" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tkecil" class="goog-tab goog-tab-selected">Kecil</div><div style="-moz-user-select:none" id="tbesar" class="goog-tab">Besar</div><div style="-moz-user-select:none" id="tcustom" class="goog-tab green-tab">Custom</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content" class="goog-tab-content"><div id="tabs-loader" class="mf-spinner"></div><div id="tabs-content-inner"></div></div></div><div class="box-upload" style="display:none"><div style="-moz-user-select:none" class="goog-tab-bar goog-tab-bar-top"><div style="-moz-user-select:none" id="tupload" class="goog-tab green-tab goog-tab-selected">Uploader</div><div style="-moz-user-select:none" class="goog-tab close-tab"><span class="tabclose" /></div></div><div class="goog-tab-bar-clear"></div><div id="tabs-content-upl" class="goog-tab-content"><div id="tabs-content-upl-inner" style="position:relative;" /></div></div></div><div class="button-bottom"><input id="qr_chkval" type="button" style="display:none;" value="cv" /><input id="qr_chkcookie" type="button" style="display:none;" value="cq" onclick="chkMultiQuote()" /><input id="qr_remoteDC" type="button" style="display:none;" value="dc" onclick="deleteMultiQuote()" /><div id="settings-button" title="Settings"></div><div class="qr-title" style="display:inline-block">'+d+'</div><input type="submit" tabindex="1" value="'+b.inner.reply.submit+'" name="sbutton" id="sbutton" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'"/><input type="submit" tabindex="2" value="Preview Post" name="spreview" id="spreview" class="goog-inline-block jfk-button jfk-button-standard"/><input type="submit" tabindex="3" value="Go Advanced" name="sadvanced" id="sadvanced" class="goog-inline-block jfk-button jfk-button-standard"/>'+(b.__DEBUG__?"<br/>":"")+'<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="tmp_chkVal" />\n\n<input type="'+(b.__DEBUG__?"text":"hidden")+'" value="" id="current_ckck" />\n\n</div></div></div></fieldset></form></div></div></div>'},getBOX:function(){return'<div id="modal_dialog_box" class="modal-dialog" style="left: 523px; top: 181px; display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Preview '+(b.edit_mode?b.inner.edit.title:b.inner.reply.title)+'</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_preview_title"></h1><div id="box_preview" class="entry-content" style=""><img src="'+b.B.throbber_gif+'" border=0/>&nbsp;<i style="font-size:10px">loading...</i></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:none;"><button id="box_prepost" class="goog-inline-block jfk-button '+(b.user.isDonatur?"jfk-button-action":"g-button-red")+'" style="-moz-user-select: none;">'+(b.edit_mode?b.inner.edit.submit:"Post")+'</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getBOX_RC:function(){return'<div id="modal_capcay_box" class="capcay-dialog" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">'+(b.edit_mode?"Saving Changes":"Image Verification")+'</span><span class="modal-dialog-title-close popbox"/></div><input id="hidrecap_btn" value="reCAPTCHA" type="button" style="display:" onclick="showRecaptcha(\'box_recaptcha_container\');" class="ninja" /><input id="hidrecap_reload_btn" value="reload_reCAPTCHA" type="button" style="display:" onclick="Recaptcha.reload();" class="ninja" /><div id="box_wrap" class="ycapcay">'+(b.edit_mode?"":'<div><label for="recaptcha_response_field">Prove you\'re not a robot</label></div>')+'<div id="box_response_msg" class="ghost"></div><div id="box_recaptcha_container" class="entry-content"><div id="box_progress_posting" class="activate-disabled "></div><div class="recaptcha-widget " id="recaptcha_widget">'+m.getCUSTOM_ReCapcay()+'</div></div><div id="cont_button" class="modal-dialog-buttons" '+(b.edit_mode?' style="visibility:hidden;"':"")+'><button id="box_post" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Post</button></div></div></div>'},getCUSTOM_ReCapcay:function(){return'<div id="recaptcha_image" style="width: 300px; height: 57px;"><img width="300" height="57" src="" style="display: block;"/></div><div class="recaptcha-main"><label><strong><span class="recaptcha_only_if_image" id="recaptcha_instructions_image">Please Insert ReCapcay:</span></strong><span id="recaptcha_challenge_field_holder" style="display: none;"/><input type="text" name="recaptcha_response_field" id="recaptcha_response_field" autocomplete="off"/></label><div class="recaptcha-buttons"><a title="Get a new challenge" href="javascript:Recaptcha.reload()" id="recaptcha_reload_btn"><span>Reload reCapcay</span></a><a title="Help" href="javascript:Recaptcha.showhelp()" id="recaptcha_whatsthis_btn"><span>Help</span></a></div></div>'},getTPLCustom:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><div id="dv_menu_disabler" style="position:absolute; padding:0;margin:0;border:0; opacity:.15; filter:alpha(opacity=15); background:#000; width:100%; height:100%; display:none;"></div><ul id="ul_group" class="qrset_mnu">'+a+'</ul></div><div class="sidsid cs_right"><div id="custom_bottom" style="margin:8px 0; display:none;"><input type="hidden" id="current_grup" value="" /><input type="hidden" id="current_order" value="" /><a id="manage_btn" tabindex="502" href="javascript:;" class="gbtn gbtn-p3 lilbutton" style="padding: 1px 8px;">Manage</a><span id="title_group" style="margin-left: 8px; font-weight: bold;"></span><a id="manage_cancel" tabindex="503" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 5px; display: none;">Cancel</a><a id="manage_help" tabindex="504" href="javascript:;" class="gbtn lilbutton" style="padding: 1px 5px; margin-left: 20px; display: none;" title="RTFM">[ ? ]</a><span id="position_group" style="margin-left:10px; display:none"/></div><div id="scustom_container" style="max-width: 829px;"><div style="margin:8px 0">Custom Smiley Not Found</div></div><div id="custom_addgroup_container" style="display: none;"><div id="manage_container"><div class="smallfont" style="margin-bottom:5px;"><b id="label_group">Group</b>: <input id="input_grupname" tabindex="500" class="input_title" title="Group Name" style="width: 200px;" value=""/><a id="delete_grupname" tabindex="506" href="javascript:;" class="smallfont" style="margin-left:20px; padding:1px 5px; color:red;" title="Delete this Group">delete</a></div><textarea id="textarea_scustom_container" tabindex="501" class="txta_smileyset"></textarea></div></div></div></div>'},getTPLUpload:function(a){return'<div class="wraper_custom"><div class="sidsid cs_left"><ul id="ul_group" class="qrset_mnu">'+a+'<li><div style="height:1px"></div></li></ul></div><div class="sidsid cs_right"><div id="uploader_container" style="max-width: 829px;"></div></div><span id="toggle-sideuploader" class="toggle-sidebar" data-state="hide">&#9664;</span></div>'},getTPLGeneral:function(){var a,c;c=(""+b.settings.hotkeykey).split(",");a=(""+b.settings.userLayout.config).split(",");return'<table border="0"><tr><td style="width:45%"><input id="misc_updates" class="optchk" type="checkbox"'+(b.settings.updates?' checked="checked"':"")+' /><label for="misc_updates" title="Check Userscripts.org for QR latest update">Updates</label>&nbsp;&nbsp;'+(!b.noCrossDomain?'<a id="chk_upd_now" class="gbtn" href="javascript:;" title="Check Update Now">check now</a><span id="chk_upd_load" class="uloader" style="display:none">checking..&nbsp;<img src="'+b.B.throbber_gif+'" border=0/></span>':"")+'<div id="misc_updates_child" class="smallfont" style="margin:-5px 0 0 20px; display:'+(b.settings.updates?"block":"none")+'" title="Interval check update, 0 < interval <= 99"><label for="misc_updates_interval">Interval:<label>&nbsp;<input id="misc_updates_interval" value="'+b.settings.updates_interval+'" maxlength="5" style="width:45px; padding:0; margin-top:2px;" type="text" />&nbsp;days</label></div><div style="height: 1px;"></div></td><td><input id="misc_hotkey" class="optchk" type="checkbox"'+("0,0,0"!=""+b.settings.hotkeykey?' checked="checked"':"")+'/><label for="misc_hotkey">QR-Hotkey</label><div id="misc_hotkey_child" class="smallfont" style="margin:-3px 0 0 15px; display:'+("0,0,0"!=""+b.settings.hotkeykey?"block":"none")+'">&nbsp;<input id="misc_hotkey_ctrl"'+("1"==c[0]?' checked="checked"':"")+' type="checkbox" /><label for="misc_hotkey_ctrl">ctrl</label>&nbsp;<input id="misc_hotkey_alt" type="checkbox"'+("1"==c[2]?' checked="checked"':"")+' /><label for="misc_hotkey_alt">alt</label>&nbsp;<input id="misc_hotkey_shift" type="checkbox"'+("1"==c[1]?' checked="checked"':"")+' /><label for="misc_hotkey_shift">shift</label>&nbsp;+&nbsp;<label for="misc_hotkey_char">&nbsp;</label><input title="alphnumeric [A-Z0-9]; blank=disable" id="misc_hotkey_char" value="'+b.settings.hotkeychar+'" style="width: 20px; padding:0;" maxlength="1" type="text" /></div></td></tr></table><div style="width:98%; padding-left:10px;"><input id="misc_autolayout" type="checkbox" class="optchk"'+("1"==a[1]?' checked="checked"':"")+' /><label for="misc_autolayout">AutoLayout</label>&nbsp;&nbsp;<a id="edit_tpl_cancel" href="javascript:;" class="cancel_layout gbtn" style="display:'+("1"==a[1]?"":"none")+';"> cancel </a><div id="misc_autolayout_child" style="margin-top:-3px; display:'+("1"==a[1]?"block":"none")+'"><textarea rows="3" style="overflow:auto; letter-spacing:0; line-height:14pt; height:28pt; max-width:95%; min-width:95%; max-height:280px; margin-left:20px;" class="txta_editor" id="edit_tpl_txta">'+b.settings.userLayout.template+"</textarea></div></div>"},getTPLAbout:function(){return"<b>"+b.scriptMeta.fullname+" &#8212; "+b.sversion+"</b> <small>"+b.scriptMeta.dtversion+'</small><br><div style="height: 3px;"></div><a href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+'" target="_blank">'+b.scriptMeta.fullname+'</a> is an improvement of `kaskusquickreply` (Firefox Add-Ons) initially founded by bimatampan<br><div style="height: 7px;"></div><a href="http://code.google.com/p/dev-kaskus-quick-reply/" target="_blank"><img src="http://ssl.gstatic.com/codesite/ph/images/defaultlogo.png" title="dev-kaskus-quick-reply - Kaskus Quick Reply on Google Code" border="0" height="33"></a>&nbsp;&#183;&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" border="0"></a><br>Licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License</a><br><div style="height: 7px;"></div>KASKUS brand is a registered trademark of www.kaskus.us<br>'+b.scriptMeta.fullname+' (QR) is not related to or endorsed by www.kaskus.us in any way.<br>QR+ (Add-ons) is ported from the original QR (@userscripts.org) as specified by author.<br><div style="height: 3px;"></div><b>Founded By:</b> bimatampan<br><b>Author By:</b> <a href="'+b.domain+'profile/302101" class="nostyle" target="_blank"><b>Idx</b></a><br><b>Addons Ported By:</b> <a href="'+b.domain+'profile/1323912" class="nostyle" target="_blank"><b>Piluze</b></a><br><div class="st_contributor" style="height:190px; vertical-align:top; overflow:auto; border:1px solid rgb(228, 228, 228); clip: rect(auto, auto, auto, auto);"><b>Contributors</b><br><div class="contr_l" style="width:45%; float:left;">s4nji<br>riza_kasela<br>p1nky<br>b3g0<br>fazar<br>bagosbanget<br>eric.<br>bedjho<br>Piluze<br>intruder.master<br>Rh354<br>drupalorg<br></div><div class="contr_r" style="width:45%; float:left;">gr0<br>hermawan64<br>slifer2006<br>gzt<br>Duljondul<br>reongkacun<br>otnaibef<br>ketang8keting<br>farin<br>.Shana<br>t0g3<br>&all-kaskuser@<a href="http://www.kaskus.us/showthread.php?t=3170414" target="_blank">t=3170414</a></div><div style="clear:both"></div><br><b>Shout pasukan-cumik</b><br>kakilangit, judotens, matriphe, mursid88, robee_, cheanizer<br/><br/><b>QR Topic</b><br>&nbsp;CCPB <span title="CCPB (#14) UserAgent Fans Club Comunity">UA-FCC</span><br> &#167;<a href="http://www.kaskus.us/showthread.php?t=8689106" target="_blank" title="All About Mozilla Firefox (Add-ons, Scripts, Fans Club)">Firefox</a> <a href="/profile/809411" target="_blank" title="TS: p1nk3d_books">*</a> &#167;<a href="http://www.kaskus.us/showthread.php?t=6595796" target="_blank" title="[Rebuild] ?Opera Community">Opera</a> <a href="/profile/786407" target="_blank" title="TS: ceroberoz"> * </a> &#167;<a href="http://www.kaskus.us/showthread.php?t=3319338" target="_blank" title="[Updated] Extensions/ Addons Google Chrome">Google-Chrome</a> <a href="/profile/449547" target="_blank" title="TS: Aerialsky"> * </a><br>&nbsp;Other</b><br> - <a href="http://www.kaskus.us/showthread.php?t=6616714" target="_blank" title="Add-ons Kaskus Quick Reply + [QR]">Quick Reply+</a> <a href="/profile/1323912" target="_blank" title="TS: Piluze"> * </a><br> - <a href="http://www.kaskus.us/showthread.php?t=6849735" target="_blank" title="Emoticon Corner">Emoticon Corner</a> <a href="/profile/572275" target="_blank" title="TS: slifer2006"> * </a><br><br></div>'},getTPLExim:function(){return'To export your settings, copy the text below and save it in a file.<br>To import your settings later, overwrite the text below with the text you saved previously and click "<b>Import</b>".<textarea id="textarea_rawdata" class="textarea" style="height: 335px; width: 99%; overflow: auto; white-space: pre;" readonly="readonly"></textarea><div style="float: left;"><a id="exim_select_all" class="qrsmallfont" style="margin: 10px 0pt 0pt 5px; text-decoration: none;" href="javascript:;"><b>^ Select All</b></a></div>'},getTPLShortcut:function(){return'<em>Globaly on showthread page</em><br><b>Esc</b> - Close Active-Popup<br><b>Ctrl + Q</b> - Focus to Quick Reply Editor Now. (<a id="customable_btn" href="javascript:;">customable</a>)<br><b>Alt + Q</b> - Fetch Quoted Post<br><b>Ctrl + Alt + Q</b> - Fetch Quoted Post <span class="opr">(Opera)</span><br><b>Ctrl + Shift + Q</b> - Deselect All Quoted Post<br><b>Ctrl + Shift + D</b> - Load/Save Draft<br><div style="height: 10px;"></div><em>While focus on Editor / textarea</em><br><b>Ctrl + Enter</b> - Post Reply<br><b>Alt + S</b> - Post  Reply<br><b>Shift + Alt + S</b> - Post Reply <span class="opr">(Opera)</span><br><b>Alt + P</b> -  Preview Quick Reply<br><b>Shift + Alt + P</b> -  Preview Quick Reply <span class="opr">(Opera)</span><br><b>Alt + X</b> -  Go Advanced<br><b>Shift + Alt + X</b> -  Go Advanced <span class="opr">(Opera)</span><br><div style="height: 10px;"></div><em>While focus on Input reCapctha</em><br><b>Pg-Up</b> or <b>Pg-Down</b> - Reload reCaptcha<br><b>Alt + R</b> - Reload reCaptcha<br><b>Ctrl + Alt + R</b> - Reload reCaptcha <span class="opr">(Opera)</span><br>'},getTPLSetting:function(){return'<div id="modal_setting_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text">Settings<span id="box_preview_subtitle"></span></span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><div id="box_setting" class="entry-content wraper_custom" style="position:relative; "><div class="sidsid cs_left" style="position:relative; height:100%!important;"></div><div class="sidsid cs_right" style="width:540px;"></div><div class="sidcorner" style=""><a href="javascript:;" id="reset_settings">reset settings</a></div></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_action" data-act="update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select:none;">Save</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getTPLUpdate:function(){return'<div id="modal_update_box" class="modal-dialog static_width" style="display:none;"><div class="modal-dialog-title"><span class="modal-dialog-title-text"><img id="nfo_version" src="'+b.B.news_png+'" class="qbutton" style="float:left; margin:3px 5px 0 0;padding:3px;"/>Update Notification</span><span class="modal-dialog-title-close popbox"/></div><div id="box_wrap"><h1 id="box_update_title"></h1><div class="entry-content wraper_custom"><div id="content_update"></div><div class="spacer"></div></div><div id="cont_button" class="modal-dialog-buttons" style="display:;"><button id="box_update" class="goog-inline-block jfk-button jfk-button-action" style="-moz-user-select: none;">Update</button><button id="box_cancel" class="goog-inline-block jfk-button jfk-button-standard" style="-moz-user-select: none;">Cancel</button></div></div>'},getCSS:function(){return"#box_preview {max-height:"+(parseInt(W())-b.offsetMaxHeight-b.offsetLayer)+"px;}#tabs-content-inner span{border:1px solid transparent; cursor:default; padding:1px 3px;}#tabs-content-inner span:hover{border:1px solid #2085C1;background:#B0DAF2!important;}"},getSCRIPT:function(){return'if(typeof $ == "undefined") $ = jQuery;function showRecaptcha(element){if( typeof(Recaptcha)!="object" ){window.setTimeout(function () { showRecaptcha() }, 200);return;}else{Recaptcha.create("6LfHgr0SAAAAAJpO_2DyRtpHECySrGkF_XINc5-d", element, {theme:"custom", lang:"en", custom_theme_widget:"recaptcha_widget"});}}var __mq="kaskus_multiquote", __tmp="tmp_chkVal";function deleteMultiQuote(){$.cookie(__mq,null, { expires: null, path: "/", secure: false }); $("#"+__tmp).val("")}function chkMultiQuote(){var mqs=$.cookie(__mq); $("#"+__tmp).val(mqs ? mqs.replace(/s/g,"") : ""); $("#qr_chkval").click() }chkMultiQuote();'},getSCRIPT_UPL:function(){return'function ajaxFileUpload() {$("#loading_wrp").show();$("#image-control").addClass("blured");$.ajaxFileUpload ({url:"/misc/upload_image",secureuri:false,fileElementId:"browse",dataType: "json",success: function (data, status){$("#image-control").removeClass("blured");$("#loading_wrp").hide();if(data.status == "ok"){var t=\'\';t+=\'<div class="preview-image-unit">\';t+=\'<img src="\'+data.url+\'" width="46" height="46" alt="[img]\'+data.url+\'[/img]" />\';t+=\'<span title="remove" class="modal-dialog-title-close imgremover"/>\';t+=\'</div>\';$("#preview-image").prepend( t );}else{alert(data.error);}},error: function (data, status, e){alert(e);}});return false;}'},getSetOf:function(a){switch(a){case"color":return{"#000000":"Black","#A0522D":"Sienna","#556B2F":"DarkOliveGreen","#006400":"DarkGreen","#483D8B":"DarkSlateBlue","#000080":"Navy","#4B0082":"Indigo","#2F4F4F":"DarkSlateGray","#8B0000":"DarkRed","#FF8C00":"DarkOrange","#808000":"Olive","#008000":"Green","#008080":"Teal","#0000FF":"Blue","#708090":"SlateGray","#696969":"DimGray","#FF0000":"Red","#F4A460":"SandyBrown","#9ACD32":"YellowGreen","#2E8B57":"SeaGreen","#48D1CC":"MediumTurquoise","#4169E1":"RoyalBlue","#800080":"Purple","#808080":"Gray","#FF00FF":"Magenta","#FFA500":"Orange","#FFFF00":"Yellow","#00FF00":"Lime","#00FFFF":"Cyan","#00BFFF":"DeepSkyBlue","#9932CC":"DarkOrchid","#C0C0C0":"Silver","#FFC0CB":"Pink","#F5DEB3":"Wheat","#FFFACD":"LemonChiffon","#98FB98":"PaleGreen","#AFEEEE":"PaleTurquoise","#ADD8E6":"LightBlue","#DDA0DD":"Plum","#FFFFFF":"White"};case"button":return{news_png:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAIAAAD5fKMWAAAABnRSTlMAAAAAAABupgeRAAAArklEQVR42mNkYGBgYGBob29/9OgRA14gJyfHAlHHz88/bdo0/KqzsrJYHj16lF/auG/Hmvv37587dw6XUiMjIwYGBhY4X1FRUVFREb/xLMic9knLGRgYKvMiT158jKbOXF+WgYGBiYEUgGJ2ZV4kCarR7B207ubn52dhYGB4ev+yh4fHhw8fIKLvPn4XFUAxRYif8/79+wwMDIxHjhzZsmXLx48f8buBn5/fw8MDAOiiPC0scvhsAAAAAElFTkSuQmCC",throbber_gif:"data:image/gif;base64,R0lGODlhEAAQALMPADZmn6XF642oyHCp7V6DsEWE0Pn6/dvk7+Ls95W/8VWa7HKby8DS6ezy+U2V6////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJ2Qgg4sw9EShOUQQcxySDoy5GyR2pk7icESP0doBkPi2OgW8iKCiGkuIRSSgIh43PDApQ4JCGBnLL9UUAACH5BAkAAA8ALAAAAAAQABAAAAQ+8Mk5mTg0UwCKMFomOOQChhMykAlKNauDuNNROC0tLc6gS4KC4vcIDn+Egk936ORcBgJAphM4fwzlSbclTiIAIfkECQAADwAsAAAAABAAEAAABELwyUmrtYiZawlYGzcthZOIk7E4DoJKR3m+D+EM9CMUSr73NEIB90IACjORwdOihCYIDxJ1ABwHz0sAYMpeDAzXJAIAIfkECQAADwAsAAAAABAAEAAABDvwyUmrvTjrakTYUgAUCHgAygcuzgA+QuG8sfIShbudRbIZBICjoTkECyoLQhAcDQyYoywAxQRyAeIkAgAh+QQJAAAPACwAAAAAEAAQAAAEN/DJSau9OOvNuzRB0wnAMhbOmXJEMXAHUCSbQQAOoh33bAkEweImSxgqDVlhiQpgAgOHYxA4TiIAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvTjrzbv/luExgNARwMAdQJFsBuogkiEsB3Wg7oS0BcIN1RqIJgKHssAsKAJHSiMwUA4SDUoEACH5BAkAAA8ALAAAAAAQABAAAAQ+8MlJq7046827/2CIIYExEotEAItZGWthCoUzHNSxOoFkLA5HYbEQrACFgethSASFhagjsZyQBgrFIICgRAAAIfkECQAADwAsAAAAABAAEAAABDzwyUmrvTjrzbv/2CEgHQEsnVA45Hasg3HJk+A4w0EhZjAZi1uBsBCYAAXfL3FzFJ6rBI1yCAxug0RLEgEAIfkECQAADwAsAAAAABAAEAAABDjwyUmrvTjrzXsVxNEBRTI6Jkc4QycUDsId8GBwgsOKmrHoBYJgQSAwLIaEzlFoljCIwEDBSjQoEQAh+QQJAAAPACwAAAAAEAAQAAAEQPDJSau9OFNj9DwA0HkCoDTeQxRD+gBF4gKOnBJOmwqFg6SH3mCkETgcioPHsDgWCAtGxpA4KgoFaeaQGORQlQgAIfkECQAADwAsAAAAABAAEAAABDrwyUmrvdUswDAVQNF5zxEOBvmADqI+RDG8TxjQgJPQhDO/AkfrdSj4Uqqg76DSCAuCZkKooB0Co0sEACH5BAkAAA8ALAAAAAAQABAAAARA8MmH2LzYCAAsvgYBFMrxXVsxIOd0jIPRTptjzhKh4tOY8BKAIwB8EByDoqDgYPEOzBhQ4FAkeYZFtWhgNIrgCAAh+QQJAAAPACwAAAAAEAAQAAAEPvDJhwQBbGppBABFkWyTcRXOEDSk5BXD0U4HOBjz5DlIPhEw3wQ0Ej4AjqKQkDI+BKieEIHKGAMJlnPL7T4iACH5BAkAAA8ALAAAAAAQABAAAAQ88MnXBAGAhMmfwEXhOEX3GAsgDkkyMOZXDIjJNepg2Nzn1LwJYRbkqDZFCcCRSEoITOfjENhJr9isVhsBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGAiDOnEVhROI4odMY1DkkykE4zgcXATUgSTAdQG52gBORACIWE2hFZYCyDBtlzSq1ar9isdhkBACH5BAkAAA8ALAAAAAAQABAAAAQ88MmHBAGACDSnEVhROI4oGN41DkkykM6CPmAxcBPyOsHTALZZx/BKPAyEW2fIaCyf0Kh0Sq1ar9isdhsBACH5BAkAAA8ALAAAAAAQABAAAAQ98Ml3BAGAiDOnEVhROI4oGB04DkkykM6CSkIxcNPxOkmHdJPG7gcsHka9YnHBUxYbgYZzSq1ar9isdjuJAAAh+QQFAAAPACwAAAAAEAAQAAAEPPDJ1wQBgIg2+1tAUTiOKBjeExRDkgykc6beATsJ7TU3oneHUe43ITgGxImgoEhKlk0nYhFwWq/YrPYXAQA7"};case"posticon":return{None:null,Post:"posting.gif",Video:"video.png",Lightbulb:"lightbulb.png",Exclamation:"exclamation.png",Star:"star.png",Cool:"smile3.png",Smile:"smile5.png",Angry:"repost.png",Unhappy:"smile4.png",Talking:"smile2.png",Heart:"heart.png",Wink:"smile.png","Thumbs down":"thumbsdown.png","thumbs up":"thumbsup.png"};default:return!1}},getSmileySet:function(a,c){b.smcustom={};b.smgroup=[];t(p+"CUSTOM_SMILEY",function(a){if(a&&B(a)&&""!=a){var e=function(a){if(!a)return!1;var b=1,c=[],a=a.split(",");if(r(a[0]))for(var d in a)if(B(a[d])&&""!=a[d]){var e=a[d].split("|");c.push(r(e[1])?[e[1],e[0],e[0]]:a[d]);b++}return c};if(-1==a.indexOf("<!!>")){if(a=e(a))b.smcustom["untitled".toString()]=a,b.smgroup.push("untitled")}else for(var f=a.split("<!>"),g,h=0;h<f.length;h++)if(g=f[h].split("<!!>"),g[0]=g[0].replace(/\\!/g,"!"),0<g.length&&(a=e(g[1])))b.smcustom[g[0].toString()]=a,b.smgroup.push(g[0].toString())}"function"==typeof c&&c()});if(!r(a)||!a)b.smbesar=[["sumbangan/smiley_beer.gif",":beer:","Angkat Beer"],["sumbangan/kribo.gif",":afro:","afro"],["smileyfm329wj.gif",":fm:","Forum Music"],["sumbangan/smiley_couple.gif",":kimpoi:","Pasangan Smiley"],["sumbangan/kaskuslove.gif",":ck","Kaskus Lovers"],["ultah.gif",":ultah","Ultah"],["traveller.gif",":travel","Traveller"],["toastcendol.gif",":toast","Toast"],["jempol1.gif",":thumbup","Jempol"],["takut.gif",":takut","Takut"],["fd_5.gif",":sup:","Sundul Up"],["sundul.gif",":sup2","Sundul"],["sorry.gif",":sorry","Sorry"],["shakehand2.gif",":shakehand2","Shakehand2"],["selamat.gif",":selamat","Selamat"],["salah_kamar.gif",":salahkamar","Salah Kamar"],["request.gif",":request","Request"],["fd_7.gif",":repost:","Repost"],["s_sm_repost2.gif",":repost2","Purple Repost"],["s_sm_repost1.gif",":repost","Blue Repost"],["recseller.gif",":recsel","Recommended Seller"],["rate5.gif",":rate5","Rate 5 Star"],["peluk.gif",":peluk","Peluk"],["nosara.gif",":nosara","No Sara Please"],["nohope.gif",":nohope","No Hope"],["ngakak.gif",":ngakak","Ngakak"],["ngacir2.gif",":ngacir2","Ngacir2"],["ngacir3.gif",":ngacir","Ngacir"],["najis.gif",":najis","Najis"],["mewek.gif",":mewek","Mewek"],["matabelo1.gif",":matabelo","Matabelo"],["marah.gif",":marah","Marah"],["malu.gif",":malu","Malu"],["fd_6.gif",":kts:","Kemana TSnya?"],["kaskus_radio.gif",":kr","Kaskus Radio"],["cewek.gif",":kiss","Kiss"],["kimpoi.gif",":kimpoi","Kimpoi"],["fd_4.gif",":kbgt:","Kaskus Banget"],["fd_8.gif",":kacau:","Thread Kacau"],["fd_1.gif",":jrb:","Jangan ribut disini"],["s_sm_ilovekaskus.gif",":ilovekaskus","I Love Kaskus"],["I-Luv-Indonesia.gif",":iloveindonesia","I Love Indonesia"],["hoax.gif",":hoax","Hoax"],["hotnews.gif",":hn","Hot News"],["hammer.gif",":hammer","Hammer2"],["games.gif",":games","Games"],["dp.gif",":dp","DP"],["cystg.gif",":cystg","cystg"],["cool2.gif",":cool","Cool"],["s_big_cendol.gif",":cendolbig","Blue Guy Cendol (L)"],["cekpm.gif",":cekpm","Cek PM"],["fd_2.gif",":cd:","Cape deeehh"],["capede.gif",":cd","Cape d..."],["bola.gif",":bola","Bola"],["bingung.gif",":bingung","Bingung"],["fd_3.gif",":bigo:","Bukan IGO"],["s_sm_maho.gif",":betty","Betty"],["berduka.gif",":berduka","Turut Berduka"],["s_big_batamerah.gif",":batabig","Blue Guy Bata (L)"],["babygirl.gif",":babygirl","Baby Girl"],["babyboy1.gif",":babyboy1","Baby Boy 1"],["babyboy.gif",":babyboy","Baby Boy"],["angel1.gif",":angel","Angel"],["jempol2.gif",":2thumbup","2 Jempol"]],b.smkecil=[["s_sm_peace.gif",":Yb","Blue Guy Peace"],["takuts.gif",":takuts","Takut (S)"],["sundulgans.gif",":sundulgans","Sundul Gan (S)"],["shutup-kecil.gif",":shutups","Shutup (S)"],["reposts.gif",":reposts","Repost (S)"],["ngakaks.gif",":ngakaks","Ngakak (S)"],["najiss.gif",":najiss","Najis (S)"],["malus.gif",":malus","Malu (S)"],["mads.gif",":mads","Mad (S)"],["kisss.gif",":kisss","Kiss (S)"],["iluvkaskuss.gif",":ilovekaskuss","I Love Kaskus (S)"],["iloveindonesias.gif",":iloveindonesias","I Love Indonesia (S)"],["hammers.gif",":hammers","Hammer (S)"],["cendols.gif",":cendols","Cendol (S)"],["s_sm_cendol.gif",":cendolb","Blue Guy Cendol (S)"],["cekpms.gif",":cekpms","Cek PM (S)"],["capedes.gif",":capedes","Cape d... (S)"],["bookmark-kecil.gif",":bookmarks","Bookmark (S)"],["bingungs.gif",":bingungs","Bingung (S)"],["mahos.gif",":bettys","Betty (S)"],["berdukas.gif",":berdukas","Berduka (S)"],["berbusa-kecil.gif",":berbusas","Berbusa (S)"],["batas.gif",":batas","Bata (S)"],["s_sm_batamerah.gif",":bata","Blue Guy Bata (S)"],["army-kecil.gif",":armys","Army (S)"],["add-friend-kecil.gif",":addfriends","Add Friend (S)"],["s_sm_smile.gif",":)b","Blue Guy Smile (S)"],["sumbangan/13.gif",";)","Wink"],["sumbangan/001.gif",":wowcantik","Wowcantik"],["sumbangan/44.gif",":tv","televisi"],["sumbangan/47.gif",":thumbup","thumbsup"],["sumbangan/48.gif",":thumbdown","thumbdown"],["sumbangan/006.gif",":think:","Thinking"],["sumbangan/shit-3.gif",":tai","Tai"],["tabrakan.gif",":tabrakan:","Ngacir Tubrukan"],["sumbangan/39.gif",":table:","table"],["sumbangan/008.gif",":sun:","Matahari"],["sumbangan/020.gif",":siul","siul"],["sumbangan/5.gif",":shutup:","Shutup"],["sumbangan/49.gif",":shakehand","shakehand"],["sumbangan/34.gif",":rose:","rose"],["sumbangan/01.gif",":rolleyes","Roll Eyes (Sarcastic)"],["sumbangan/32.gif",":ricebowl:","ricebowl"],["sumbangan/e02.gif",":rainbow:","rainbow"],["sumbangan/60.gif",":rain:","raining"],["sumbangan/40.gif",":present:","present"],["sumbangan/41.gif",":Phone:","phone"],["sumbangan/005.gif",":Peace:","Peace"],["sumbangan/paw.gif",":Paws:","Paw"],["sumbangan/6.gif",":p","Stick Out Tongue"],["sumbangan/rice.gif",":Onigiri","Onigiri"],["sumbangan/07.gif",":o","Embarrassment"],["sumbangan/35.gif",":norose:","norose"],["sumbangan/q11.gif",":nohope:","Nohope"],["ngacir.gif",":ngacir:","Ngacir"],["sumbangan/007.gif",":moon:","Moon"],["sumbangan/q17.gif",":metal","Metal"],["sumbangan/33.gif",":medicine:","medicine"],["sumbangan/004.gif",":matabelo:","Belo"],["sumbangan/1.gif",":malu","Malu"],["sumbangan/12.gif",":mad","Mad"],["sumbangan/26.gif",":linux2:","linux2"],["sumbangan/25.gif",":linux1:","linux"],["sumbangan/28.gif",":kucing:","kucing"],["sumbangan/36.gif",":kissmouth","kiss"],["sumbangan/014.gif",":kissing:","kisssing"],["sumbangan/3.gif",":kagets:","Kagets"],["sumbangan/hi.gif",":hi:","Hi"],["sumbangan/37.gif",":heart:","heart"],["sumbangan/8.gif",":hammer:","Hammer"],["sumbangan/crazy.gif",":gila:","Gila"],["sumbangan/q03.gif",":genit","Genit"],["sumbangan/fuck-4.gif",":fuck:","fuck"],["sumbangan/fuck-8.gif",":fuck3:","fuck3"],["sumbangan/fuck-6.gif",":fuck2:","fuck2"],["sumbangan/frog.gif",":frog:","frog"],["sumbangan/e03.gif",":flower:","flower"],["sumbangan/52.gif",":exclamati","exclamation"],["sumbangan/43.gif",":email","mail"],["sumbangan/4.gif",":eek","EEK!"],["sumbangan/18.gif",":doctor","doctor"],["sumbangan/14.gif",":D","Big Grin"],["sumbangan/05.gif",":cool:","Cool"],["sumbangan/7.gif",":confused","Confused"],["sumbangan/31.gif",":coffee:","coffee"],["sumbangan/42.gif",":clock","clock"],["sumbangan/woof.gif",":buldog","Buldog"],["sumbangan/38.gif",":breakheart","breakheart"],["bolakbalik.gif",":bingung:","Bingung"],["sumbangan/vana-bum-vanaweb-dot-com.gif",":bikini","Bikini"],["sumbangan/q20.gif",":berbusa","Busa"],["sumbangan/30.gif",":baby:","baby"],["sumbangan/27.gif",":babi:","babi"],["sumbangan/24.gif",":army","army"],["sumbangan/29.gif",":anjing:","anjing"],["sumbangan/017.gif",":angel:","angel"],["sumbangan/amazed.gif",":amazed:","Amazed"],["sumbangan/15.gif",":)","Smilie"],["sumbangan/06.gif",":(","Frown"]]}},n={e:{dialogname:"qr-modalBoxFaderLayer",boxpreview:"modal_dialog_box",boxcapcay:"modal_capcay_box",lastbuff:"",boxaction:"",ishalted:!1,isdiff:!1},init:function(c){5>u(a("#"+b.tID).val()).length?(b.$w.clearTimeout(b.sTryEvent),a("#"+b.tID).addClass("twt-glowerror"),n.e.ishalted=1,alert("The message you have entered is too short. Please lengthen your message to at least 5 characters"),b.sTryEvent=b.$w.setTimeout(function(){a("#"+b.tID).removeClass("twt-glowerror")},3e3),a("#"+b.tID).focus()):(O(),a(c).blur(),n.e.ishalted=!1,a("body").addClass("hideflow"))},boxEvents:function(){a("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){O()})},buildQuery:function(c){var d="securitytoken,title,message,iconid,parseurl,recaptcha_response_field,recaptcha_challenge_field,discussionid,groupid".split(","),e,f,g={};a("#formform").find("*[name]").each(function(){-1!=a.inArray(a(this).attr("name"),d)&&(f=u(a(this).val()),e=encodeURIComponent(a(this).attr("name")),"title"==e&&a("#title").parent().hasClass("condensed")?f="":"message"==e&&(b.eof=c?"":"--QR-END-of-MSG-"+(new Date).getTime().toString()+"--",f=ba(f.replace(/\r\n/g,"\n")),j("val message=\n"+f),c||(f=f.replace(/\[(\/)?quote(?:\=([^\;]+).([^\]]+))?./gi,function(a,b,c,d){return"___"+(b?b:"")+"QRQUOTE"+(c&&d?"|"+c+"|"+d+"|":"")+"___"})),f=oa(f)+"\n"+b.eof,j("encodedval message=\n"+f)),""!=f&&(g[e]=f))});n.e.isdiff=n.e.lastbuff!=u(a("#"+b.tID).val());n.e.lastbuff=u(a("#"+b.tID).val());n.e.boxaction=encodeURI(a("#formform").attr("action"));return g},preview:function(){n.e.ishalted||(a("#"+n.e.dialogname).show().css("visibility","visible"),a("body").prepend(m.getBOX()),Q(),n.boxEvents(),V(a("#"+n.e.boxpreview),130,function(){var c=n.buildQuery();c.preview=encodeURI("Preview"+("group"==b.thread_type?"":" Post"));j("boxaction="+n.e.boxaction);j("tosend="+JSON.stringify(c));b.sTryRequest&&(j("Other AJAX instance [sTryRequest] is currently running, killing him now."),b.sTryRequest.abort());try{""!=c&&(b.sTryRequest=a.post(n.e.boxaction,c,function(c){var d,e,f;d=fa(c);f=parseInt(W())-b.offsetMaxHeight-b.offsetLayer;a("#box_preview").css("max-height",f+"px");if(d){try{e=c.replace(/(\r\n|\n|\r|\t)+/gm,"").replace(/\s{2,}/gm,"").replace(/\"/gm,'"').toString()+"\n\n"}catch(g){j("decodeURI in preview failed")}c=e.substring(0,e.indexOf(b.eof));j("parsed="+c);if(c=b.thread_type=="group"?/(?:[\'\"]post-header[\'\"]>\s?<h2\s+[^>]+.([^<]+).+)?[\'\"]entry-content[\'\"](?:[^>]+)?.(.*)/.exec(c):/<div\sclass=[\"\']entry-content[\'\"](?:[^>]+)?.<h1>((?:<img[^>]+.\s?)?(?:[^<]+)?)<\/h1>\s?(.*)/im.exec(c)){a("#box_preview_title").html(c[1]);c=c[2].replace(/___\/QRQUOTE___/gi,"</div></div>").replace(/___QRQUOTE___/gi,function(){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">'}).replace(/___QRQUOTE\|([^\|]+).([^\|]+).___/gi,function(a,b,c){return'<div class="post-quote" style="width:100%; margin:auto; font-family:Helvetica,Arial,Sans-serif; font-size:14px; font-style:normal; font-weight:normal; text-align:left;color: #484848"><span style="padding-left: 15px; font-size: 8pt; display: block;">Quote:</span><div style="width: 95%;margin:auto;border: 1px inset; background: #E1E4F2; padding: 5px; color: #484848;">Original Posted By <b>'+b+'</b><a href="/post/'+c+"#post"+c+'" class="jump">&#9658;</a><br/>'});j(c);a("#box_preview").html(c);a("#box_preview").find("img").each(function(){a(this).css("max-width","790px")});a("#cont_button").show()}a("#box_prepost").click(function(){n.init();n.presubmit()});b.user.isDonatur||(b.edit_mode==1?a("#box_prepost").addClass("jfk-button-action").removeClass("g-button-red"):a("#box_prepost").removeClass("jfk-button-action").addClass("g-button-red"));a("#box_prepost").focus().delay(1200)}else v.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){a("#box_preview").html('Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>')}})}))}catch(d){}}))},submit:function(){!b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type&&(a("#qr-recaptcha_response_field").val(a("#recaptcha_response_field").val()),a("#qr-recaptcha_challenge_field").val(a("#recaptcha_challenge_field").val()));var c=n.buildQuery(!0);c.sbutton="group"==b.thread_type?encodeURI("Post+Message"):encodeURI(b.edit_mode?"Save+Changes":"Submit+Reply");n.postloader(!0);try{j("ignite post="+n.e.boxaction),j("query="+JSON.stringify(c)),b.sTryRequest=a.post(n.e.boxaction,c,function(c){var d,e,f=false;try{e=c.replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,"").replace(/\"/g,'"').toString()}catch(g){j("decodeURI in submit post failed")}j("submited sdata:"+e);e.substring(0,e.indexOf(b.eof));if(d=/error-msg\spanel[^>]+>(?:<[^>]+>)+([^<]+)/i.exec(e))f=1;else if(d=/[\'\"]err-msg[^>]+>([^<]+)/i.exec(e))f=1;if(f){b.postlimit=false;f=/ry\sagainsin\s(\d+)\ssec/;e=d[1];if(d=f.exec(e)){b.postlimit=d[1];e=e.replace(f,'ry again in <span id="rspbox_cntdown">'+b.postlimit+"</span> sec")}if(b.user.isDonatur){O();e={mode:"error",msg:d[1]};postlimit&&(e.cb=function(){A.init(b.postlimit,"#rspbox_cntdown")});if(!b.edit_mode)e.btnset=false;v.init(e)}else{n.postloader(false);a("#hidrecap_reload_btn").click();b.postlimit&&A.init(b.postlimit,"#rspbox_cntdown");a("#box_response_msg").html(e).removeClass("ghost").addClass("g_notice").addClass("qrerror").show()}fa(c)}else if(d=/<meta\s*http\-equiv=[\"\']REFRESH[\"\']\s*content=[\"\']\d+;\s*URL=([^\"\']+)/i.exec(e))z(p+"TMP_TEXT","",function(){d[1]=d[1].replace(/\#/,"/?p"+(new Date).getTime()+"#");location.href=d[1]});else{j("redirect link not found, post might fail. please try again.");e={mode:"error",msg:d};if(!b.edit_mode)e.btnset=false;v.init(e)}})}catch(d){}},postloader:function(b){var c=["recaptcha_widget","box_progress_posting","box_response_msg","box_post"],d=["recaptcha_is_building_widget","activate-disabled","activated","mf-spinner","jfk-button-disabled"];b?(a("#"+c[0]).addClass(d[0]),a("#"+c[1]).removeClass(d[1]).addClass(d[2]).addClass(d[3]),a("#"+c[2]).hide(),a("#"+c[3]).addClass(d[4])):(a("#"+c[0]).removeClass(d[0]),a("#"+c[1]).removeClass(d[3]).removeClass(d[2]).addClass(d[1]),a("#"+c[3]).removeClass(d[4]))},presubmit:function(){if(!n.e.ishalted){a("#"+n.e.dialogname).css("visibility","visible");var c;(c=a("#modal_capcay_box").get(0))?a("#wraper-hidden-thing #modal_capcay_box").clone().prependTo(a("body")):(a("body").prepend(m.getBOX_RC()),c=!1);a("body > #modal_capcay_box").addClass("modal-dialog");b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type&&a("body > #modal_capcay_box .modal-dialog-title-text").text("Posting....");b.edit_mode&&(a("body > #modal_capcay_box .modal-dialog-title-text").text("Saving Changes"),a("body > #modal_capcay_box .recaptcha-widget").hide(),a("body > #modal_capcay_box #box_progress_posting").removeClass("activate-disabled").addClass("activated").addClass("mf-spinner"),a("body > #modal_capcay_box #box_post").addClass("jfk-button-disabled").html("Posting"),a("body > #modal_capcay_box .ycapcay label").hide());Q();n.boxEvents();V(a("#"+n.e.boxcapcay),50);!1===b.user.isDonatur&&!b.edit_mode&&"group"!=b.thread_type?(c||a("#hidrecap_btn").click(),b.sITryFocusOnLoad=b.$w.setInterval(function(){var c=a("#recaptcha_response_field");if(c.length==1){clearInterval(b.sITryFocusOnLoad);a("#recaptcha_response_field").addClass("twt-glow");a("#recaptcha_response_field").focus()}a("#recaptcha_instructions_image, #recaptcha_image").click(function(){c.focus()});a("#box_post").click(function(){if(c.val()==""){alert("Belum Masukin Capcay,...");c.focus()}else n.submit()});a(c).keydown(function(b){var c=b.keyCode,d=null;if(c===13){a("#box_post").click();d=1}else if(b.altKey&&c===82||c===33||c===34){a("#hidrecap_reload_btn").click();d=1}d&&y(b)})},200)):n.submit()}}},q={e:{task:"quote",ajaxrun:!1},init:function(){},ajaxPID:function(a,c){if(a){if(q.e.ajaxrun&&!1!==c)try{j("Other AJAX instance ["+q.e.ajaxrun+"] is currently running, killing him now."),b.sTryRequest.abort(),b.ajax_pid[q.e.ajaxrun]=0}catch(d){}b.ajax_pid[a]=!1===c?0:(new Date).getTime();q.e.ajaxrun=!1!==c&&!c?a:!1;j("ajaxrun = "+q.e.ajaxrun)}},quote:function(c,d,e){q.e.task="quote";var f=a("#formform").attr("action");(c=a("#tmp_chkVal").val())&&(c=c.split(","));f+="/?post="+c[0];j("uri="+f);if(q.e.task&&b.ajax_pid[q.e.task]){j("AJAX "+q.e.task+" is currently running, abort previous...");try{b.ajax_pid[q.e.task].abort()}catch(g){}}try{q.ajaxPID("quote"),"function"==typeof d&&d(),b.sTryRequest=a.get(f,function(a){var b;try{b=a.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,"\\n").toString()}catch(c){j("decodeURI in fetch quote failed")}if(fa(a,"quote")){a=b.substring(0,b.indexOf("</textar"));j("parsed="+a);if(a=/<textarea[^>]+>(.+)?/im.exec(a))i.init(),a[1]&&i.add(ca(a[1].replace(/\\n|\\r\\n|\\r/g,"\n"))),i.pracheck();"function"==typeof e&&e()}else v.init({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){}});q.ajaxPID("quote",!1)})}catch(h){j("FAILED = "+f),q.ajaxPID("quote",!1)}},edit_cancel:function(c){var d=confirm("You are currently editing a post.\n\nDiscard anyway?");d&&(j("edit canceling; now switching Token:\nold="+b._securitytoken+"; now using:"+b._securitytoken_prev),b._securitytoken=b.inner.reply.stoken,a("#qr-securitytoken").val(b._securitytoken),b.edit_mode=0,q.e.task="post",a("#formform").attr("action"),a("#formform").attr("action","/post_reply/"+b.pID),a("#formform").attr("name","postreply"),a(".inner_title").html(b.inner.reply.title),a("#sbutton").val(b.inner.reply.submit),b.user.isDonatur||a("#sbutton").removeClass("jfk-button-action").addClass("g-button-red"),i.set(""),i.pracheck(c),v.dismiss(),a("#hid_iconid").val(0),a("#title").val(""),a("#img_icon").attr("src","#"),a("#img_icon, #close_title, .title-message").hide());return d},edit:function(c,d,e){q.e.task="edit";if(b.ajax_pid[q.e.task]){j("AJAX "+q.e.task+" is currently running, abort previous...");try{b.ajax_pid[q.e.task].abort()}catch(f){}}try{q.ajaxPID("edit");"function"==typeof d&&d();b.edit_mode=1;var g,h,k;k=u(c.attr("href").toString());h=k.indexOf("edit_post/");g=b.domain+k.substring(h,k.length);b.sTryRequest=a.get(g,function(c){var d,f;try{d=c.replace(/\\\"/g,"").replace(/(\r\n|\n|\r)/gm,"\\n").toString()}catch(h){j("error raised")}b.inner.reply.stoken=b._securitytoken_prev=b._securitytoken;if(fa(c)){a("#formform").attr("action",g);a("#formform").attr("name","edit_postreply");c=d.substring(0,d.indexOf("</textar"));j("parsed="+c);if(c=/<textarea[^>]+>(.+)?/im.exec(c)){var k;i.init();k=!1;f=a('input[name="title"]',a(d));a(f).get(0)&&(k={icon:sa(a("#display_posticon",a(d)).attr("src")).replace(/\./g,""),text:a(f).val()},!k.text&&"cleargif"==k.icon&&(k=!1),j("got judul = "+JSON.stringify(k)));k&&i.set_title(k);d=(""+b.settings.userLayout.config).split(",");f=b.settings.userLayout.template.toLowerCase();c=u(ca(c[1].replace(/\\n|\\r\\n|\\r/g,"\n")));1==d[1]&&f&&(f=f.split("{message}"),d=RegExp("^"+f[0].replace(/(\W)/g,"\\$1"),""),d.test(c.toLowerCase())&&(c=c.substring(f[0].length,c.length)),d=RegExp(f[1].replace(/(\W)/g,"\\$1")+"$",""),d.test(c.toLowerCase())&&(c=c.substring(0,c.length-f[1].length)));a(".inner_title").html(b.inner.edit.title);a("#sbutton").val(b.inner.edit.submit);b.user.isDonatur||a("#sbutton").addClass("jfk-button-action").removeClass("g-button-red");i.set(c);i.pracheck()}a("#scancel_edit").show();"function"==typeof e&&e()}else v({mode:"error",msg:'Kaskus Kepenuhan? <a href="javascript:;">Try Again</a> | <a href="javascript:;">Dismiss</a>',cb:function(){}});q.ajaxPID("edit",!1)})}catch(l){b.edit_mode=0,q.ajaxPID("edit",!1)}}},v={mode:"quote",btnset:!0,msg:"",cb:null,init:function(a){for(field in a)B(field)&&(v[field.toString()]=a[field]);j("_NOFY inside :: "+JSON.stringify(a));v.exec()},exec:function(){var b=a("#notify_msg");v.msg&&b.html(v.msg);b.removeClass("qrerror");a.each(["scancel_edit","quote_btnset"],function(){a("#"+this).hide()});switch(v.mode){case"error":b.addClass("qrerror");break;case"quote":a("#quote_btnset").show();break;case"edit":a("#scancel_edit").show()}v.btnset?a(".qr-m-panel").show():a(".qr-m-panel").hide();a("#notify_msg, #notify_wrap").show();"function"==typeof v.cb&&v.cb()},dismiss:function(){a(".qr-m-panel").show();a("#notify_msg, #notify_wrap").hide();try{b.sTryRequest.abort()}catch(c){}}},i={e:null,eNat:null,content:"",cursorPos:[],last_scrollTop:0,init:function(){this.e=a("#"+b.tID);this.eNat=x(b.tID);this.content=this.e.val();this.cursorPos=this.rearmPos();this.last_scrollTop=x(b.tID).scrollTop},rearmPos:function(){return[this.getCaretPos(),x(b.tID).selectionEnd]},subStr:function(a,b){return this.content.substring(a,b)},set_title:function(b){a(".title-message").slideDown(1,function(){a(".title-message #title").focus().val(b.text);a('li a[data-name="'+b.icon+'"]',a("#menu_posticon")).click()})},set:function(c){a("#"+b.tID).val(c);x(b.tID).value=this.content=c;i.setRows_Elastic();i.init();this.saveDraft();this.pracheck()},wrapValue:function(a,c){var d,e=this.cursorPos[0],f=this.cursorPos[1],g,a=a.toUpperCase();g=this.subStr(0,e)+"["+a+(c?"="+c:"")+"]"+(e==f?"":this.subStr(e,f))+"[/"+a+"]"+this.subStr(f,this.content.length);this.set(g);d=e+("["+a+(c?"="+c:"")+"]").length;this.setCaretPos(d,d+this.subStr(e,f).length);"hidden"!=this.overflow&&(x(b.tID).scrollTop=this.last_scrollTop+1);return g},add:function(c){""!=a("#"+b.tID).val()&&(this.content+="\n\n");a("#"+b.tID).val(this.content+c);this.saveDraft();this.pracheck(!1);b.$w.setTimeout(function(){i.lastfocus()},200)},setValue:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];I(c)&&(c=[a.length,a.length]);if(d!=e)this.replaceSelected(a,c);else return e=this.subStr(0,d)+a+this.subStr(d,this.content.length),this.set(e),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=i.overflow&&(x(b.tID).scrollTop=this.last_scrollTop+1),e},replaceSelected:function(a,c){var d=this.cursorPos[0],e=this.cursorPos[1];d!=e&&(this.set(this.subStr(0,d)+a+this.subStr(e,this.content.length)),this.setCaretPos(d+c[0],d+c[1]),"hidden"!=i.overflow&&(x(b.tID).scrollTop=this.last_scrollTop+1))},pracheck:function(c){I(c)&&(c=!0);i.setElastic(b.maxH_editor);""!=a("#"+b.tID).val()?a("#clear_text").show():a("#clear_text").hide();c&&b.$w.setTimeout(function(){i.focus()},200)},focus:function(){a("#"+b.tID).focus()},lastfocus:function(){var c,d;c=""+a("#"+b.tID).val();d=c.length;c=c.split("\n");c=c.length;d+=2*c;c=x(b.tID);c.setSelectionRange&&(i.focus(),c.setSelectionRange(d,d));b.$w.setTimeout(function(){i.focus()},310)},getSelectedText:function(){return this.cursorPos[0]==this.cursorPos[1]?"":this.subStr(this.cursorPos[0],this.cursorPos[1])},getCaretPos:function(){var a=0;if(x(b.tID)&&(x(b.tID).selectionStart||"0"==x(b.tID).selectionStart))a=x(b.tID).selectionStart;return a},setCaretPos:function(a,c){I(c)&&(c=a);x(b.tID).setSelectionRange&&(this.focus(),x(b.tID).setSelectionRange(a,c))},setElastic:function(c,d){function e(a){var b=x(g);b.setAttribute("cols",Math.floor(b.clientWidth/7));i.setRows_Elastic(a)}var f,g=b.tID;f=x(g)||x(b.tID);i.oflow="hidden";f.setAttribute("style","visibility:hidden; overflow:"+i.oflow+";letter-spacing:0;line-height:14pt;"+(c?"max-height:"+(c-130)+"pt;":""));d||a("#"+g).keyup(function(){e(c)});e(c)},setRows_Elastic:function(c){for(var d=x(b.tID),e=d.cols,f=d.value.toString(),f=f.replace(/(?:\r\n|\r|\n)/g,"\n"),g=2,h=0,j=0;j<f.length;j++){var k=f.charAt(j);h++;if("\n"==k||h==e)g++,h=0}e=14*g;d.setAttribute("rows",g);d.style.height=e+"pt";i.oflow=c&&14*g>c-130?"auto":"hidden";d.style.setProperty("overflow",i.oflow,"important");a("#"+b.tID).css("visibility","visible")},saveDraft:function(c){if(c&&(c.ctrlKey||c.altKey))return!0;c=a("#"+b.tID).val();a("#qrdraft").get(0)&&c&&c!=b.silahken&&(l.title("save"),a("#qrdraft").html("Save Now").attr("data-state","savenow"),l.switchClass("gbtn"),a("#draft_desc").html(""),clearTimeout(b.sITryLiveDrafting),b.isKeyPressed=1,b.settings.qrdraft&&l.quick_check())}},A={init:function(c,d){A.ori_title=a("title").text();c||(c=b.postlimit);A.counter=c;A.target=d;A.target_title=a("title").get(0);c&&!(0>c||b.sITryCountDown)&&A.rundown()},rundown:function(){-1<A.counter?(a(A.target).html(parseInt(A.counter)),a(A.target_title).html("["+parseInt(A.counter)+"] "+A.ori_title),b.sITryCountDown=setTimeout(function(){A.rundown()},1005),A.counter--):(clearTimeout(b.sITryCountDown),a(A.target_title).html(A.ori_title),b.user.isDonatur||a("body > #modal_capcay_box").is(":visible")&&""!=a("body > #modal_capcay_box").find("#recaptcha_response_field").val()&&!a("body > #modal_capcay_box").find("#box_post").hasClass("jfk-button-disabled")&&b.$w.setTimeout(function(){a("body > #modal_capcay_box").find("#box_post").click()},500))}},l={el:null,dsc:null,_construct:function(){l.el=a("#qrdraft");l.dsc=a("#draft_desc")},check:function(){j("checking draft..");l.el.get(0)&&"idle"==l.el.attr("data-state")&&(b.timeOld=(new Date).getTime(),clearInterval(b.sITryKeepDrafting),b.sITryKeepDrafting=window.setInterval(function(){l.check()},12e4));var c=a("#"+b.tID).val(),d=(new Date).getTime()-b.timeOld,d=Math.floor(d/6e4);if(l.provide_draft()||c==b.silahken||""==c)return!1;r(b.isKeyPressed)?l.save():l.dsc.html((0<d?"Last saved "+d+" minutes":"Saved seconds")+" ago")},provide_draft:function(){if(""==a("#"+b.tID).val()){var c=""==b.tmp_text;l.el.html("Draft").attr("data-state","idle");l.title(c?"":"continue");l.switchClass(c?"jfk-button-disabled":"gbtn");l.dsc.html(c?"blank":'<a href="javascript:;" id="clear-draft" title="Clear Draft">clear</a> | available');a("#clear-draft").click(function(){l.clear()});if(!c)return!0}return!1},title:function(a){a="save"==a?"Save Now":"continue"==a?"Continue Draft":"";""!=a?l.el.attr("title",a+" [Ctrl+Shift+D]"):l.el.removeAttr("title")},save:function(c){l.switchClass("jfk-button-disabled");I(c)?(l.el.html("Saving ...").attr("data-state","saving"),l.title(),window.setTimeout(function(){l.save(a("#"+b.tID).val())},600)):(b.tmp_text=c.toString(),z(p+"TMP_TEXT",b.tmp_text),l.el.html("Saved").attr("data-state","saved"),l.dsc.html("Saved seconds ago"),r(b.isKeyPressed)&&delete b.isKeyPressed,b.timeOld=(new Date).getTime())},clear:function(){b.tmp_text="";z(p+"TMP_TEXT",b.tmp_text);l.title("continue");l.el.html("Draft");l.switchClass("jfk-button-disabled");l.dsc.html("blank")},quick_check:function(){b.$w.setTimeout(function(){l.provide_draft()},300);b.sITryLiveDrafting=b.$w.setTimeout(function(){l.check()},5e3)},switchClass:function(a){l.el.addClass(a).removeClass("gbtn"==a?"jfk-button-disabled":"gbtn")}},s={init:function(){s.tcui="tabs-content-upl-inner";s.self="box-upload";s.sibl="box-smiley";s.def="kaskus";s.main()},menus:function(){var a=0,c="";if(b.upload_sel)for(host in c+='<li><div style="padding-left:30px;"><b>:: Services :: </b></div></li><li><div style="height:1px"></div></li><li class="qrt curent"><div id="tphost_0" title="kaskus.us" data-host="kaskus">kaskus</div></li>',b.upload_sel)c+='<li class="qrt"><div id="tphost_'+(a+1)+'" title="'+b.upload_sel[host]+'" data-host="'+host+'">'+host+"</div></li>",a++;return c},event_menus:function(){a("#tabs-content-upl .qrt").each(function(){a(this).click(function(){var b=a(this).find("div:first");b.attr("id").replace(/tphost_/gi,"");b=b.attr("data-host");s.switch_tab(b);a(this).closest("#ul_group").find(".curent").removeClass("curent");a(this).addClass("curent")})});a("#toggle-sideuploader").click(function(){var b,c,d=a(this).attr("data-state");ucw=parseInt(a("#uploader_container").css("width").replace(/px/,""));b=a(this).closest(".wraper_custom").find(".cs_left");c=a("#uploader_container");"hide"==d?(a(b).hide(),a(c).css("width",ucw+131).css("max-width",ucw+131)):(a(b).show(),a(c).css("width",ucw-131).css("max-width",ucw-131));a(this).html("hide"==d?"&#9658;":"&#9664;");a(this).attr("data-state","hide"==d?"show":"hide")})},tplcont:function(a){return'<div id="content_uploader_'+a+'" class="content_uploader" style="display:none" />'},main:function(){var c="",d=s.tcui;a("#"+d).html(m.getTPLUpload(s.menus()));s.event_menus();c=s.tplcont(s.def);for(host in b.upload_sel)c+=s.tplcont(host);a("#"+d+" #uploader_container").html(c);s.switch_tab(s.def);a("."+s.self).addClass("events");s.toggletab(!0)},switch_tab:function(c){if(c){var d,e="content_uploader_"+c;""==a("#"+e).html()&&(c==s.def?(a("#"+e).html('<div id="preview-image-outer"><div id="preview-image" /></div><div id="loading_wrp" style="display:none"><div class="mf-spinner chrome-spinner-delay" id="upl_loading" /></div><div id="image-control" class=""><div class="clickthumb" style="display:none">*Click thumbnail image to add to post content</div><input type="file" onchange="ajaxFileUpload();" name="forumimg" id="browse"/></div>'),ka(),Y(b.kkcdn+"css_v0.1/js/ajaxfileupload.js"),Y(m.getSCRIPT_UPL()),a("#"+s.tcui+" #preview-image").bind("DOMNodeInserted DOMNodeRemoved",function(b){"DOMNodeInserted"==b.type&&(a("#"+s.tcui+" .preview-image-unit").each(function(){var b=a(this);b.find("img");b.hasClass("event")||(b.find("img").click(function(){la(a(this))}),b.find(".modal-dialog-title-close").click(function(){a(this).closest(".preview-image-unit").remove();ka("remove")}),b.addClass("event"))}),ka("insert"))})):(d="ifrm_"+b.upload_sel[c].replace(/\W/g,""),d='<a style="position:absolute; top:10px; right:20px; height:16px; width:50px; border:0; font-weight:normal" href="javascript:;" id="ifrm_reload_'+c+'">reload</a><div style="margin:10px 3px 15px 30px; display:inline-block;"><a target="_blank" title="Goto '+c+'" href="http://'+b.upload_sel[c]+'"><b>http://'+b.upload_sel[c]+'</b></a></div><iframe id="'+d+'" src="http://'+b.upload_sel[c]+'" style="width:100%; height:300px"></iframe>',a("#"+e).html(d),a("#ifrm_reload_"+c).click(function(){var c=a(this).attr("id").replace(/ifrm_reload_/,""),d=b.upload_sel[c];a("#ifrm_"+b.upload_sel[c].replace(/\W/g,"")).attr("src","http://"+d)})));a("#"+e).parent().find(".content_uploader.curent").removeClass("curent").hide();a("#"+e).addClass("curent").show()}},toggletab:function(b){var c="."+s.self;b?(a(c+", .box-bottom").show(),a("."+s.sibl).hide()):a(c+", .box-bottom").hide()}},o={init:function(a){o.tci="tabs-content-inner";o.tch="tab-content-hidden";o.self="box-smiley";o.sibl="box-upload";a||(a="tabs-sb-tkecil");o.init_container();o.load_smiley(a)},init_container:function(){var b,c=a("#"+o.tci),d=["tabs-sb-tkecil","tabs-sb-tbesar","tabs-sb-tcustom"];b=d.length;a(c).html("");for(var e=0;e<b;e++)a(c).append('<div id="'+d[e]+'" class="sml_main" style="display:none" />')},init_scustom:function(c,d){a("#"+c).html(m.getTPLCustom(o.menus_scustom()));var e,f="",g=0,f='<input type="hidden" id="current_grup" value="'+(b.smgroup&&0<b.smgroup.length?b.smgroup[0]:"")+'" /><input type="hidden" id="current_order" value="'+(b.smgroup?"0":"")+'" /><input type="hidden" id="scustom_todo" value="" /><input type="hidden" id="scustom_todel" value="" />';a("#custom_bottom").append(f);e='<select id="pos_group_sets" tabindex="505" style="width: 50px;" class="gbtn">';f="";for(grup in d)f+='<div id="content_scustom_container_'+grup+'" class="content_scustom" style="display:none"></div>',e+='<option value="'+g+'">'+(g+1)+"</option>",g++;e+="</select>";f&&(a("#scustom_container").html(f).show(),a("#position_group").html(e),a("#manage_help, #manage_cancel, #dv_menu_disabler").hide(),a("#custom_bottom, #title_group").show())},menus_scustom:function(){var a,c;c='<li class="qrt_first"><div style="height:1px"></div></li><li class="qrt add_group"><div class="add_group">Add Group</div></li><li><div style="height:1px"></div></li>';if(b.smgroup&&0<b.smgroup.length){a=b.smgroup.length;for(var d=0;d<a;d++)c+='<li class="qrt'+(0==d?" curent":"")+'"><div id="tbgrup_'+d+'" title="'+b.smgroup[d].replace(/_/g," ")+'">'+b.smgroup[d]+'<span class="num">'+(d+1)+"</span></div></li>";c+='<li class="qrt_first"><div style="height:1px"></div></li>'}return c},save_scustom:function(c){z(p+"CUSTOM_SMILEY",c,function(){var c=parseInt(a("#pos_group_sets").val());a("#tabs-sb-tcustom").html("");m.getSmileySet(!0,function(){o.init_scustom("tabs-sb-tcustom",b.smcustom);o.event_scustom();o.refresh_menus();a("#tbgrup_"+c).get(0)?a("#tbgrup_"+c).click():a("#tbgrup_0").click()})})},event_menus:function(){a("li.add_group").click(function(){var b=Math.random().toString(),b=b.replace(/0\./g,"").substring(0,3);a(this).addClass("curent");a("#label_group").html("Add Group");a("#manage_btn").html("Save");a("#textarea_scustom_container").val("").height(100);a("#input_grupname").val("untitled_"+b);a("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler").show();a("#scustom_container, #title_group").hide();a("#delete_grupname").hide();a("#label_group").click();a("#scustom_todo").val("add")});a("#tabs-sb-tcustom .qrt").each(function(){a(this).hasClass("add_group")||a(this).click(function(){var c,d,e,f;c=a(this).find("div:first").attr("id").replace(/tbgrup_/gi,"");f=b.smgroup[c];a("#content_scustom_container_"+f).get(0)&&(a("#scustom_container").find(".content_scustom.curent").removeClass("curent").empty().hide(),a("#content_scustom_container_"+f).addClass("curent").show());a("#current_grup").val(f);a("#current_order").val(c);a("#title_group").html(f.replace(/_/g," "));a(this).closest("#ul_group").find(".curent").removeClass("curent");a(this).addClass("curent");b.smcustom||m.getSmileySet(!0);if(b.smcustom&&b.smcustom[f]){d="";e=b.smcustom[f].length;for(var g=0;g<e;g++)if(B(b.smcustom[f][g])){if(c=K(b.smcustom[f][g],!0,"view"))/<br\s?\/?>/.test(c)?d+=c:(""!=d&&(d+="<br/>"),d+=c+"<br/>")}else if(j(b.smcustom[f][g][0]),null!=ra(b.smcustom[f][g][0]))d+='<img src="'+b.smcustom[f][g][0]+'" alt="_alt_'+b.smcustom[f][g][1]+'" title="[['+b.smcustom[f][g][1]+"] &#8212;"+b.smcustom[f][g][0]+'" /> ';else try{d+='<span title="[['+b.smcustom[f][g][1]+"] "+da("&#8212;")+" "+unescape(b.smcustom[f][g][0])+'" class="nothumb">'+unescape(b.smcustom[f][g][0])+"</span> "}catch(h){}a("#content_scustom_container_"+f).html(d);o.event_img("#"+o.tci+" #tabs-sb-tcustom","tcustom")}})})},event_scustom:function(){a("#label_group").click(function(){b.$w.setTimeout(function(){a("#input_grupname").focus()},100)});a("#input_grupname").focus(function(){a(this).select()}).keydown(function(b){13==b.keyCode?(y(b),a("#manage_btn").click()):27==b.keyCode&&a("#manage_cancel").click()});a("#manage_help").click(function(){alert("Each Smiley separated by newline.\nFormat per line:\n tag|smileylink\n eg.\ncheers|http://static.kaskus.us/images/smilies/sumbangan/smiley_beer.gif\n\n\nUse Custom Smiley BBCODE with this format:\n eg.\n[[yourtag]\n")});a("#manage_cancel").click(function(){a("li.add_group").removeClass("curent");a("#manage_help, #manage_cancel, #custom_addgroup_container, #dv_menu_disabler, #position_group").hide();a("#scustom_container, #title_group").show();0<b.smgroup.length?(a("#manage_btn").html("Manage"),a("#custom_bottom").show()):a("#custom_bottom").hide()});a("#manage_btn").click(function(){var c=a(this).html().toLowerCase();if("save"==c){var d,e=function(){return u(a("#input_grupname").val().replace(/[^a-z0-9]/gi,"_").replace(/_{2,}/g,"_"))};d=e();todel=a("#scustom_todel").val()==d;var f=function(a){if(""!=a){var b,c,d="",e={"\\|{2,}":"|","(\\r\\n){2,}":"\r\n{sctag:br}\r\n,","(\\n){2,}":"\n{sctag:br}\n"},a=a.replace(/[\[\]\,]/g,"");for(c in e)B(e[c])&&(b=RegExp(c,"g"),a=a.replace(b,e[c]));a=document.all?a.split("\r\n"):a.split("\n");b=a.length;for(e=0;e<b;e++)if(B(a[e]))if(a[e]=u(a[e]),(c=/([^|]+)\|([\w\W]+)/.exec(a[e]))&&r(c[1])&&r(c[2]))d+=c[1]+"|"+(/^https?\:\/\/.+$/i.test(c[2])?c[2]:escape(c[2]))+",";else if(c=K(a[e],!1,"saving"))d+=c+","}return d};if(c=a("#textarea_scustom_container").val())c=f(u(c));""==u(d)?alert("Group Name can not be empty"):c?function(c,f){var g="",h,i,j,k;j=a("#scustom_todo").val();c||o.save_scustom(!1);if("add"==j&&b.smcustom[d])alert("Group Name is already exists"),o.save_scustom(!1);else if("edit"==j&&(i=a("#current_order").val(),h=[i?i:"",a("#current_grup").val()],k=a("#pos_group_sets option:selected").val(),""!=h[0]&&k!=h[0]&&b.smgroup)){var l=b.smgroup[h[0]];i=[];b.smgroup[h[0]]=null;k>h[0]&&b.smgroup.splice(h[0],1);b.smgroup.splice(k,0,l);for(h=0;h<b.smgroup.length;h++)b.smgroup[h]&&i.push(b.smgroup[h]);b.smgroup=i}var m,n={},q,r,s;t(p+"CUSTOM_SMILEY",function(h){var h=h?h.split("<!>"):[],i=h.length;if(i)for(var k=0;k<i;k++)part=h[k].split("<!!>"),n[""+part[0]]=""+part[1];q=b.smgroup?b.smgroup.length:0;if("edit"==j){h=a("#current_order").val();h=[h?h:"",a("#current_grup").val()];m=""!=h[1]&&""!=d&&d!=h[1];for(i=0;i<q;i++)r=b.smgroup[i].toString(),r==h[1]?f?d=!1:(n[r]=c.toString(),d=u(m?e():h[1]).replace(/\!/g,"\\!")):d=r,g+=d?d.toString()+"<!!>"+n[r]+(i+1<q?"<!>":""):""}else{s=!1;if(b.smgroup)for(i=0;i<q;i++)r=b.smgroup[i].toString(),s=s||r==d,g+=r+"<!!>"+n[r]+(s?c.toString():"")+(i+1<q?"<!>":"");s||(g+="<!>"+d.toString()+"<!!>"+c.toString())}o.save_scustom(g)})}(c,todel):alert("Invalid tag and/or smiley format")}else if("manage"==c){a(this).html("Save");a("label_group").html("Group");a("#scustom_todo").val("edit");a("#manage_help, #manage_cancel, #custom_bottom, #custom_addgroup_container, #dv_menu_disabler, #position_group, #delete_grupname").show();a("#scustom_container, #title_group").hide();d=a("#current_grup").val();var g="";a("#input_grupname").val(d);c=a("#current_order").val();a("#pos_group_sets option[value="+c+"]").attr("selected","selected");t(p+"CUSTOM_SMILEY",function(b){for(var b=b.split("<!>"),c=b.length,e=0;e<c;e++)part=b[e].split("<!!>"),d==part[0]&&(g=unescape((""+part[1]).replace(/,/g,"\n").replace(/{sctag\:br}/g,"")));a("#textarea_scustom_container").val(g);a("#input_grupname").focus()})}});a("#delete_grupname").click(function(){var b=a("#current_grup").val();confirm("You are about to delete this Group.\nName: "+b+"\n\nContinue delete this group?\n")&&(a("#scustom_todel").val(b),a("#manage_btn").click())});a("#textarea_scustom_container, #delete_grupname, #manage_help").keydown(function(c){var d,e,f=c.keyCode||c.keyChar;e=a(this).attr("id");if("manage_help"==e){if(a("#pos_group_sets").is(":visible"))return!0;d="#input_grupname"}else d="delete_grupname"==e?"#input_grupname":"#manage_btn";9===f&&(y(c),b.$w.setTimeout(function(){a(d).focus()},50))});o.event_menus()},event_img:function(b,c){a(b+" img").each(function(){a(this).click(function(){la(a(this))})});a(b+" span").each(function(){a(this).click(function(){la(a(this))})});o.setClassEvents(c)},setClassEvents:function(b){for(var c=["tkecil","tbesar","tcustom"],d=c.length,e=0;e<d;e++)a("."+o.self).removeClass("events-"+c[e]);a("."+o.self).addClass("events-"+b)},refresh_menus:function(){a("#ul_group").html(o.menus_scustom());o.event_menus()},load_smiley:function(c){(!b.smbesar||!b.smkecil||!b.smcustom)&&m.getSmileySet();c||(c="tabs-sb-tkecil");if(a("#"+c).hasClass("filled"))o.switch_tab(c);else{var d,e,f="",g=o.tch;d=c.replace("tabs-sb-","");e="tkecil"==d?b.smkecil:"tbesar"==d?b.smbesar:b.smcustom;a("."+o.self).append('<div id="'+c+'" class="'+g+'"></div>');b.$w.setTimeout(function(){"tabs-sb-tcustom"!=c?(a.each(e,function(a,c){f+='<img src="'+b.kkcdn+"images/smilies/"+c[0]+'" alt="'+c[1]+'" title="'+c[1]+" &#8212;"+c[2]+'" /> '}),a("#"+c).html(f),o.event_img("#"+c,d)):(o.init_scustom(c,e),o.event_scustom(),a("#tbgrup_0").click());""!=a("#"+c).html&&a("#"+c).addClass("filled");o.switch_tab(c)},1)}},switch_tab:function(b){""==a("#"+b).html()?o.load_smiley(b):(a("#"+o.tci).find(".active").removeClass("active").hide(),a("."+o.self+" #tabs-loader").hide(),a("#"+b).addClass("active").show())},toggletab:function(b){var c="."+o.self;b?(a(c+", .box-bottom").show(),a("."+o.sibl).hide()):a(c+", .box-bottom").hide()}},P={e:{dialogname:"qr-modalBoxFaderLayer",boxsetting:"modal_setting_box"},init:function(){O();a("body.forum").addClass("hideflow");P.main()},main:function(){a("#"+P.e.dialogname).css("visibility","visible").show();a("body").prepend(m.getTPLSetting());P.design();V(a("#"+P.e.boxsetting),130,function(){P.event_main()});Q(650)},design:function(){var b,c=0,d="";b={gen:["General",m.getTPLGeneral()],exim:["Export / Import",m.getTPLExim()],kbs:["Keyboard Shortcut",m.getTPLShortcut()],abt:["About",m.getTPLAbout()]};d='<ul id="ul_group" class="qrset_mnu settingmnu">';a("#box_setting .cs_right").html("");for(tipe in b)"string"==typeof tipe&&(d+='<li data-ref="'+tipe+'" class="qrt'+(0==c?" curent":3==c?" qrset_lasttab":"")+'"><div>'+b[tipe][0]+"</div></li>",a("#box_setting .cs_right").append('<div class="stg_content'+(0==c?" isopen":"")+'" id="stg_content_'+tipe+'" style="display:none;">'+(b[tipe][1]?b[tipe][1]:"")+"</div>"),c++);a("#box_setting .cs_left").html(d+"</ul>");a("#box_setting .st_contributor").scrollTop(0);a("#qr-modalBoxFaderLayer .cnv").remove();a("#qr-modalBoxFaderLayer").append('<canvas class="cnv" style="" />')},event_main:function(){a("#box_setting .qrt").each(function(){a(this).click(function(){var b,c=a(this).attr("data-ref");a(this).parent();a("#box_setting").find(".isopen").removeClass("isopen").hide();a("#stg_content_"+c).addClass("isopen").show();a(this).parent().find(".curent").removeClass("curent");a(this).addClass("curent");a("#box_preview_subtitle").html(" &#187; "+a(this).find("div").html());b=a("#box_action");b.html("Save");"exim"==c?(a("#textarea_rawdata").val()||P.load_rawsetting(),a(b).html("Import").removeClass("jfk-button-disabled").attr("data-act","import")):"gen"==c?a(b).removeClass("jfk-button-disabled").attr("data-act","update"):a(b).addClass("jfk-button-disabled").attr("data-act","none");a(b).attr("data-todo",c)})});a("#box_setting .optchk").each(function(){a(this).click(function(){var b,c,d=a(this).attr("id");b=a(this).parent().find("#"+d+"_child");c=a(this).is(":checked");a(b).css("display",c?"block":"none");"misc_autolayout"==d&&a("#edit_tpl_cancel").css("display",c?"":"none")})});a("#edit_tpl_cancel").click(function(){a("#misc_autolayout").removeAttr("checked").click().removeAttr("checked")});b.noCrossDomain||a("#chk_upd_now").click(function(){a("#chk_upd_load").show();a(this).hide();C.caller="#"+a(this).attr("id");C.check(!0)});var c,d,e=function(b){return a(b).is(":checked")};a("#box_action").click(function(){if("update"==a(this).attr("data-act")){var g,h;h="";var i=0,j=function(){a("#box_action").html("Save").removeClass("jfk-button-disabled");return!1};a("#box_action").html("Saving..").addClass("jfk-button-disabled");b.settings.updates=e("#misc_autolayout");d=b.settings.updates?"1":"0";g=u(a("#edit_tpl_txta").val().toString());""==g&&(g="[B]{message}[/B]");d&&-1!=g.toLowerCase().indexOf("{message}")?(ua(b.user.id,("0,"+d).toString(),"LAYOUT_CONFIG"),b.settings.userLayout.template=c=g,ua(b.user.id,encodeURIComponent(c),"LAYOUT_TPL",["<!>","::"])):(i=1,h='Invalid Layout format.\nCan\'t find "{message}" in template.\n\neg. [B]{message}[/B]');if(i&&d)return alert(h),j();var k,l;if(e(a("#misc_hotkey"))){g=["misc_hotkey_ctrl","misc_hotkey_shift","misc_hotkey_alt"];h=[!b.isOpera?"0,0,1":"1,0,1","1,1,0"];i=g.length;k=[];for(var m=0;m<i;m++)B(g[m])&&k.push(e(a("#"+g[m]))?"1":"0");l=a("#misc_hotkey_char").val().toUpperCase();if("Q"==l&&(h[0]==""+k||h[1]==""+k))if(confirm("Hotkey is already reserved:\n ["+(!b.isOpera?"Alt + Q":"Ctrl + Alt +Q")+"] : Fetch Quoted Post\n [Ctrl + Shift + Q] : Deselect Quote\n\nDo you want to make a correction?"))return j()}else k=["0,0,0"];if(0==l.length||l&&l.match(/[A-Z0-9]{1}/))b.settings.hotkeykey=""+k,b.settings.hotkeychar=""+l,z(p+"QR_HOTKEY_KEY",""+k,function(){z(p+"QR_HOTKEY_CHAR",""+l)});b.$w.setTimeout(function(){d=e("#misc_updates")?"1":"0";z(p+"UPDATES",d.toString(),function(){c=a("#misc_updates_interval").val();c=isNaN(c)||c<=0?1:c>99?99:c;z(p+"UPDATES_INTERVAL",c.toString(),function(){b.$w.setTimeout(function(){ma(b.settings);P.cold_boot();a("#modal_setting_box #box_cancel").click()},200)})})},400)}else{var n,o;a("#textarea_rawdata").addClass("jfk-button-disabled");o=u(a("#textarea_rawdata").val());if(b.buftxt&&o==u(b.buftxt))a("#box_action").val("Nothing changed.."),b.buftxt&&delete b.buftxt,window.setTimeout(function(){a("#box_cancel").click()},750);else if(confirm("Are you sure to update these settings?\nYour current settings will be lost.\n\nPage may need to reload to apply new Settings.\n")){a("#box_action").val("Saving..");o=o.split("\n");n=o.length;var q,s=!1,t=function(a){var c=u(o[a]);if(q=c.match(/^\[([^\]]+)]/))q[1]=u(q[1]),s=r(X[p+q[1]])?q[1]:!1;else if(s&&c&&!c.match(/^\#\s(?:\w.+)*/))try{z(p+s,c.toString(),function(){s=!1})}catch(d){}a++;a<n?t(a):b.$w.setTimeout(function(){ma(b.settings);b.$w.setTimeout(function(){location.reload(!1)},50)},200)};t(0)}else a("#textarea_rawdata").removeClass("jfk-button-disabled")}});a("#exim_select_all").click(function(){a("#textarea_rawdata").focus();T(a("#textarea_rawdata").get(0))});a("#reset_settings").click(function(){t(p+"CUSTOM_SMILEY",function(a){var c,d,e=["http://www.kaskus.us/showthread.php?t=3170414","http://userscripts.org/topics/58227"];d="";for(c=0;20>c;c++)d+=" ";c=(""!=a.replace(/^\s+|\n|\s+$/g,"")?da("&#182;")+" ::Alert::\nCustom Smiley detected. You might consider of losing it.\n\n":"")+"This will delete/reset all saved data.\nPlease report any bug or some bad side effects here:"+d+"\n"+e[1]+"\nor\n"+e[0]+"\n\n"+da("&#187;")+" Continue with Reset?";if(confirm(c)){var a="SAVED_AVATAR,LAST_SPTITLE,LAST_UPLOADER,HIDE_AVATAR,MIN_ANIMATE,UPDATES_INTERVAL,UPDATES,QUICK_QUOTE,CUSTOM_SMILEY,TMP_TEXT,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_SIGI,LAYOUT_TPL,PRELOAD_RATE,QR_LastUpdate,QR_COLLAPSE,QR_LASTPOST,UPLOAD_LOG,CSS_BULK,CSS_META,UPLOAD_LOG,UPLOAD_LOG,DYNAMIC_QR,COUNTDOWN".split(","),f=a.length,g=0;for(c=0;c<f;c++)try{B(a[c])&&ta(p+a[c],function(){g++;g>=f&&b.$w.setTimeout(function(){location.reload(!1)},500)})}catch(h){}}})});a("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){O()});a("#box_setting .curent").click();a("#"+b.tID).blur()},cold_boot:function(){""==a("#tabs-content-inner").html()||a("#tabs-sb-tcustom").get(0)&&""==a("#tabs-sb-tcustom").html()||(b.smcustom=null,a("#tabs-sb-tcustom").html(),o.load_smiley("tabs-sb-tcustom"))},load_rawsetting:function(){var c="UPDATES,UPDATES_INTERVAL,HIDE_AVATAR,QR_HOTKEY_KEY,QR_HOTKEY_CHAR,QR_DRAFT,LAYOUT_CONFIG,LAYOUT_TPL,CUSTOM_SMILEY".split(","),d={UPDATES:"Check Update enabled? validValue=[1,0]",UPDATES_INTERVAL:"Check update Interval (day); validValue=[0< interval < 99]",QR_DRAFT:"Mode QR-Draft; validValue=[1,0]",HIDE_AVATAR:"Mode Show Avatar. validValue=[1,0]",QR_HOTKEY_KEY:"Key of QR-Hotkey; [Ctrl,Shift,Alt]; validValue=[1,0]",QR_HOTKEY_CHAR:"Char of QR-Hotkey; validValue=[A-Z0-9]",LAYOUT_CONFIG:"Layout Config; [userid=isNaN,isEnable_autoLAYOUT]; isEnable's validValue=[1,0]",LAYOUT_TPL:"Layout Template; [userid=LAYOUT]; validValue of LAYOUT is must contain escaped {MESSAGE}",CUSTOM_SMILEY:"Smiley Custom's Raw-Data; [tagname|smileylink]"},e=c.length;b.buftxt="# QR-Settings Raw-Data\n";b.buftxt+="# Version: QR"+(0!==R?"+":"")+" "+b.sversion+"\n";b.buftxt+="# Source: http://userscripts.org/scripts/show/"+b.scriptMeta.scriptID+"\n";b.buftxt+="# User-Agent: "+window.navigator.userAgent.replace(/\s*\((?:[^\)]+).\s*/g," ").replace(/\//g,"-")+"\n";b.buftxt+="# Date-Taken: "+function(){var a=new Date;return a.getFullYear().toString()+"-"+(1==(a.getMonth()+1).toString().length?"0":"")+(a.getMonth()+1)+"-"+(1==a.getDate().toString().length?"0":"")+a.getDate()+", "+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")[a.getDay()]+". "+(1==a.getHours().toString().length?"0":"")+a.getHours()+":"+(1==a.getMinutes().toString().length?"0":"")+a.getMinutes()+":"+(1==a.getSeconds().toString().length?"0":"")+a.getSeconds()}()+"\n";b.buftxt+="\n";var f=function(g){t(p+c[g],function(h){var i=c[g];h&&i&&(b.buftxt+="# "+d[i]+"\n",b.buftxt+="["+i+"]\n"+h+"\n\n");g+1<e?(g++,f(g)):b.$w.setTimeout(function(){a("#textarea_rawdata").val(b.buftxt).removeAttr("readonly")},200)})};f(0)}},D={engage:!1,init:function(){D.path_uri=b.kqr_static;D.css_name="";D.run("",D.callback)},run:function(a,b){a||(a="style.txt");E.uri=D.path_uri+a;j("fetch css: "+E.uri);E.cached=!1;E.forceGM=!0;E.request(null,"GET",b)},callback:function(a){if(a=""+a.responseText){var b,c,d=a.split("\n");c=d.length;for(var e=0;e<c;e++)if(""!=u(d[e])){b=u(d[e]);break}D.css_name=b;D.run(a,D.callback_fin)}},callback_fin:function(a){(a=u(""+a.responseText))&&D.set_css(a)},set_css:function(a,b){z(p+"CSS_BULK",a,function(){U(a,"xhr_css",1);var c=D.css_name+";"+(new Date).getTime().toString();z(p+"CSS_META",c,function(){"function"==typeof b&&b()})})}},C={caller:"",check:function(a){if(!(r(R)&&0!==R)){var c=36e5*b.settings.updates_interval;t(p+"QR_LastUpdate",function(e){e||(e=0);if(a||parseInt(e)+parseInt(c)<=(new Date).getTime())b.updateForced=a,a||(C.caller=""),E.uri="http://userscripts.org/scripts/source/"+b.scriptMeta.scriptID+".meta.js",E.cached=!1,E.forceGM=!0,E.request(null,"GET",C.callback)})}},callback:function(c){var d=(new Date).getTime()+"";z(p+"QR_LastUpdate",d,function(){a(C.caller).get(0)&&(a(C.caller).parent().find(".uloader").hide(),a(C.caller).show());try{c&&c.responseText.match(/@timestamp(?:[^\d]+)([\d\.]+)/)[1]>b.scriptMeta.timestamp?(C.initiatePopup(c.responseText),b.updateForced&&(O(),a("#nav-wrapper .update").click())):b.updateForced&&alert("No update is available for QR.")}catch(d){}})},initiatePopup:function(b){a(".button-bottom").append('<div class="baloon-update" style="display:none"><a href="javascript:;">&nbsp;</a></div>');a(".baloon-update").fadeIn(500,function(){a(".baloon-update a").click(function(){C.meta=C.mparser(b);a("#qr-modalBoxFaderLayer").css("visibility","visible").show();a("body").prepend(m.getTPLUpdate());a("#modal_update_box").fadeIn(130,function(){C.design();C.event()});Q(450)})})},design:function(){var c="<b>New "+b.titlename+"</b> (v"+C.meta.cvv[1]+') is available<div style="float:right;"><a class="qbutton" href="http://userscripts.org/scripts/show/'+b.scriptMeta.scriptID+'" target="_blank" title="QR Home in userscripts.org"><b>v'+C.meta.cvv[1]+"</b></a></div>";a("#box_update_title").html(c);c='<h4 class="isclose"><span>&#9654;</span> What\'s New</h4><div class="update-panel toggle-panel" style="display:none;">'+C.meta.news+"<br/></div>";a("#content_update").addClass("help-content").html(c)},event:function(){a("#box_cancel, .modal-dialog .modal-dialog-title-close").click(function(){O()});a("#content_update h4").click(function(){var b,c,d=a(this);a(this).parent().find(".toggle-panel").slideToggle(160,function(){b=a(d).hasClass("isclose");c=a(this);b?(a(c).slideDown(160),a(d).removeClass("isclose")):(a(c).slideUp(),a(d).addClass("isclose"));a(d).find("span").html(b?"&#9660;":"&#9654;")})});a("#box_update").click(function(){a("#hid_updateframe").get(0)&&a("#hid_updateframe").remove();a("#content_update").append('<iframe id="hid_updateframe" src="http://userscripts.org/scripts/source/'+b.scriptMeta.scriptID+'.user.js" style="visibility:hidden; position:absolute; border:0; height:0; width:0;"></iframe>');a(this).addClass("jfk-button-disabled");b.$w.setTimeout(function(){a("#box_update").removeClass("jfk-button-disabled")},4e3)})},mparser:function(a){return{tv:a.match(/@timestamp(?:[^\d]+)([\d]+)/)||[null],cvv:a.match(/@version(?:[^v\d]+)([\d\.\w]+)/)||[null],news:function(a){var b,c=["// -!--latestupdate","// -/!latestupdate---"];b=[a.indexOf(c[0]),a.indexOf(c[1])];return(-1!=b[0]&&-1!=b[1]?(""+a.substring(b[0]+c[0].length,b[1])).replace(/\/+\s*/gm,function(){return" "}):"").replace(/</g,"<").replace(/>/g,">").replace(/(?:\r\n|\n|\r)/gi,"<br/>")}(a)}}},H={init:function(b,c){var d,e=[];a(".multi-quote.active").each(function(){d=a(this).closest(".post-wrapper");a(d).get(0)&&e.push(a(d).attr("id"))});0==e.length?(j("no multiquote, perform to this calee"),d=a(b).closest(".post-wrapper"),a(d).get(0)&&e.push(a(d).attr("id"))):a("#sdismiss_quote").click();H.cb=c;H.mqs_id=e;H.title=!1;H.start()},start:function(){var b,c,d,e;a.each(H.mqs_id,function(){e=this;d=a("#"+e).find(".entry-content");a(d).get(0)&&(c=(""+a(d).html()).replace(/(\r\n|\n|\r|\t|\s{2,})+/gm,""),c=c.replace(/(?:<\!-{2,}reason\s?[^>]+.)+/gi,""),b=H.parseMSG(c),j("ret to parseMSG="+b),i.init(),b&&i.add("[QUOTE="+H.get_quotefrom(e)+"]"+b+"[/QUOTE]\n\n"))})},get_quotefrom:function(b){var c,d=G("div",{},a("#"+b).find(".fn").html());c=u(a(d).text().toString().replace(/\[\$\]$/,""));a(d).remove();return u(c)+";"+b.replace(/^post/i,"")},clearTag:function(a,b){return I(b)?u(a.replace(/<\/?[^>]+>/gm,""))||"":a.replace(RegExp("[\\r\\n\\t]?<\\/?(?:"+b+")(?:[^>]+)?.[\\r\\n\\t]?","gim"),"")},parseTITLE:function(b){var c;c=a("img",a(b));c=a(c).get(0)?sa(a(c).attr("src")).replace(/\./g,""):"";H.title={icon:c,text:a(b).text()}},parseMSG:function(c){var d,e,f,g,h,i,k,l,n,o;d=[];e=[];f=[];g=[];o=!1;var p=function(a){return a.replace(/\>/gm,">").replace(/\</gm,"<").replace(/\&/gm,"&")},q=function(c,h,i){j("inside parseSerials 2up=["+i.toUpperCase()+"]");if(-1!=a.inArray(i.toUpperCase(),["B","I","U"]))return"["+(h?"/":"")+i.toUpperCase()+"]";if(/^span\s/i.test(i)||"SPAN"==i.toUpperCase()){c=i.match(/\/?span(?:\srel=['"]([^'"]+))?/i);if(r(c[1]))if(-1!=c[1].indexOf("spoiler")){e.push("SPOILER");i=c[1].split("-");if(r(i[1])&&i[1].length){n=G("div",{style:"display:none"},c[1].replace(i[0]+"-",""));i[1]=u(n.childNodes[0].nodeValue);try{F.remove(n)}catch(q){}}c[1]='SPOILER="'+(!i[1]?"":i[1])+'"'}else e.push(c[1]);else c[1]=!1;(l=c&&c[1])&&-1==c[1].indexOf("=")&&(c[1]=c[1].toUpperCase());i=e.length-1;c=l?"["+c[1]+"]":r(e[i])?"[/"+e[i].toUpperCase()+"]":"";l||e.splice(i,1);return c}if(/^font\s+/i.test(i)||"FONT"==i.toUpperCase())return c=i.match(/\bfont(?:\s{1,}([^=]+).['"]([^'"]+))?/i),r(c[1])&&(c[1]="face"==c[1]?"font":c[1],d.push(c[1])),l=r(c[2])&&c[2],i=d.length-1,c="["+(l?c[1].toUpperCase()+'="'+c[2]+'"':"/"+(r(d[i])?d[i].toUpperCase():"???"))+"]",l||d.splice(i,1),c;if(/^div\s/i.test(i)||"DIV"==i.toUpperCase())return-1==i.indexOf("rel=")&&-1==i.indexOf("style=")?(c=i.match(/\/?div(?:\salign=['"]([^'"]+))?/i),r(c[1])&&g.push(c[1]),(l=c&&c[1])&&-1==c[1].indexOf("=")&&(c[1]=c[1].toUpperCase()),i=g.length-1,c=l?"["+c[1]+"]":r(g[i])?"[/"+g[i].toUpperCase()+"]":"",l||g.splice(i,1),c):"";if(/\shref=/i.test(i)||"A"==i.toUpperCase())return c=i.match(/\/?a\s*(?:(?:target|style|title|linkid)=[\'\"][^\'\"]+.\s*)*(?:\s?href=['"]([^'"]+))?/i),r(c[1])?(i=/^mailto:/.test(c[1])?"EMAIL":"URL","EMAIL"==i&&(c[1]=c[1].replace(/^mailto:/i,"")),f.push(i)):c[1]=!1,l=c&&c[1],i=f.length-1,c=c&&c[1]?r(f[i])?"["+f[i].toUpperCase()+"="+c[1]+"]":"":r(f[i])?"[/"+f[i].toUpperCase()+"]":"",l||f.splice(i,1),c;if(/^blockquote/i.test(i))return"["+(h?"/":"")+"INDENT]";if(/\ssrc=/i.test(i))if((c=i.match(/\ssrc=['"]([^'"]+)/i))&&r(c[1])){if(/^embed\s*/i.test(i))return k=c[1].replace(/^https?\:\/\/(?:w{3}\.)?youtube\.com\/(?:watch\?v=)?(?:v\/)?/i,""),c[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)?(k=p(p(unescape(k))),k=k.replace(/>/gm,">").replace(/</gm,"<"),"[YOUTUBE]"+k+"[/YOUTUBE]"):"";if(k=c[1].match(/\byoutube\.com\/(?:watch\?v=)?(?:v\/)?([^&]+)/i)){if(k)return"[YOUTUBE]"+k[1]+"[/YOUTUBE]"}else if(k=i.match(/img\s*(?:(?:alt|src|class|border)=['"](?:[^'"]+)?.\s*)*title=['"]([^'"]+)/i)){if(k){i=c[1].indexOf("/smilies/");i=c[1].substring(i+9);i=i.replace(/[^\w]/g,"").toString();if(!o){var s={},t;(!b.smbesar||!b.smkecil)&&m.getSmileySet();t=b.smkecil;for(var v=0;v<t.length;v++)h=t[v],s[h[0].replace(/[^\w]/g,"").toString()]=h[1].toString();t=b.smbesar;for(v=0;v<t.length;v++)h=t[v],s[h[0].replace(/[^\w]/g,"").toString()]=h[1].toString();o=s}return r(o[i])?o[i]:"[IMG]"+c[1]+"[/IMG]"}}else return"[IMG]"+c[1]+"[/IMG]"}else return"";else return c};h=G("div",{style:"display:none"},c);for(var c=J('.//span[starts-with(@id,"KSA-")]',h),s=c.snapshotLength-1;0<=s;s--)(i=c.snapshotItem(s))&&F.remove(i);a(h).html(function(b){var c,d,e,f=h;r(b)&&(b=(""+b).replace(/<(\/?)([^>]+)>/gm,q),f=G("div",{style:"display:none"},b));j("inside revealQuoteCode\n"+a(f).html());b=J('.//span[@class="post-quote"]',f);j(" quote objects len = "+b.snapshotLength);if(b.snapshotLength)for(var g=0;g<b.snapshotLength;g++)if(c=b.snapshotItem(g),a(c).html().match(/Quote:/))j("ada Quote"),d=document.createTextNode("\n"),c.parentNode.replaceChild(d,c);else if(e=a(c).html().match(/(?:(HTML|PHP)\s{1})*Code:/))d=c.parentNode,F.remove(c),e=e&&e[1]?e[1]:"CODE",c=a(d).html(),"CODE"==e&&(c=u((""+c).replace(/<(\/?)([^>]+)>/gm,q))),c=c.replace(/\&nbsp;/gi," "),c="["+e+"]"+ca(H.clearTag(c))+"[/"+e+"]\n",c=document.createTextNode(c),d.parentNode.replaceChild(c,d);a(".edited",a(f)).remove();return a(f).html()}());j("pCon="+a(h).html());i=a("h2",a(h));a(i).get(0)&&(j("judul="+i.html()),H.parseTITLE(i),a("h2",a(h)).remove());a(".spoiler",a(h)).each(function(){var b;b=a(this).find("#bbcode_inside_spoiler").html();b="[SPOILER="+a(this).find("i").text()+"]"+b+"[/SPOILER]";b=document.createTextNode(b);a(this).replaceWith(a(b))});j("pCon after spoiler="+a(h).html());c=p(a(h).html());c=c.replace(/<br\s*\/?>/g,"\n");j("x decoded "+c);delete h;c=u((""+c).replace(/<(\/?)([^>]+)>/gm,q));j("ret="+c);return ca(H.clearTag(c))}},E={uri:null,returned:null,forceGM:!1,cached:!1,events:!1,request:function(a,b,c){if(E.uri){b=r(b)&&b?b:"GET";a=r(a)&&a?a:null;"function"!=typeof c&&(c=null);var d={method:b,url:E.uri+(E.cached?"":(-1==E.uri.indexOf("?")?"?":"&rnd=")+Math.random().toString().replace("0.","")),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:B(a)?a:"",onload:function(d){503==d.status?(j("Reach 503, retrying..."),window.setTimeout(E.request(a,b,c),777)):null!=c?c(d):E.returned=d}};E.forceGM?GM_xmlhttpRequest(d):Na(d)}}},Na=function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(a.onreadystatechange)a.onreadystatechange(b);if(4==b.readyState&&a.onload)a.onload(b)};b.onerror=function(){if(a.onerror)a.onerror(b)};try{b.open(a.method,a.url,!0)}catch(c){if(a.onerror)a.onerror({readyState:4,responseHeaders:"",responseText:"",responseXML:"",status:403,statusText:"Forbidden"});return}if(a.headers)for(name in a.headers)b.setRequestHeader(name,a.headers[name]);b.send(a.data);return b};
if("undefined"==typeof pa)var a;b.inner={reply:{title:"Quick Reply",stoken:"",submit:"Post Reply"},edit:{title:"Quick Edit",submit:"Save Changes"}};b.titlename=b.inner.reply.title+(0!==R?"+":"");b.domain="http://livebeta.kaskus.us/";b.kkcdn="http://kkcdn-static.kaskus.us/";b.kqr_static="http://dev-kaskus-quick-reply.googlecode.com/svn/trunk/statics/kqr/";
location.href.match(/^http:\/\/\w+\.kaskus\.us\/.+/)?(b.qID="qr-content-wrapper",b.tID="reply-messsage",b.def_title="Type new Title",b.loging_in="Logging in..",b.B=m.getSetOf("button"),b.uploader=b.upload_sel=b.settings=b.UA={},b.user={id:null,name:"",isDonatur:!1},b._securitytoken_prev=b._securitytoken=null,b.ajax_pid={},b.MQ_count=b.edit_mode=b.pID=b.maxH_editor=b.bodywidth=0,b.upload_tipe=b.last_postwrap="",b.offsetEditorHeight=160,b.offsetLayer=10,b.offsetMaxHeight=115,Ea(),b.css_default="kqr_quad"+
(b.__DEBUG__&&!b.isOpera?".dev":"")+".css",b.injected=!1,b.mx=30,b.ix=0,"undefined"==typeof pa?(b.noCrossDomain=b.isBuggedChrome=1,Ca()):Da()):Ma();
    }
function oa(b){var a=document.createElement("script");a.setAttribute("src",location.protocol+"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js");a.addEventListener("load",function(){var a=document.createElement("script");a.textContent="("+b.toString()+")();";document.body.appendChild(a)},!1);document.body.appendChild(a)}var ba;try{ba=GM_setValue.toString()}catch(Oa){ba=".errGSV"}
"undefined"==typeof chrome&&"undefined"==typeof ENV&&"undefined"==typeof GM_setValue||ba.match(/not\s+supported/i)?oa(N):"undefined"!=typeof chrome&&"undefined"!=typeof ENV?N("tamper"):"undefined"!=typeof GM_setValue&&N("GM");})();